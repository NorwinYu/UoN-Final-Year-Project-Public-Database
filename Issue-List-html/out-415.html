<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-0">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-846249b529e77688322e4171a1fe3047" data-file-deleted="false" data-file-type=".java" data-path="demo-simple/src/main/java/com/novoda/downloadmanager/demo/CustomFileSizeRequester.java" data-short-path="846249b">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="demo-simple/src/main/java/com/novoda/downloadmanager/demo/CustomFileSizeRequester.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/demo-simple/src/main/java/com/novoda/downloadmanager/demo/CustomFileSizeRequester.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="3 additions &amp; 3 deletions" class="diffstat tooltipped tooltipped-e">6 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-846249b529e77688322e4171a1fe3047" title="demo-simple/src/main/java/com/novoda/downloadmanager/demo/CustomFileSizeRequester.java">demo-simple/src/main/java/com/novoda/downloadmanager/demo/CustomFileSizeRequester.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-846249b529e77688322e4171a1fe3047" data-tab-size="8">
<tr data-position="0">
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-846249b529e77688322e4171a1fe3047HL1"></td>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-846249b529e77688322e4171a1fe3047HR1"></td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -1,15 +1,15 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="1" id="diff-846249b529e77688322e4171a1fe3047L1"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="1" id="diff-846249b529e77688322e4171a1fe3047R1"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">package</span> <span class="pl-smi">com.novoda.downloadmanager.demo</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="2" id="diff-846249b529e77688322e4171a1fe3047L2"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="2" id="diff-846249b529e77688322e4171a1fe3047R2"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="3" id="diff-846249b529e77688322e4171a1fe3047L3"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.novoda.downloadmanager.FileSize</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="4" id="diff-846249b529e77688322e4171a1fe3047L4"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="3" id="diff-846249b529e77688322e4171a1fe3047R3"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.novoda.downloadmanager.FileSizeCreator</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-846249b529e77688322e4171a1fe3047L5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="4" id="diff-846249b529e77688322e4171a1fe3047R4"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.novoda.downloadmanager.FileSizeRequester</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="5" id="diff-846249b529e77688322e4171a1fe3047R5"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.novoda.downloadmanager.FileSizeResult</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-846249b529e77688322e4171a1fe3047L6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-846249b529e77688322e4171a1fe3047R6"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-846249b529e77688322e4171a1fe3047L7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-846249b529e77688322e4171a1fe3047R7"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">class</span> <span class="pl-en">CustomFileSizeRequester</span> <span class="pl-k">implements</span> <span class="pl-e">FileSizeRequester</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-846249b529e77688322e4171a1fe3047L8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-846249b529e77688322e4171a1fe3047R8"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-846249b529e77688322e4171a1fe3047L9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-846249b529e77688322e4171a1fe3047R9"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">long</span> <span class="pl-c1">FILE_TOTAL_SIZE</span> <span class="pl-k">=</span> <span class="pl-c1">1000</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-846249b529e77688322e4171a1fe3047L10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-846249b529e77688322e4171a1fe3047R10"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-846249b529e77688322e4171a1fe3047L11"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-846249b529e77688322e4171a1fe3047R11"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="12" id="diff-846249b529e77688322e4171a1fe3047L12"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi x x-first x-last">FileSize</span> <span class="pl-en">requestFileSize</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="13" id="diff-846249b529e77688322e4171a1fe3047L13"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">FileSizeCreator</span><span class="pl-k">.</span>createFromTotalSize(<span class="pl-c1">FILE_TOTAL_SIZE</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="12" id="diff-846249b529e77688322e4171a1fe3047R12"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi x x-first x-last">FileSizeResult</span> <span class="pl-en">requestFileSize</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="13" id="diff-846249b529e77688322e4171a1fe3047R13"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi x x-first">FileSizeResult</span><span class="pl-k x">.</span><span class="x x-last">success(</span><span class="pl-smi">FileSizeCreator</span><span class="pl-k">.</span>createFromTotalSize(<span class="pl-c1">FILE_TOTAL_SIZE</span><span class="x x-first x-last">)</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="14" id="diff-846249b529e77688322e4171a1fe3047L14"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="14" id="diff-846249b529e77688322e4171a1fe3047R14"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-846249b529e77688322e4171a1fe3047L15"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-846249b529e77688322e4171a1fe3047R15"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-846249b529e77688322e4171a1fe3047HL1"></td>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-846249b529e77688322e4171a1fe3047HR1"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="1" id="diff-846249b529e77688322e4171a1fe3047L1"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="1" id="diff-846249b529e77688322e4171a1fe3047R1"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="2" id="diff-846249b529e77688322e4171a1fe3047L2"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="2" id="diff-846249b529e77688322e4171a1fe3047R2"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="3" id="diff-846249b529e77688322e4171a1fe3047L3"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="4" id="diff-846249b529e77688322e4171a1fe3047L4"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="3" id="diff-846249b529e77688322e4171a1fe3047R3"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-846249b529e77688322e4171a1fe3047L5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="4" id="diff-846249b529e77688322e4171a1fe3047R4"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="5" id="diff-846249b529e77688322e4171a1fe3047R5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-846249b529e77688322e4171a1fe3047L6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-846249b529e77688322e4171a1fe3047R6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-846249b529e77688322e4171a1fe3047L7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-846249b529e77688322e4171a1fe3047R7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-846249b529e77688322e4171a1fe3047L8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-846249b529e77688322e4171a1fe3047R8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-846249b529e77688322e4171a1fe3047L9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-846249b529e77688322e4171a1fe3047R9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-846249b529e77688322e4171a1fe3047L10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-846249b529e77688322e4171a1fe3047R10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-846249b529e77688322e4171a1fe3047L11"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-846249b529e77688322e4171a1fe3047R11"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="12" id="diff-846249b529e77688322e4171a1fe3047L12"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="13" id="diff-846249b529e77688322e4171a1fe3047L13"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="12" id="diff-846249b529e77688322e4171a1fe3047R12"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="13" id="diff-846249b529e77688322e4171a1fe3047R13"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="14" id="diff-846249b529e77688322e4171a1fe3047L14"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="14" id="diff-846249b529e77688322e4171a1fe3047R14"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-846249b529e77688322e4171a1fe3047L15"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-846249b529e77688322e4171a1fe3047R15"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-1">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-062959e43b499c57b72b65e6d2eff393" data-file-deleted="false" data-file-type=".java" data-path="library/src/main/java/com/novoda/downloadmanager/DownloadErrorFactory.java" data-short-path="062959e">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="library/src/main/java/com/novoda/downloadmanager/DownloadErrorFactory.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/library/src/main/java/com/novoda/downloadmanager/DownloadErrorFactory.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="10 additions &amp; 0 deletions" class="diffstat tooltipped tooltipped-e">10 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>
<a class="link-gray-dark" href="#diff-062959e43b499c57b72b65e6d2eff393" title="library/src/main/java/com/novoda/downloadmanager/DownloadErrorFactory.java">library/src/main/java/com/novoda/downloadmanager/DownloadErrorFactory.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-062959e43b499c57b72b65e6d2eff393" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-16" data-right-range="1-16" data-url="/novoda/download-manager/blob_excerpt/64e49cc92e7f4dfd5d52edf7610da1c93b370e11?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=17&amp;left_hunk_size=6&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadErrorFactory.java&amp;right=17&amp;right_hunk_size=16" href="#diff-062959e43b499c57b72b65e6d2eff393" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -17,6 +17,16 @@ static DownloadError createSizeMismatchError(DownloadFileStatus downloadFileStat</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-062959e43b499c57b72b65e6d2eff393L17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-062959e43b499c57b72b65e6d2eff393R17"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">DownloadError</span>(<span class="pl-smi">DownloadError</span><span class="pl-k">.</span><span class="pl-smi">Type</span><span class="pl-c1"><span class="pl-k">.</span>FILE_CURRENT_AND_TOTAL_SIZE_MISMATCH</span>, sizeMismatchMessage);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-062959e43b499c57b72b65e6d2eff393L18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-062959e43b499c57b72b65e6d2eff393R18"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-062959e43b499c57b72b65e6d2eff393L19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-062959e43b499c57b72b65e6d2eff393R19"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-062959e43b499c57b72b65e6d2eff393R20"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-smi">DownloadError</span> <span class="pl-en">createTotalSizeRequestFailedError</span>(<span class="pl-smi">DownloadFileId</span> <span class="pl-v">downloadFileId</span>, <span class="pl-smi">String</span> <span class="pl-v">url</span>, <span class="pl-smi">String</span> <span class="pl-v">errorCause</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="21" id="diff-062959e43b499c57b72b65e6d2eff393R21"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">String</span> networkErrorMessage <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Total size request failed for File with ID:<span class="pl-pds">"</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-062959e43b499c57b72b65e6d2eff393R22"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> downloadFileId<span class="pl-k">.</span>rawId()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="23" id="diff-062959e43b499c57b72b65e6d2eff393R23"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> and Request: <span class="pl-pds">"</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-062959e43b499c57b72b65e6d2eff393R24"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> url</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="25" id="diff-062959e43b499c57b72b65e6d2eff393R25"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> and Cause: <span class="pl-pds">"</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-062959e43b499c57b72b65e6d2eff393R26"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> errorCause;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-062959e43b499c57b72b65e6d2eff393R27"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">DownloadError</span>(<span class="pl-smi">DownloadError</span><span class="pl-k">.</span><span class="pl-smi">Type</span><span class="pl-c1"><span class="pl-k">.</span>FILE_TOTAL_SIZE_REQUEST_FAILED</span>, networkErrorMessage);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-062959e43b499c57b72b65e6d2eff393R28"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="29" id="diff-062959e43b499c57b72b65e6d2eff393R29"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-062959e43b499c57b72b65e6d2eff393L20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-062959e43b499c57b72b65e6d2eff393R30"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-smi">DownloadError</span> <span class="pl-en">createTotalSizeRequestFailedError</span>(<span class="pl-smi">DownloadFileId</span> <span class="pl-v">downloadFileId</span>, <span class="pl-smi">String</span> <span class="pl-v">url</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-062959e43b499c57b72b65e6d2eff393L21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-062959e43b499c57b72b65e6d2eff393R31"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">String</span> totalSizeRequestFailedMessage <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Total size request failed for File with ID: <span class="pl-pds">"</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-062959e43b499c57b72b65e6d2eff393L22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-062959e43b499c57b72b65e6d2eff393R32"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">+</span> downloadFileId<span class="pl-k">.</span>rawId()</span></td>
</tr>
<tr class="js-expandable-line" data-position="">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander single-expander" data-left-range="23-63" data-right-range="33-63" data-url="/novoda/download-manager/blob_excerpt/64e49cc92e7f4dfd5d52edf7610da1c93b370e11?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=22&amp;last_right=32&amp;left=64&amp;left_hunk_size=&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadErrorFactory.java&amp;right=64&amp;right_hunk_size=" href="#diff-062959e43b499c57b72b65e6d2eff393" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2"></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-062959e43b499c57b72b65e6d2eff393L17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-062959e43b499c57b72b65e6d2eff393R17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-062959e43b499c57b72b65e6d2eff393L18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-062959e43b499c57b72b65e6d2eff393R18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-062959e43b499c57b72b65e6d2eff393L19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-062959e43b499c57b72b65e6d2eff393R19"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-062959e43b499c57b72b65e6d2eff393R20"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="21" id="diff-062959e43b499c57b72b65e6d2eff393R21"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-062959e43b499c57b72b65e6d2eff393R22"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="23" id="diff-062959e43b499c57b72b65e6d2eff393R23"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-062959e43b499c57b72b65e6d2eff393R24"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="25" id="diff-062959e43b499c57b72b65e6d2eff393R25"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-062959e43b499c57b72b65e6d2eff393R26"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-062959e43b499c57b72b65e6d2eff393R27"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-062959e43b499c57b72b65e6d2eff393R28"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="29" id="diff-062959e43b499c57b72b65e6d2eff393R29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-062959e43b499c57b72b65e6d2eff393L20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-062959e43b499c57b72b65e6d2eff393R30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-062959e43b499c57b72b65e6d2eff393L21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-062959e43b499c57b72b65e6d2eff393R31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-062959e43b499c57b72b65e6d2eff393L22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-062959e43b499c57b72b65e6d2eff393R32"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-2">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-92ff662061797f637f3c62333c821153" data-file-deleted="false" data-file-type=".java" data-path="library/src/main/java/com/novoda/downloadmanager/DownloadFile.java" data-short-path="92ff662">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="library/src/main/java/com/novoda/downloadmanager/DownloadFile.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/library/src/main/java/com/novoda/downloadmanager/DownloadFile.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="24 additions &amp; 25 deletions" class="diffstat tooltipped tooltipped-e">49 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-92ff662061797f637f3c62333c821153" title="library/src/main/java/com/novoda/downloadmanager/DownloadFile.java">library/src/main/java/com/novoda/downloadmanager/DownloadFile.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-92ff662061797f637f3c62333c821153" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-48" data-right-range="1-48" data-url="/novoda/download-manager/blob_excerpt/fb73a7cda8d5a50339c9563586dae375c965adf5?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=49&amp;left_hunk_size=13&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadFile.java&amp;right=49&amp;right_hunk_size=19" href="#diff-92ff662061797f637f3c62333c821153" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -49,13 +49,19 @@ void download(Callback callback) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-92ff662061797f637f3c62333c821153L49"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-92ff662061797f637f3c62333c821153R49"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="50" id="diff-92ff662061797f637f3c62333c821153L50"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="50" id="diff-92ff662061797f637f3c62333c821153R50"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        callback<span class="pl-k">.</span>onUpdate(downloadFileStatus);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-92ff662061797f637f3c62333c821153L51"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-92ff662061797f637f3c62333c821153R51"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="52" id="diff-92ff662061797f637f3c62333c821153L52"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first">fileSize </span><span class="pl-k x">=</span><span class="x x-last"> requestTotalFileSizeIfNecessary(</span>fileSize);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-92ff662061797f637f3c62333c821153R52"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi x x-first">InternalFileSize</span><span class="x"> updatedFileSize </span><span class="pl-k x">=</span><span class="x x-last"> </span>fileSize<span class="pl-k x x-first">.</span><span class="x x-last">copy(</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-92ff662061797f637f3c62333c821153L53"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-92ff662061797f637f3c62333c821153R53"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-92ff662061797f637f3c62333c821153L54"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-92ff662061797f637f3c62333c821153R54"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (fileSize<span class="pl-k">.</span>isTotalSizeUnknown()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="55" id="diff-92ff662061797f637f3c62333c821153L55"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">DownloadError</span> downloadError <span class="pl-k">=</span> <span class="pl-smi">DownloadErrorFactory</span><span class="pl-k">.</span>createTotalSizeRequestFailedError(downloadFileId, url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="56" id="diff-92ff662061797f637f3c62333c821153L56"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            updateAndFeedbackWithStatus(downloadError, callback);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="57" id="diff-92ff662061797f637f3c62333c821153L57"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">Logger</span><span class="pl-k">.</span>w(<span class="pl-s"><span class="pl-pds">"</span>abort download file <span class="pl-pds">"</span></span> <span class="pl-k">+</span> downloadFileId <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> because size is unknown: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> downloadError<span class="pl-k">.</span>message());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="58" id="diff-92ff662061797f637f3c62333c821153L58"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-92ff662061797f637f3c62333c821153R55"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">FileSizeResult</span> fileSizeResult <span class="pl-k">=</span> fileSizeRequester<span class="pl-k">.</span>requestFileSize(url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="56" id="diff-92ff662061797f637f3c62333c821153R56"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (fileSizeResult<span class="pl-k">.</span>isSuccess()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-92ff662061797f637f3c62333c821153R57"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                updatedFileSize<span class="pl-k">.</span>setTotalSize(fileSizeResult<span class="pl-k">.</span>fileSize()<span class="pl-k">.</span>totalSize());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="58" id="diff-92ff662061797f637f3c62333c821153R58"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                fileSize <span class="pl-k">=</span> updatedFileSize;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="59" id="diff-92ff662061797f637f3c62333c821153R59"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            } <span class="pl-k">else</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="60" id="diff-92ff662061797f637f3c62333c821153R60"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">DownloadError</span> downloadError <span class="pl-k">=</span> <span class="pl-smi">DownloadErrorFactory</span><span class="pl-k">.</span>createTotalSizeRequestFailedError(downloadFileId, url, fileSizeResult<span class="pl-k">.</span>failureMessage());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="61" id="diff-92ff662061797f637f3c62333c821153R61"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                updateAndFeedbackWithStatus(downloadError, callback);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="62" id="diff-92ff662061797f637f3c62333c821153R62"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">Logger</span><span class="pl-k">.</span>w(<span class="pl-s"><span class="pl-pds">"</span>abort download file, cause: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> downloadError<span class="pl-k">.</span>message());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="63" id="diff-92ff662061797f637f3c62333c821153R63"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="64" id="diff-92ff662061797f637f3c62333c821153R64"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-92ff662061797f637f3c62333c821153L59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="65" id="diff-92ff662061797f637f3c62333c821153R65"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="60" id="diff-92ff662061797f637f3c62333c821153L60"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="66" id="diff-92ff662061797f637f3c62333c821153R66"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="61" id="diff-92ff662061797f637f3c62333c821153L61"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="67" id="diff-92ff662061797f637f3c62333c821153R67"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        fileSize<span class="pl-k">.</span>setCurrentSize(filePersistence<span class="pl-k">.</span>getCurrentSize(filePath));</span></td>
</tr>
<tr class="js-expandable-line" data-position="25">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="62-97" data-right-range="68-103" data-url="/novoda/download-manager/blob_excerpt/fb73a7cda8d5a50339c9563586dae375c965adf5?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=61&amp;last_right=67&amp;left=135&amp;left_hunk_size=19&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadFile.java&amp;right=141&amp;right_hunk_size=6" href="#diff-92ff662061797f637f3c62333c821153" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="98-134" data-right-range="104-140" data-url="/novoda/download-manager/blob_excerpt/fb73a7cda8d5a50339c9563586dae375c965adf5?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=61&amp;last_right=67&amp;left=135&amp;left_hunk_size=19&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadFile.java&amp;right=141&amp;right_hunk_size=6" href="#diff-92ff662061797f637f3c62333c821153" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -135,19 +141,6 @@ private DownloadError convertError(FilePersistenceResult status) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="135" id="diff-92ff662061797f637f3c62333c821153L135"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="141" id="diff-92ff662061797f637f3c62333c821153R141"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="136" id="diff-92ff662061797f637f3c62333c821153L136"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="142" id="diff-92ff662061797f637f3c62333c821153R142"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="137" id="diff-92ff662061797f637f3c62333c821153L137"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="143" id="diff-92ff662061797f637f3c62333c821153R143"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="138" id="diff-92ff662061797f637f3c62333c821153L138"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">InternalFileSize</span> <span class="pl-en">requestTotalFileSizeIfNecessary</span>(<span class="pl-smi">InternalFileSize</span> <span class="pl-v">fileSize</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="139" id="diff-92ff662061797f637f3c62333c821153L139"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">InternalFileSize</span> updatedFileSize <span class="pl-k">=</span> fileSize<span class="pl-k">.</span>copy();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="140" id="diff-92ff662061797f637f3c62333c821153L140"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="141" id="diff-92ff662061797f637f3c62333c821153L141"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">if</span> (fileSize<span class="pl-k">.</span>isTotalSizeUnknown()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="142" id="diff-92ff662061797f637f3c62333c821153L142"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">FileSize</span> requestFileSize <span class="pl-k">=</span> fileSizeRequester<span class="pl-k">.</span>requestFileSize(url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="143" id="diff-92ff662061797f637f3c62333c821153L143"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">if</span> (requestFileSize<span class="pl-k">.</span>isTotalSizeKnown()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="144" id="diff-92ff662061797f637f3c62333c821153L144"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">                updatedFileSize<span class="pl-k">.</span>setTotalSize(requestFileSize<span class="pl-k">.</span>totalSize());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="145" id="diff-92ff662061797f637f3c62333c821153L145"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="146" id="diff-92ff662061797f637f3c62333c821153L146"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="147" id="diff-92ff662061797f637f3c62333c821153L147"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="148" id="diff-92ff662061797f637f3c62333c821153L148"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span> updatedFileSize;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="149" id="diff-92ff662061797f637f3c62333c821153L149"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="150" id="diff-92ff662061797f637f3c62333c821153L150"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="151" id="diff-92ff662061797f637f3c62333c821153L151"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="144" id="diff-92ff662061797f637f3c62333c821153R144"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">updateAndFeedbackWithStatus</span>(<span class="pl-smi">DownloadError</span> <span class="pl-v">downloadError</span>, <span class="pl-smi">Callback</span> <span class="pl-v">callback</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="152" id="diff-92ff662061797f637f3c62333c821153L152"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="145" id="diff-92ff662061797f637f3c62333c821153R145"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        downloadFileStatus<span class="pl-k">.</span>markAsError(downloadError);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="153" id="diff-92ff662061797f637f3c62333c821153L153"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="146" id="diff-92ff662061797f637f3c62333c821153R146"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        callback<span class="pl-k">.</span>onUpdate(downloadFileStatus);</span></td>
</tr>
<tr class="js-expandable-line" data-position="45">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="154-166" data-right-range="147-159" data-url="/novoda/download-manager/blob_excerpt/fb73a7cda8d5a50339c9563586dae375c965adf5?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=153&amp;last_right=146&amp;left=182&amp;left_hunk_size=15&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadFile.java&amp;right=175&amp;right_hunk_size=21" href="#diff-92ff662061797f637f3c62333c821153" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="167-181" data-right-range="160-174" data-url="/novoda/download-manager/blob_excerpt/fb73a7cda8d5a50339c9563586dae375c965adf5?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=153&amp;last_right=146&amp;left=182&amp;left_hunk_size=15&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadFile.java&amp;right=175&amp;right_hunk_size=21" href="#diff-92ff662061797f637f3c62333c821153" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -182,15 +175,21 @@ void delete() {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="182" id="diff-92ff662061797f637f3c62333c821153L182"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="175" id="diff-92ff662061797f637f3c62333c821153R175"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@WorkerThread</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="183" id="diff-92ff662061797f637f3c62333c821153L183"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="176" id="diff-92ff662061797f637f3c62333c821153R176"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">long</span> <span class="pl-en">getTotalSize</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="184" id="diff-92ff662061797f637f3c62333c821153L184"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="177" id="diff-92ff662061797f637f3c62333c821153R177"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (fileSize<span class="pl-k">.</span>isTotalSizeUnknown()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="185" id="diff-92ff662061797f637f3c62333c821153L185"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi x x-first">FileSize</span><span class="x x-last"> requestFileSize</span> <span class="pl-k">=</span> fileSizeRequester<span class="pl-k">.</span>requestFileSize(url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="186" id="diff-92ff662061797f637f3c62333c821153L186"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first">fileSize</span><span class="pl-k x">.</span><span class="x">setTotalSize(requestFileSize</span><span class="pl-k x">.</span><span class="x x-last">totalSize</span>())<span class="x x-first x-last">;</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="187" id="diff-92ff662061797f637f3c62333c821153L187"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k x x-first">if</span><span class="x x-last"> (fileStatus</span>()<span class="pl-k">.</span><span class="x x-first">status() </span><span class="pl-k x">==</span><span class="x"> </span><span class="pl-smi x">DownloadFileStatus</span><span class="pl-k x">.</span><span class="pl-smi x">Status</span><span class="pl-c1"><span class="pl-k x">.</span><span class="x">DELETED</span></span><span class="x x-last">) {</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="188" id="diff-92ff662061797f637f3c62333c821153L188"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi x x-first">Logger</span><span class="pl-k x">.</span><span class="x">e(</span><span class="pl-s"><span class="pl-pds x">"</span><span class="x">file getTotalSize return zero because is deleted, </span><span class="pl-pds x">"</span></span><span class="x"> </span><span class="pl-k x">+</span><span class="x"> downloadFileId</span><span class="pl-k x">.</span><span class="x x-last">rawId()</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="189" id="diff-92ff662061797f637f3c62333c821153L189"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first"> </span><span class="pl-k x">+</span><span class="x"> </span><span class="pl-s"><span class="pl-pds x">"</span><span class="x"> from batch </span><span class="pl-pds x">"</span></span><span class="x"> </span><span class="pl-k x">+</span><span class="x"> downloadBatchId</span><span class="pl-k x">.</span><span class="x x-last">rawId()</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="190" id="diff-92ff662061797f637f3c62333c821153L190"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first"> </span><span class="pl-k x">+</span><span class="x"> </span><span class="pl-s"><span class="pl-pds x">"</span><span class="x"> with file status </span><span class="pl-pds x">"</span></span><span class="x"> </span><span class="pl-k x">+</span><span class="x"> fileStatus()</span><span class="pl-k x">.</span><span class="x x-last">status(</span>));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="178" id="diff-92ff662061797f637f3c62333c821153R178"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi x x-first">FileSizeResult</span><span class="x x-last"> fileSizeResult</span> <span class="pl-k">=</span> fileSizeRequester<span class="pl-k">.</span>requestFileSize(url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="179" id="diff-92ff662061797f637f3c62333c821153R179"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k x x-first">if</span><span class="x"> (fileSizeResult</span><span class="pl-k x">.</span><span class="x x-last">isSuccess</span>())<span class="x x-first x-last"> {</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="180" id="diff-92ff662061797f637f3c62333c821153R180"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first">    fileSize</span><span class="pl-k x">.</span><span class="x">setTotalSize(fileSizeResult</span><span class="pl-k x">.</span><span class="x x-last">fileSize</span>()<span class="pl-k">.</span><span class="x x-first x-last">totalSize());</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="181" id="diff-92ff662061797f637f3c62333c821153R181"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first x-last">persist();</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="182" id="diff-92ff662061797f637f3c62333c821153R182"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first">} </span><span class="pl-k x">else</span><span class="x x-last"> {</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="183" id="diff-92ff662061797f637f3c62333c821153R183"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi x x-first">Logger</span><span class="pl-k x">.</span><span class="x">w(</span><span class="pl-smi x">DownloadErrorFactory</span><span class="pl-k x">.</span><span class="x">createTotalSizeRequestFailedError(downloadFileId, url, fileSizeResult</span><span class="pl-k x">.</span><span class="x x-last">failureMessage()</span>));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="191" id="diff-92ff662061797f637f3c62333c821153L191"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="184" id="diff-92ff662061797f637f3c62333c821153R184"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">0</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="192" id="diff-92ff662061797f637f3c62333c821153L192"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="185" id="diff-92ff662061797f637f3c62333c821153R185"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="193" id="diff-92ff662061797f637f3c62333c821153L193"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            persist();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="186" id="diff-92ff662061797f637f3c62333c821153R186"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="187" id="diff-92ff662061797f637f3c62333c821153R187"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="188" id="diff-92ff662061797f637f3c62333c821153R188"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (fileStatus()<span class="pl-k">.</span>status() <span class="pl-k">==</span> <span class="pl-smi">DownloadFileStatus</span><span class="pl-k">.</span><span class="pl-smi">Status</span><span class="pl-c1"><span class="pl-k">.</span>DELETED</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="189" id="diff-92ff662061797f637f3c62333c821153R189"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">Logger</span><span class="pl-k">.</span>e(<span class="pl-s"><span class="pl-pds">"</span>file getTotalSize return zero because is deleted, <span class="pl-pds">"</span></span> <span class="pl-k">+</span> downloadFileId<span class="pl-k">.</span>rawId()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="190" id="diff-92ff662061797f637f3c62333c821153R190"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> from batch <span class="pl-pds">"</span></span> <span class="pl-k">+</span> downloadBatchId<span class="pl-k">.</span>rawId()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="191" id="diff-92ff662061797f637f3c62333c821153R191"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> with file status <span class="pl-pds">"</span></span> <span class="pl-k">+</span> fileStatus()<span class="pl-k">.</span>status());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="192" id="diff-92ff662061797f637f3c62333c821153R192"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">0</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="194" id="diff-92ff662061797f637f3c62333c821153L194"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="193" id="diff-92ff662061797f637f3c62333c821153R193"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="195" id="diff-92ff662061797f637f3c62333c821153L195"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="194" id="diff-92ff662061797f637f3c62333c821153R194"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="196" id="diff-92ff662061797f637f3c62333c821153L196"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="195" id="diff-92ff662061797f637f3c62333c821153R195"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> fileSize<span class="pl-k">.</span>totalSize();</span></td>
</tr>
<tr class="js-expandable-line" data-position="">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander single-expander" data-left-range="197-229" data-right-range="196-229" data-url="/novoda/download-manager/blob_excerpt/fb73a7cda8d5a50339c9563586dae375c965adf5?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=196&amp;last_right=195&amp;left=230&amp;left_hunk_size=&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadFile.java&amp;right=230&amp;right_hunk_size=" href="#diff-92ff662061797f637f3c62333c821153" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2"></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-92ff662061797f637f3c62333c821153L49"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-92ff662061797f637f3c62333c821153R49"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="50" id="diff-92ff662061797f637f3c62333c821153L50"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="50" id="diff-92ff662061797f637f3c62333c821153R50"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-92ff662061797f637f3c62333c821153L51"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-92ff662061797f637f3c62333c821153R51"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="52" id="diff-92ff662061797f637f3c62333c821153L52"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-92ff662061797f637f3c62333c821153R52"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-92ff662061797f637f3c62333c821153L53"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-92ff662061797f637f3c62333c821153R53"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-92ff662061797f637f3c62333c821153L54"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-92ff662061797f637f3c62333c821153R54"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="55" id="diff-92ff662061797f637f3c62333c821153L55"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="56" id="diff-92ff662061797f637f3c62333c821153L56"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="57" id="diff-92ff662061797f637f3c62333c821153L57"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="58" id="diff-92ff662061797f637f3c62333c821153L58"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-92ff662061797f637f3c62333c821153R55"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="56" id="diff-92ff662061797f637f3c62333c821153R56"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-92ff662061797f637f3c62333c821153R57"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="58" id="diff-92ff662061797f637f3c62333c821153R58"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="59" id="diff-92ff662061797f637f3c62333c821153R59"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="60" id="diff-92ff662061797f637f3c62333c821153R60"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="61" id="diff-92ff662061797f637f3c62333c821153R61"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="62" id="diff-92ff662061797f637f3c62333c821153R62"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="63" id="diff-92ff662061797f637f3c62333c821153R63"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="64" id="diff-92ff662061797f637f3c62333c821153R64"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-92ff662061797f637f3c62333c821153L59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="65" id="diff-92ff662061797f637f3c62333c821153R65"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="60" id="diff-92ff662061797f637f3c62333c821153L60"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="66" id="diff-92ff662061797f637f3c62333c821153R66"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="61" id="diff-92ff662061797f637f3c62333c821153L61"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="67" id="diff-92ff662061797f637f3c62333c821153R67"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="135" id="diff-92ff662061797f637f3c62333c821153L135"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="141" id="diff-92ff662061797f637f3c62333c821153R141"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="136" id="diff-92ff662061797f637f3c62333c821153L136"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="142" id="diff-92ff662061797f637f3c62333c821153R142"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="137" id="diff-92ff662061797f637f3c62333c821153L137"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="143" id="diff-92ff662061797f637f3c62333c821153R143"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="138" id="diff-92ff662061797f637f3c62333c821153L138"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="139" id="diff-92ff662061797f637f3c62333c821153L139"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="140" id="diff-92ff662061797f637f3c62333c821153L140"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="141" id="diff-92ff662061797f637f3c62333c821153L141"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="142" id="diff-92ff662061797f637f3c62333c821153L142"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="143" id="diff-92ff662061797f637f3c62333c821153L143"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="144" id="diff-92ff662061797f637f3c62333c821153L144"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="145" id="diff-92ff662061797f637f3c62333c821153L145"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="146" id="diff-92ff662061797f637f3c62333c821153L146"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="147" id="diff-92ff662061797f637f3c62333c821153L147"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="148" id="diff-92ff662061797f637f3c62333c821153L148"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="149" id="diff-92ff662061797f637f3c62333c821153L149"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="150" id="diff-92ff662061797f637f3c62333c821153L150"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="151" id="diff-92ff662061797f637f3c62333c821153L151"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="144" id="diff-92ff662061797f637f3c62333c821153R144"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="152" id="diff-92ff662061797f637f3c62333c821153L152"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="145" id="diff-92ff662061797f637f3c62333c821153R145"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="153" id="diff-92ff662061797f637f3c62333c821153L153"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="146" id="diff-92ff662061797f637f3c62333c821153R146"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="182" id="diff-92ff662061797f637f3c62333c821153L182"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="175" id="diff-92ff662061797f637f3c62333c821153R175"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="183" id="diff-92ff662061797f637f3c62333c821153L183"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="176" id="diff-92ff662061797f637f3c62333c821153R176"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="184" id="diff-92ff662061797f637f3c62333c821153L184"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="177" id="diff-92ff662061797f637f3c62333c821153R177"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="185" id="diff-92ff662061797f637f3c62333c821153L185"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="186" id="diff-92ff662061797f637f3c62333c821153L186"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="187" id="diff-92ff662061797f637f3c62333c821153L187"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="188" id="diff-92ff662061797f637f3c62333c821153L188"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="189" id="diff-92ff662061797f637f3c62333c821153L189"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="190" id="diff-92ff662061797f637f3c62333c821153L190"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="178" id="diff-92ff662061797f637f3c62333c821153R178"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="179" id="diff-92ff662061797f637f3c62333c821153R179"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="180" id="diff-92ff662061797f637f3c62333c821153R180"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="181" id="diff-92ff662061797f637f3c62333c821153R181"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="182" id="diff-92ff662061797f637f3c62333c821153R182"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="183" id="diff-92ff662061797f637f3c62333c821153R183"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="191" id="diff-92ff662061797f637f3c62333c821153L191"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="184" id="diff-92ff662061797f637f3c62333c821153R184"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="192" id="diff-92ff662061797f637f3c62333c821153L192"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="185" id="diff-92ff662061797f637f3c62333c821153R185"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="193" id="diff-92ff662061797f637f3c62333c821153L193"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="186" id="diff-92ff662061797f637f3c62333c821153R186"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="187" id="diff-92ff662061797f637f3c62333c821153R187"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="188" id="diff-92ff662061797f637f3c62333c821153R188"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="189" id="diff-92ff662061797f637f3c62333c821153R189"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="190" id="diff-92ff662061797f637f3c62333c821153R190"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="191" id="diff-92ff662061797f637f3c62333c821153R191"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="192" id="diff-92ff662061797f637f3c62333c821153R192"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="194" id="diff-92ff662061797f637f3c62333c821153L194"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="193" id="diff-92ff662061797f637f3c62333c821153R193"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="195" id="diff-92ff662061797f637f3c62333c821153L195"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="194" id="diff-92ff662061797f637f3c62333c821153R194"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="196" id="diff-92ff662061797f637f3c62333c821153L196"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="195" id="diff-92ff662061797f637f3c62333c821153R195"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-3">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-bee109b165737f88fe1d3425310bdd9b" data-file-deleted="false" data-file-type=".java" data-path="library/src/main/java/com/novoda/downloadmanager/DownloadManagerBuilder.java" data-short-path="bee109b">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="library/src/main/java/com/novoda/downloadmanager/DownloadManagerBuilder.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/library/src/main/java/com/novoda/downloadmanager/DownloadManagerBuilder.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="5 additions &amp; 3 deletions" class="diffstat tooltipped tooltipped-e">8 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-bee109b165737f88fe1d3425310bdd9b" title="library/src/main/java/com/novoda/downloadmanager/DownloadManagerBuilder.java">library/src/main/java/com/novoda/downloadmanager/DownloadManagerBuilder.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-bee109b165737f88fe1d3425310bdd9b" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-70" data-right-range="1-70" data-url="/novoda/download-manager/blob_excerpt/c2c91c94064baa61874e84295708a383bf54229c?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=71&amp;left_hunk_size=7&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadManagerBuilder.java&amp;right=71&amp;right_hunk_size=8" href="#diff-bee109b165737f88fe1d3425310bdd9b" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -71,7 +71,8 @@ public static DownloadManagerBuilder newInstance(Context context, Handler callba</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-bee109b165737f88fe1d3425310bdd9bL71"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-bee109b165737f88fe1d3425310bdd9bR71"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">FileDownloaderCreator</span> fileDownloaderCreator <span class="pl-k">=</span> <span class="pl-smi">FileDownloaderCreator</span><span class="pl-k">.</span>newNetworkFileDownloaderCreator(httpClient);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="72" id="diff-bee109b165737f88fe1d3425310bdd9bL72"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="72" id="diff-bee109b165737f88fe1d3425310bdd9bR72"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="73" id="diff-bee109b165737f88fe1d3425310bdd9bL73"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="73" id="diff-bee109b165737f88fe1d3425310bdd9bR73"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">NetworkRequestCreator</span> requestCreator <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">NetworkRequestCreator</span>();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="74" id="diff-bee109b165737f88fe1d3425310bdd9bL74"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">FileSizeRequester</span> fileSizeRequester <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">NetworkFileSizeRequester</span>(httpClient, requestCreator);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="74" id="diff-bee109b165737f88fe1d3425310bdd9bR74"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">NetworkFileSizeBodyRequest</span> fileSizeBodyRequest <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">NetworkFileSizeBodyRequest</span>(httpClient, requestCreator);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="75" id="diff-bee109b165737f88fe1d3425310bdd9bR75"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">FileSizeRequester</span> fileSizeHeaderRequest <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">NetworkFileSizeHeaderRequest</span>(httpClient, requestCreator, fileSizeBodyRequest);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="75" id="diff-bee109b165737f88fe1d3425310bdd9bL75"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="76" id="diff-bee109b165737f88fe1d3425310bdd9bR76"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="76" id="diff-bee109b165737f88fe1d3425310bdd9bL76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-bee109b165737f88fe1d3425310bdd9bR77"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">DownloadsPersistence</span> downloadsPersistence <span class="pl-k">=</span> <span class="pl-smi">RoomDownloadsPersistence</span><span class="pl-k">.</span>newInstance(applicationContext);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-bee109b165737f88fe1d3425310bdd9bL77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="78" id="diff-bee109b165737f88fe1d3425310bdd9bR78"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr class="js-expandable-line" data-position="10">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="78-89" data-right-range="79-90" data-url="/novoda/download-manager/blob_excerpt/c2c91c94064baa61874e84295708a383bf54229c?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=77&amp;last_right=78&amp;left=104&amp;left_hunk_size=7&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadManagerBuilder.java&amp;right=105&amp;right_hunk_size=7" href="#diff-bee109b165737f88fe1d3425310bdd9b" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="90-103" data-right-range="91-104" data-url="/novoda/download-manager/blob_excerpt/c2c91c94064baa61874e84295708a383bf54229c?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=77&amp;last_right=78&amp;left=104&amp;left_hunk_size=7&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadManagerBuilder.java&amp;right=105&amp;right_hunk_size=7" href="#diff-bee109b165737f88fe1d3425310bdd9b" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -104,7 +105,7 @@ public static DownloadManagerBuilder newInstance(Context context, Handler callba</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-bee109b165737f88fe1d3425310bdd9bL104"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-bee109b165737f88fe1d3425310bdd9bR105"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                downloadBatchRequirementRule,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-bee109b165737f88fe1d3425310bdd9bL105"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="106" id="diff-bee109b165737f88fe1d3425310bdd9bR106"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                filePersistenceCreator,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="106" id="diff-bee109b165737f88fe1d3425310bdd9bL106"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="107" id="diff-bee109b165737f88fe1d3425310bdd9bR107"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                downloadsPersistence,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="107" id="diff-bee109b165737f88fe1d3425310bdd9bL107"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first x-last">fileSizeRequester</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="108" id="diff-bee109b165737f88fe1d3425310bdd9bR108"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first x-last">fileSizeHeaderRequest</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="108" id="diff-bee109b165737f88fe1d3425310bdd9bL108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-bee109b165737f88fe1d3425310bdd9bR109"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                fileDownloaderCreator,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-bee109b165737f88fe1d3425310bdd9bL109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-bee109b165737f88fe1d3425310bdd9bR110"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                notificationChannelProvider,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-bee109b165737f88fe1d3425310bdd9bL110"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="111" id="diff-bee109b165737f88fe1d3425310bdd9bR111"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                notificationCreator,</span></td>
</tr>
<tr class="js-expandable-line" data-position="19">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="111-128" data-right-range="112-129" data-url="/novoda/download-manager/blob_excerpt/c2c91c94064baa61874e84295708a383bf54229c?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=110&amp;last_right=111&amp;left=149&amp;left_hunk_size=7&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadManagerBuilder.java&amp;right=150&amp;right_hunk_size=8" href="#diff-bee109b165737f88fe1d3425310bdd9b" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="129-148" data-right-range="130-149" data-url="/novoda/download-manager/blob_excerpt/c2c91c94064baa61874e84295708a383bf54229c?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=110&amp;last_right=111&amp;left=149&amp;left_hunk_size=7&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadManagerBuilder.java&amp;right=150&amp;right_hunk_size=8" href="#diff-bee109b165737f88fe1d3425310bdd9b" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -149,7 +150,8 @@ private DownloadManagerBuilder(Context applicationContext,</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="149" id="diff-bee109b165737f88fe1d3425310bdd9bL149"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="150" id="diff-bee109b165737f88fe1d3425310bdd9bR150"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="150" id="diff-bee109b165737f88fe1d3425310bdd9bL150"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="151" id="diff-bee109b165737f88fe1d3425310bdd9bR151"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">DownloadManagerBuilder</span> <span class="pl-en">withCustomHttpClient</span>(<span class="pl-smi">HttpClient</span> <span class="pl-v">httpClient</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="151" id="diff-bee109b165737f88fe1d3425310bdd9bL151"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="152" id="diff-bee109b165737f88fe1d3425310bdd9bR152"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">NetworkRequestCreator</span> requestCreator <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">NetworkRequestCreator</span>();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="152" id="diff-bee109b165737f88fe1d3425310bdd9bL152"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>fileSizeRequester <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">NetworkFileSizeRequester</span>(httpClient, requestCreator);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="153" id="diff-bee109b165737f88fe1d3425310bdd9bR153"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">NetworkFileSizeBodyRequest</span> bodyRequest <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">NetworkFileSizeBodyRequest</span>(httpClient, requestCreator);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="154" id="diff-bee109b165737f88fe1d3425310bdd9bR154"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>fileSizeRequester <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">NetworkFileSizeHeaderRequest</span>(httpClient, requestCreator, bodyRequest);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="153" id="diff-bee109b165737f88fe1d3425310bdd9bL153"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="155" id="diff-bee109b165737f88fe1d3425310bdd9bR155"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>fileDownloaderCreator <span class="pl-k">=</span> <span class="pl-smi">FileDownloaderCreator</span><span class="pl-k">.</span>newNetworkFileDownloaderCreator(httpClient);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="154" id="diff-bee109b165737f88fe1d3425310bdd9bL154"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="156" id="diff-bee109b165737f88fe1d3425310bdd9bR156"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">this</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="155" id="diff-bee109b165737f88fe1d3425310bdd9bL155"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="157" id="diff-bee109b165737f88fe1d3425310bdd9bR157"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr class="js-expandable-line" data-position="">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander single-expander" data-left-range="156-442" data-right-range="158-442" data-url="/novoda/download-manager/blob_excerpt/c2c91c94064baa61874e84295708a383bf54229c?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=155&amp;last_right=157&amp;left=443&amp;left_hunk_size=&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FDownloadManagerBuilder.java&amp;right=443&amp;right_hunk_size=" href="#diff-bee109b165737f88fe1d3425310bdd9b" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2"></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-bee109b165737f88fe1d3425310bdd9bL71"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-bee109b165737f88fe1d3425310bdd9bR71"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="72" id="diff-bee109b165737f88fe1d3425310bdd9bL72"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="72" id="diff-bee109b165737f88fe1d3425310bdd9bR72"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="73" id="diff-bee109b165737f88fe1d3425310bdd9bL73"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="73" id="diff-bee109b165737f88fe1d3425310bdd9bR73"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="74" id="diff-bee109b165737f88fe1d3425310bdd9bL74"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="74" id="diff-bee109b165737f88fe1d3425310bdd9bR74"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="75" id="diff-bee109b165737f88fe1d3425310bdd9bR75"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="75" id="diff-bee109b165737f88fe1d3425310bdd9bL75"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="76" id="diff-bee109b165737f88fe1d3425310bdd9bR76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="76" id="diff-bee109b165737f88fe1d3425310bdd9bL76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-bee109b165737f88fe1d3425310bdd9bR77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-bee109b165737f88fe1d3425310bdd9bL77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="78" id="diff-bee109b165737f88fe1d3425310bdd9bR78"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-bee109b165737f88fe1d3425310bdd9bL104"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-bee109b165737f88fe1d3425310bdd9bR105"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-bee109b165737f88fe1d3425310bdd9bL105"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="106" id="diff-bee109b165737f88fe1d3425310bdd9bR106"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="106" id="diff-bee109b165737f88fe1d3425310bdd9bL106"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="107" id="diff-bee109b165737f88fe1d3425310bdd9bR107"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="107" id="diff-bee109b165737f88fe1d3425310bdd9bL107"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="108" id="diff-bee109b165737f88fe1d3425310bdd9bR108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="108" id="diff-bee109b165737f88fe1d3425310bdd9bL108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-bee109b165737f88fe1d3425310bdd9bR109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-bee109b165737f88fe1d3425310bdd9bL109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-bee109b165737f88fe1d3425310bdd9bR110"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-bee109b165737f88fe1d3425310bdd9bL110"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="111" id="diff-bee109b165737f88fe1d3425310bdd9bR111"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="149" id="diff-bee109b165737f88fe1d3425310bdd9bL149"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="150" id="diff-bee109b165737f88fe1d3425310bdd9bR150"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="150" id="diff-bee109b165737f88fe1d3425310bdd9bL150"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="151" id="diff-bee109b165737f88fe1d3425310bdd9bR151"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="151" id="diff-bee109b165737f88fe1d3425310bdd9bL151"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="152" id="diff-bee109b165737f88fe1d3425310bdd9bR152"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="152" id="diff-bee109b165737f88fe1d3425310bdd9bL152"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="153" id="diff-bee109b165737f88fe1d3425310bdd9bR153"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="154" id="diff-bee109b165737f88fe1d3425310bdd9bR154"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="153" id="diff-bee109b165737f88fe1d3425310bdd9bL153"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="155" id="diff-bee109b165737f88fe1d3425310bdd9bR155"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="154" id="diff-bee109b165737f88fe1d3425310bdd9bL154"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="156" id="diff-bee109b165737f88fe1d3425310bdd9bR156"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="155" id="diff-bee109b165737f88fe1d3425310bdd9bL155"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="157" id="diff-bee109b165737f88fe1d3425310bdd9bR157"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-4">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-df6f9068196288d18faeb47fdccfd500" data-file-deleted="false" data-file-type=".java" data-path="library/src/main/java/com/novoda/downloadmanager/FileSizeRequester.java" data-short-path="df6f906">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="library/src/main/java/com/novoda/downloadmanager/FileSizeRequester.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/library/src/main/java/com/novoda/downloadmanager/FileSizeRequester.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="2 additions &amp; 1 deletion" class="diffstat tooltipped tooltipped-e">3 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-df6f9068196288d18faeb47fdccfd500" title="library/src/main/java/com/novoda/downloadmanager/FileSizeRequester.java">library/src/main/java/com/novoda/downloadmanager/FileSizeRequester.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-df6f9068196288d18faeb47fdccfd500" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-5" data-right-range="1-5" data-url="/novoda/download-manager/blob_excerpt/894ae1895291eefb1f55fe191a154431c96f308f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=6&amp;left_hunk_size=5&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FFileSizeRequester.java&amp;right=6&amp;right_hunk_size=6" href="#diff-df6f9068196288d18faeb47fdccfd500" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -6,5 +6,6 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-df6f9068196288d18faeb47fdccfd500L6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-df6f9068196288d18faeb47fdccfd500R6"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-c"> <span class="pl-c">*/</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-df6f9068196288d18faeb47fdccfd500L7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-df6f9068196288d18faeb47fdccfd500R7"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">public</span> <span class="pl-k">interface</span> <span class="pl-en">FileSizeRequester</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-df6f9068196288d18faeb47fdccfd500L8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-df6f9068196288d18faeb47fdccfd500R8"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="9" id="diff-df6f9068196288d18faeb47fdccfd500L9"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">FileSize</span> <span class="pl-en">requestFileSize</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-df6f9068196288d18faeb47fdccfd500R9"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">FileSizeResult</span> <span class="pl-en">requestFileSize</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="10" id="diff-df6f9068196288d18faeb47fdccfd500R10"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-df6f9068196288d18faeb47fdccfd500L10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-df6f9068196288d18faeb47fdccfd500R11"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-df6f9068196288d18faeb47fdccfd500L6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-df6f9068196288d18faeb47fdccfd500R6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-df6f9068196288d18faeb47fdccfd500L7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-df6f9068196288d18faeb47fdccfd500R7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-df6f9068196288d18faeb47fdccfd500L8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-df6f9068196288d18faeb47fdccfd500R8"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="9" id="diff-df6f9068196288d18faeb47fdccfd500L9"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-df6f9068196288d18faeb47fdccfd500R9"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="10" id="diff-df6f9068196288d18faeb47fdccfd500R10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-df6f9068196288d18faeb47fdccfd500L10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-df6f9068196288d18faeb47fdccfd500R11"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-5">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-0c265105216792502c6baad6b1f669e7" data-file-deleted="false" data-file-type=".java" data-path="library/src/main/java/com/novoda/downloadmanager/FileSizeResult.java" data-short-path="0c26510">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="library/src/main/java/com/novoda/downloadmanager/FileSizeResult.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/library/src/main/java/com/novoda/downloadmanager/FileSizeResult.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="77 additions &amp; 0 deletions" class="diffstat tooltipped tooltipped-e">77 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-0c265105216792502c6baad6b1f669e7" title="library/src/main/java/com/novoda/downloadmanager/FileSizeResult.java">library/src/main/java/com/novoda/downloadmanager/FileSizeResult.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-0c265105216792502c6baad6b1f669e7" data-tab-size="8">
<tr data-position="0">
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-0c265105216792502c6baad6b1f669e7HL0"></td>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-0c265105216792502c6baad6b1f669e7HR1"></td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -0,0 +1,77 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="1" id="diff-0c265105216792502c6baad6b1f669e7R1"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">package</span> <span class="pl-smi">com.novoda.downloadmanager</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="2" id="diff-0c265105216792502c6baad6b1f669e7R2"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="3" id="diff-0c265105216792502c6baad6b1f669e7R3"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">android.support.annotation.NonNull</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="4" id="diff-0c265105216792502c6baad6b1f669e7R4"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="5" id="diff-0c265105216792502c6baad6b1f669e7R5"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">FileSizeResult</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="6" id="diff-0c265105216792502c6baad6b1f669e7R6"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="7" id="diff-0c265105216792502c6baad6b1f669e7R7"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">FileSize</span> fileSize;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-0c265105216792502c6baad6b1f669e7R8"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">String</span> failureMessage;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-0c265105216792502c6baad6b1f669e7R9"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="10" id="diff-0c265105216792502c6baad6b1f669e7R10"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">FileSizeResult</span> <span class="pl-en">success</span>(<span class="pl-smi">FileSize</span> <span class="pl-v">fileSize</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="11" id="diff-0c265105216792502c6baad6b1f669e7R11"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">FileSizeResult</span>(fileSize, <span class="pl-c1">null</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="12" id="diff-0c265105216792502c6baad6b1f669e7R12"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="13" id="diff-0c265105216792502c6baad6b1f669e7R13"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="14" id="diff-0c265105216792502c6baad6b1f669e7R14"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">FileSizeResult</span> <span class="pl-en">failure</span>(<span class="pl-smi">String</span> <span class="pl-v">failureMessage</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="15" id="diff-0c265105216792502c6baad6b1f669e7R15"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">FileSizeResult</span>(<span class="pl-c1">null</span>, failureMessage);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="16" id="diff-0c265105216792502c6baad6b1f669e7R16"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="17" id="diff-0c265105216792502c6baad6b1f669e7R17"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="18" id="diff-0c265105216792502c6baad6b1f669e7R18"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-en">FileSizeResult</span>(<span class="pl-smi">FileSize</span> <span class="pl-v">fileSize</span>, <span class="pl-smi">String</span> <span class="pl-v">failureMessage</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="19" id="diff-0c265105216792502c6baad6b1f669e7R19"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>fileSize <span class="pl-k">=</span> fileSize;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-0c265105216792502c6baad6b1f669e7R20"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>failureMessage <span class="pl-k">=</span> failureMessage;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="21" id="diff-0c265105216792502c6baad6b1f669e7R21"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-0c265105216792502c6baad6b1f669e7R22"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="23" id="diff-0c265105216792502c6baad6b1f669e7R23"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">FileSize</span> <span class="pl-en">fileSize</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-0c265105216792502c6baad6b1f669e7R24"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (fileSize <span class="pl-k">==</span> <span class="pl-c1">null</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="25" id="diff-0c265105216792502c6baad6b1f669e7R25"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">IllegalArgumentException</span>(<span class="pl-s"><span class="pl-pds">"</span>You must check if it's a success or failure before querying<span class="pl-pds">"</span></span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-0c265105216792502c6baad6b1f669e7R26"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-0c265105216792502c6baad6b1f669e7R27"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> fileSize;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-0c265105216792502c6baad6b1f669e7R28"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="29" id="diff-0c265105216792502c6baad6b1f669e7R29"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-0c265105216792502c6baad6b1f669e7R30"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">failureMessage</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="31" id="diff-0c265105216792502c6baad6b1f669e7R31"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (failureMessage <span class="pl-k">==</span> <span class="pl-c1">null</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="32" id="diff-0c265105216792502c6baad6b1f669e7R32"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">IllegalArgumentException</span>(<span class="pl-s"><span class="pl-pds">"</span>You must check if it's a success or failure before querying<span class="pl-pds">"</span></span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-0c265105216792502c6baad6b1f669e7R33"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="34" id="diff-0c265105216792502c6baad6b1f669e7R34"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> failureMessage;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="35" id="diff-0c265105216792502c6baad6b1f669e7R35"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="36" id="diff-0c265105216792502c6baad6b1f669e7R36"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-0c265105216792502c6baad6b1f669e7R37"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">boolean</span> <span class="pl-en">isSuccess</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="38" id="diff-0c265105216792502c6baad6b1f669e7R38"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> fileSize <span class="pl-k">!=</span> <span class="pl-c1">null</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="39" id="diff-0c265105216792502c6baad6b1f669e7R39"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="40" id="diff-0c265105216792502c6baad6b1f669e7R40"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-0c265105216792502c6baad6b1f669e7R41"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">boolean</span> <span class="pl-en">isFailure</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="42" id="diff-0c265105216792502c6baad6b1f669e7R42"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> failureMessage <span class="pl-k">!=</span> <span class="pl-c1">null</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-0c265105216792502c6baad6b1f669e7R43"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-0c265105216792502c6baad6b1f669e7R44"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="45" id="diff-0c265105216792502c6baad6b1f669e7R45"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="46" id="diff-0c265105216792502c6baad6b1f669e7R46"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">boolean</span> <span class="pl-en">equals</span>(<span class="pl-smi">Object</span> <span class="pl-v">o</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="47" id="diff-0c265105216792502c6baad6b1f669e7R47"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (<span class="pl-c1">this</span> <span class="pl-k">==</span> o) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="48" id="diff-0c265105216792502c6baad6b1f669e7R48"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">true</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="49" id="diff-0c265105216792502c6baad6b1f669e7R49"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-0c265105216792502c6baad6b1f669e7R50"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (o <span class="pl-k">==</span> <span class="pl-c1">null</span> <span class="pl-k">||</span> getClass() <span class="pl-k">!=</span> o<span class="pl-k">.</span>getClass()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="51" id="diff-0c265105216792502c6baad6b1f669e7R51"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">false</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-0c265105216792502c6baad6b1f669e7R52"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="53" id="diff-0c265105216792502c6baad6b1f669e7R53"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-0c265105216792502c6baad6b1f669e7R54"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">FileSizeResult</span> that <span class="pl-k">=</span> (<span class="pl-smi">FileSizeResult</span>) o;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-0c265105216792502c6baad6b1f669e7R55"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="56" id="diff-0c265105216792502c6baad6b1f669e7R56"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (fileSize <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">?</span> <span class="pl-k">!</span>fileSize<span class="pl-k">.</span>equals(that<span class="pl-k">.</span>fileSize) <span class="pl-k">:</span> that<span class="pl-k">.</span>fileSize <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-0c265105216792502c6baad6b1f669e7R57"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">false</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="58" id="diff-0c265105216792502c6baad6b1f669e7R58"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="59" id="diff-0c265105216792502c6baad6b1f669e7R59"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> failureMessage <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">?</span> failureMessage<span class="pl-k">.</span>equals(that<span class="pl-k">.</span>failureMessage) <span class="pl-k">:</span> that<span class="pl-k">.</span>failureMessage <span class="pl-k">==</span> <span class="pl-c1">null</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="60" id="diff-0c265105216792502c6baad6b1f669e7R60"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="61" id="diff-0c265105216792502c6baad6b1f669e7R61"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="62" id="diff-0c265105216792502c6baad6b1f669e7R62"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="63" id="diff-0c265105216792502c6baad6b1f669e7R63"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">int</span> <span class="pl-en">hashCode</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="64" id="diff-0c265105216792502c6baad6b1f669e7R64"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">int</span> result <span class="pl-k">=</span> fileSize <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">?</span> fileSize<span class="pl-k">.</span>hashCode() <span class="pl-k">:</span> <span class="pl-c1">0</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="65" id="diff-0c265105216792502c6baad6b1f669e7R65"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        result <span class="pl-k">=</span> <span class="pl-c1">31</span> <span class="pl-k">*</span> result <span class="pl-k">+</span> (failureMessage <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">?</span> failureMessage<span class="pl-k">.</span>hashCode() <span class="pl-k">:</span> <span class="pl-c1">0</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="66" id="diff-0c265105216792502c6baad6b1f669e7R66"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> result;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="67" id="diff-0c265105216792502c6baad6b1f669e7R67"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="68" id="diff-0c265105216792502c6baad6b1f669e7R68"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="69" id="diff-0c265105216792502c6baad6b1f669e7R69"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@NonNull</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="70" id="diff-0c265105216792502c6baad6b1f669e7R70"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="71" id="diff-0c265105216792502c6baad6b1f669e7R71"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="72" id="diff-0c265105216792502c6baad6b1f669e7R72"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>FileSizeResult{<span class="pl-pds">"</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="73" id="diff-0c265105216792502c6baad6b1f669e7R73"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>fileSize=<span class="pl-pds">"</span></span> <span class="pl-k">+</span> fileSize</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="74" id="diff-0c265105216792502c6baad6b1f669e7R74"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>, failureMessage='<span class="pl-pds">"</span></span> <span class="pl-k">+</span> failureMessage <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-cce">\'</span><span class="pl-pds">'</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="75" id="diff-0c265105216792502c6baad6b1f669e7R75"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>}<span class="pl-pds">'</span></span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="76" id="diff-0c265105216792502c6baad6b1f669e7R76"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="77" id="diff-0c265105216792502c6baad6b1f669e7R77"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-0c265105216792502c6baad6b1f669e7HL0"></td>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-0c265105216792502c6baad6b1f669e7HR1"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="1" id="diff-0c265105216792502c6baad6b1f669e7R1"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="2" id="diff-0c265105216792502c6baad6b1f669e7R2"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="3" id="diff-0c265105216792502c6baad6b1f669e7R3"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="4" id="diff-0c265105216792502c6baad6b1f669e7R4"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="5" id="diff-0c265105216792502c6baad6b1f669e7R5"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="6" id="diff-0c265105216792502c6baad6b1f669e7R6"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="7" id="diff-0c265105216792502c6baad6b1f669e7R7"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-0c265105216792502c6baad6b1f669e7R8"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-0c265105216792502c6baad6b1f669e7R9"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="10" id="diff-0c265105216792502c6baad6b1f669e7R10"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="11" id="diff-0c265105216792502c6baad6b1f669e7R11"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="12" id="diff-0c265105216792502c6baad6b1f669e7R12"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="13" id="diff-0c265105216792502c6baad6b1f669e7R13"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="14" id="diff-0c265105216792502c6baad6b1f669e7R14"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="15" id="diff-0c265105216792502c6baad6b1f669e7R15"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="16" id="diff-0c265105216792502c6baad6b1f669e7R16"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="17" id="diff-0c265105216792502c6baad6b1f669e7R17"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="18" id="diff-0c265105216792502c6baad6b1f669e7R18"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="19" id="diff-0c265105216792502c6baad6b1f669e7R19"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-0c265105216792502c6baad6b1f669e7R20"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="21" id="diff-0c265105216792502c6baad6b1f669e7R21"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-0c265105216792502c6baad6b1f669e7R22"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="23" id="diff-0c265105216792502c6baad6b1f669e7R23"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-0c265105216792502c6baad6b1f669e7R24"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="25" id="diff-0c265105216792502c6baad6b1f669e7R25"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-0c265105216792502c6baad6b1f669e7R26"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-0c265105216792502c6baad6b1f669e7R27"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-0c265105216792502c6baad6b1f669e7R28"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="29" id="diff-0c265105216792502c6baad6b1f669e7R29"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-0c265105216792502c6baad6b1f669e7R30"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="31" id="diff-0c265105216792502c6baad6b1f669e7R31"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="32" id="diff-0c265105216792502c6baad6b1f669e7R32"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-0c265105216792502c6baad6b1f669e7R33"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="34" id="diff-0c265105216792502c6baad6b1f669e7R34"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="35" id="diff-0c265105216792502c6baad6b1f669e7R35"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="36" id="diff-0c265105216792502c6baad6b1f669e7R36"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-0c265105216792502c6baad6b1f669e7R37"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="38" id="diff-0c265105216792502c6baad6b1f669e7R38"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="39" id="diff-0c265105216792502c6baad6b1f669e7R39"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="40" id="diff-0c265105216792502c6baad6b1f669e7R40"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-0c265105216792502c6baad6b1f669e7R41"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="42" id="diff-0c265105216792502c6baad6b1f669e7R42"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-0c265105216792502c6baad6b1f669e7R43"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-0c265105216792502c6baad6b1f669e7R44"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="45" id="diff-0c265105216792502c6baad6b1f669e7R45"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="46" id="diff-0c265105216792502c6baad6b1f669e7R46"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="47" id="diff-0c265105216792502c6baad6b1f669e7R47"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="48" id="diff-0c265105216792502c6baad6b1f669e7R48"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="49" id="diff-0c265105216792502c6baad6b1f669e7R49"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-0c265105216792502c6baad6b1f669e7R50"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="51" id="diff-0c265105216792502c6baad6b1f669e7R51"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-0c265105216792502c6baad6b1f669e7R52"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="53" id="diff-0c265105216792502c6baad6b1f669e7R53"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-0c265105216792502c6baad6b1f669e7R54"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-0c265105216792502c6baad6b1f669e7R55"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="56" id="diff-0c265105216792502c6baad6b1f669e7R56"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-0c265105216792502c6baad6b1f669e7R57"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="58" id="diff-0c265105216792502c6baad6b1f669e7R58"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="59" id="diff-0c265105216792502c6baad6b1f669e7R59"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="60" id="diff-0c265105216792502c6baad6b1f669e7R60"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="61" id="diff-0c265105216792502c6baad6b1f669e7R61"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="62" id="diff-0c265105216792502c6baad6b1f669e7R62"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="63" id="diff-0c265105216792502c6baad6b1f669e7R63"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="64" id="diff-0c265105216792502c6baad6b1f669e7R64"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="65" id="diff-0c265105216792502c6baad6b1f669e7R65"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="66" id="diff-0c265105216792502c6baad6b1f669e7R66"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="67" id="diff-0c265105216792502c6baad6b1f669e7R67"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="68" id="diff-0c265105216792502c6baad6b1f669e7R68"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="69" id="diff-0c265105216792502c6baad6b1f669e7R69"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="70" id="diff-0c265105216792502c6baad6b1f669e7R70"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="71" id="diff-0c265105216792502c6baad6b1f669e7R71"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="72" id="diff-0c265105216792502c6baad6b1f669e7R72"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="73" id="diff-0c265105216792502c6baad6b1f669e7R73"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="74" id="diff-0c265105216792502c6baad6b1f669e7R74"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="75" id="diff-0c265105216792502c6baad6b1f669e7R75"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="76" id="diff-0c265105216792502c6baad6b1f669e7R76"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="77" id="diff-0c265105216792502c6baad6b1f669e7R77"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-6">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-f91c3a4ab335913794f5b1c1627fab88" data-file-deleted="false" data-file-type=".java" data-path="library/src/main/java/com/novoda/downloadmanager/InMemoryFileSizeRequester.java" data-short-path="f91c3a4">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="library/src/main/java/com/novoda/downloadmanager/InMemoryFileSizeRequester.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/library/src/main/java/com/novoda/downloadmanager/InMemoryFileSizeRequester.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="2 additions &amp; 2 deletions" class="diffstat tooltipped tooltipped-e">4 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-f91c3a4ab335913794f5b1c1627fab88" title="library/src/main/java/com/novoda/downloadmanager/InMemoryFileSizeRequester.java">library/src/main/java/com/novoda/downloadmanager/InMemoryFileSizeRequester.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-f91c3a4ab335913794f5b1c1627fab88" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-4" data-right-range="1-4" data-url="/novoda/download-manager/blob_excerpt/9145ed1010a37f29d00564b76c29448e2ce19368?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=5&amp;left_hunk_size=7&amp;mode=100644&amp;path=library%2Fsrc%2Fmain%2Fjava%2Fcom%2Fnovoda%2Fdownloadmanager%2FInMemoryFileSizeRequester.java&amp;right=5&amp;right_hunk_size=7" href="#diff-f91c3a4ab335913794f5b1c1627fab88" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -5,7 +5,7 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-f91c3a4ab335913794f5b1c1627fab88L5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-f91c3a4ab335913794f5b1c1627fab88R5"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">long</span> <span class="pl-c1">TOTAL_FILE_SIZE</span> <span class="pl-k">=</span> <span class="pl-c1">5000000</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-f91c3a4ab335913794f5b1c1627fab88L6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-f91c3a4ab335913794f5b1c1627fab88R6"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-f91c3a4ab335913794f5b1c1627fab88L7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-f91c3a4ab335913794f5b1c1627fab88R7"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="8" id="diff-f91c3a4ab335913794f5b1c1627fab88L8"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi x x-first x-last">FileSize</span> <span class="pl-en">requestFileSize</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="9" id="diff-f91c3a4ab335913794f5b1c1627fab88L9"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">FileSizeCreator</span><span class="pl-k">.</span>createFromTotalSize(<span class="pl-c1">TOTAL_FILE_SIZE</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-f91c3a4ab335913794f5b1c1627fab88R8"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi x x-first x-last">FileSizeResult</span> <span class="pl-en">requestFileSize</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-f91c3a4ab335913794f5b1c1627fab88R9"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi x x-first">FileSizeResult</span><span class="pl-k x">.</span><span class="x x-last">success(</span><span class="pl-smi">FileSizeCreator</span><span class="pl-k">.</span>createFromTotalSize(<span class="pl-c1">TOTAL_FILE_SIZE</span><span class="x x-first x-last">)</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-f91c3a4ab335913794f5b1c1627fab88L10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-f91c3a4ab335913794f5b1c1627fab88R10"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-f91c3a4ab335913794f5b1c1627fab88L11"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-f91c3a4ab335913794f5b1c1627fab88R11"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-f91c3a4ab335913794f5b1c1627fab88L5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-f91c3a4ab335913794f5b1c1627fab88R5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-f91c3a4ab335913794f5b1c1627fab88L6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-f91c3a4ab335913794f5b1c1627fab88R6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-f91c3a4ab335913794f5b1c1627fab88L7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-f91c3a4ab335913794f5b1c1627fab88R7"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="8" id="diff-f91c3a4ab335913794f5b1c1627fab88L8"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="9" id="diff-f91c3a4ab335913794f5b1c1627fab88L9"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-f91c3a4ab335913794f5b1c1627fab88R8"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-f91c3a4ab335913794f5b1c1627fab88R9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-f91c3a4ab335913794f5b1c1627fab88L10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-f91c3a4ab335913794f5b1c1627fab88R10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-f91c3a4ab335913794f5b1c1627fab88L11"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-f91c3a4ab335913794f5b1c1627fab88R11"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-7">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-b3accda48c0f06520d72dcff54f6e7e9" data-file-deleted="false" data-file-type=".java" data-path="library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeBodyRequest.java" data-short-path="b3accda">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeBodyRequest.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeBodyRequest.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="63 additions &amp; 0 deletions" class="diffstat tooltipped tooltipped-e">63 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>
<a class="link-gray-dark" href="#diff-b3accda48c0f06520d72dcff54f6e7e9" title="library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeBodyRequest.java">library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeBodyRequest.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-b3accda48c0f06520d72dcff54f6e7e9" data-tab-size="8">
<tr data-position="0">
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-b3accda48c0f06520d72dcff54f6e7e9HL0"></td>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-b3accda48c0f06520d72dcff54f6e7e9HR1"></td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -0,0 +1,63 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="1" id="diff-b3accda48c0f06520d72dcff54f6e7e9R1"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">package</span> <span class="pl-smi">com.novoda.downloadmanager</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="2" id="diff-b3accda48c0f06520d72dcff54f6e7e9R2"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="3" id="diff-b3accda48c0f06520d72dcff54f6e7e9R3"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">java.io.IOException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="4" id="diff-b3accda48c0f06520d72dcff54f6e7e9R4"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="5" id="diff-b3accda48c0f06520d72dcff54f6e7e9R5"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">class</span> <span class="pl-en">NetworkFileSizeBodyRequest</span> <span class="pl-k">implements</span> <span class="pl-e">FileSizeRequester</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="6" id="diff-b3accda48c0f06520d72dcff54f6e7e9R6"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="7" id="diff-b3accda48c0f06520d72dcff54f6e7e9R7"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">ZERO_FILE_SIZE</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-b3accda48c0f06520d72dcff54f6e7e9R8"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">UNKNOWN_CONTENT_LENGTH</span> <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-b3accda48c0f06520d72dcff54f6e7e9R9"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="10" id="diff-b3accda48c0f06520d72dcff54f6e7e9R10"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">HttpClient</span> httpClient;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="11" id="diff-b3accda48c0f06520d72dcff54f6e7e9R11"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">NetworkRequestCreator</span> requestCreator;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="12" id="diff-b3accda48c0f06520d72dcff54f6e7e9R12"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="13" id="diff-b3accda48c0f06520d72dcff54f6e7e9R13"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-en">NetworkFileSizeBodyRequest</span>(<span class="pl-smi">HttpClient</span> <span class="pl-v">httpClient</span>, <span class="pl-smi">NetworkRequestCreator</span> <span class="pl-v">requestCreator</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="14" id="diff-b3accda48c0f06520d72dcff54f6e7e9R14"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>httpClient <span class="pl-k">=</span> httpClient;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="15" id="diff-b3accda48c0f06520d72dcff54f6e7e9R15"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>requestCreator <span class="pl-k">=</span> requestCreator;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="16" id="diff-b3accda48c0f06520d72dcff54f6e7e9R16"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="17" id="diff-b3accda48c0f06520d72dcff54f6e7e9R17"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="18" id="diff-b3accda48c0f06520d72dcff54f6e7e9R18"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="19" id="diff-b3accda48c0f06520d72dcff54f6e7e9R19"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">FileSizeResult</span> <span class="pl-en">requestFileSize</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-b3accda48c0f06520d72dcff54f6e7e9R20"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">NetworkRequest</span> fileSizeRequest <span class="pl-k">=</span> requestCreator<span class="pl-k">.</span>createFileSizeBodyRequest(url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="21" id="diff-b3accda48c0f06520d72dcff54f6e7e9R21"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">NetworkResponse</span> response <span class="pl-k">=</span> <span class="pl-c1">null</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-b3accda48c0f06520d72dcff54f6e7e9R22"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">FileSizeResult</span> fileSizeOrError;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="23" id="diff-b3accda48c0f06520d72dcff54f6e7e9R23"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">try</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-b3accda48c0f06520d72dcff54f6e7e9R24"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            response <span class="pl-k">=</span> httpClient<span class="pl-k">.</span>execute(fileSizeRequest);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="25" id="diff-b3accda48c0f06520d72dcff54f6e7e9R25"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            fileSizeOrError <span class="pl-k">=</span> processResponse(response, url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-b3accda48c0f06520d72dcff54f6e7e9R26"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        } <span class="pl-k">catch</span> (<span class="pl-smi">IOException</span> e) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-b3accda48c0f06520d72dcff54f6e7e9R27"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">FileSizeResult</span><span class="pl-k">.</span>failure(e<span class="pl-k">.</span>getMessage());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-b3accda48c0f06520d72dcff54f6e7e9R28"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        } <span class="pl-k">finally</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="29" id="diff-b3accda48c0f06520d72dcff54f6e7e9R29"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (response <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-b3accda48c0f06520d72dcff54f6e7e9R30"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">try</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="31" id="diff-b3accda48c0f06520d72dcff54f6e7e9R31"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                    response<span class="pl-k">.</span>closeByteStream();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="32" id="diff-b3accda48c0f06520d72dcff54f6e7e9R32"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                } <span class="pl-k">catch</span> (<span class="pl-smi">IOException</span> e) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-b3accda48c0f06520d72dcff54f6e7e9R33"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">Logger</span><span class="pl-k">.</span>e(e, <span class="pl-s"><span class="pl-pds">"</span>Error requesting file size for <span class="pl-pds">"</span></span> <span class="pl-k">+</span> url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="34" id="diff-b3accda48c0f06520d72dcff54f6e7e9R34"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="35" id="diff-b3accda48c0f06520d72dcff54f6e7e9R35"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="36" id="diff-b3accda48c0f06520d72dcff54f6e7e9R36"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-b3accda48c0f06520d72dcff54f6e7e9R37"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> fileSizeOrError;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="38" id="diff-b3accda48c0f06520d72dcff54f6e7e9R38"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="39" id="diff-b3accda48c0f06520d72dcff54f6e7e9R39"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="40" id="diff-b3accda48c0f06520d72dcff54f6e7e9R40"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">FileSizeResult</span> <span class="pl-en">processResponse</span>(<span class="pl-smi">NetworkResponse</span> <span class="pl-v">response</span>, <span class="pl-smi">String</span> <span class="pl-v">url</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-b3accda48c0f06520d72dcff54f6e7e9R41"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (response<span class="pl-k">.</span>isSuccessful()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="42" id="diff-b3accda48c0f06520d72dcff54f6e7e9R42"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">long</span> fileSize <span class="pl-k">=</span> response<span class="pl-k">.</span>bodyContentLength();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-b3accda48c0f06520d72dcff54f6e7e9R43"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (fileSize <span class="pl-k">==</span> <span class="pl-c1">UNKNOWN_CONTENT_LENGTH</span> <span class="pl-k">||</span> fileSize <span class="pl-k">==</span> <span class="pl-c1">ZERO_FILE_SIZE</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-b3accda48c0f06520d72dcff54f6e7e9R44"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">String</span> errorMessage <span class="pl-k">=</span> <span class="pl-smi">String</span><span class="pl-k">.</span>format(</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="45" id="diff-b3accda48c0f06520d72dcff54f6e7e9R45"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-s"><span class="pl-pds">"</span>File Size Body Request: '%s' returned '%s'<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="46" id="diff-b3accda48c0f06520d72dcff54f6e7e9R46"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                        url,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="47" id="diff-b3accda48c0f06520d72dcff54f6e7e9R47"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                        fileSize</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="48" id="diff-b3accda48c0f06520d72dcff54f6e7e9R48"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                );</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="49" id="diff-b3accda48c0f06520d72dcff54f6e7e9R49"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">FileSizeResult</span><span class="pl-k">.</span>failure(errorMessage);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-b3accda48c0f06520d72dcff54f6e7e9R50"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="51" id="diff-b3accda48c0f06520d72dcff54f6e7e9R51"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-b3accda48c0f06520d72dcff54f6e7e9R52"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">FileSizeResult</span><span class="pl-k">.</span>success(<span class="pl-smi">FileSizeCreator</span><span class="pl-k">.</span>createFromTotalSize(fileSize));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="53" id="diff-b3accda48c0f06520d72dcff54f6e7e9R53"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        } <span class="pl-k">else</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-b3accda48c0f06520d72dcff54f6e7e9R54"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">Logger</span><span class="pl-k">.</span>w(<span class="pl-smi">String</span><span class="pl-k">.</span>format(<span class="pl-s"><span class="pl-pds">"</span>file size body request '%s'<span class="pl-pds">"</span></span>, url));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-b3accda48c0f06520d72dcff54f6e7e9R55"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">String</span> errorMessage <span class="pl-k">=</span> <span class="pl-smi">String</span><span class="pl-k">.</span>format(</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="56" id="diff-b3accda48c0f06520d72dcff54f6e7e9R56"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-s"><span class="pl-pds">"</span>File Size Body Request: '%s' with response code: '%s' failed.<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-b3accda48c0f06520d72dcff54f6e7e9R57"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                    url,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="58" id="diff-b3accda48c0f06520d72dcff54f6e7e9R58"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                    response<span class="pl-k">.</span>code()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="59" id="diff-b3accda48c0f06520d72dcff54f6e7e9R59"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            );</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="60" id="diff-b3accda48c0f06520d72dcff54f6e7e9R60"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">FileSizeResult</span><span class="pl-k">.</span>failure(errorMessage);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="61" id="diff-b3accda48c0f06520d72dcff54f6e7e9R61"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="62" id="diff-b3accda48c0f06520d72dcff54f6e7e9R62"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="63" id="diff-b3accda48c0f06520d72dcff54f6e7e9R63"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-b3accda48c0f06520d72dcff54f6e7e9HL0"></td>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-b3accda48c0f06520d72dcff54f6e7e9HR1"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="1" id="diff-b3accda48c0f06520d72dcff54f6e7e9R1"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="2" id="diff-b3accda48c0f06520d72dcff54f6e7e9R2"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="3" id="diff-b3accda48c0f06520d72dcff54f6e7e9R3"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="4" id="diff-b3accda48c0f06520d72dcff54f6e7e9R4"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="5" id="diff-b3accda48c0f06520d72dcff54f6e7e9R5"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="6" id="diff-b3accda48c0f06520d72dcff54f6e7e9R6"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="7" id="diff-b3accda48c0f06520d72dcff54f6e7e9R7"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-b3accda48c0f06520d72dcff54f6e7e9R8"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-b3accda48c0f06520d72dcff54f6e7e9R9"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="10" id="diff-b3accda48c0f06520d72dcff54f6e7e9R10"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="11" id="diff-b3accda48c0f06520d72dcff54f6e7e9R11"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="12" id="diff-b3accda48c0f06520d72dcff54f6e7e9R12"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="13" id="diff-b3accda48c0f06520d72dcff54f6e7e9R13"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="14" id="diff-b3accda48c0f06520d72dcff54f6e7e9R14"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="15" id="diff-b3accda48c0f06520d72dcff54f6e7e9R15"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="16" id="diff-b3accda48c0f06520d72dcff54f6e7e9R16"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="17" id="diff-b3accda48c0f06520d72dcff54f6e7e9R17"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="18" id="diff-b3accda48c0f06520d72dcff54f6e7e9R18"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="19" id="diff-b3accda48c0f06520d72dcff54f6e7e9R19"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-b3accda48c0f06520d72dcff54f6e7e9R20"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="21" id="diff-b3accda48c0f06520d72dcff54f6e7e9R21"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-b3accda48c0f06520d72dcff54f6e7e9R22"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="23" id="diff-b3accda48c0f06520d72dcff54f6e7e9R23"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-b3accda48c0f06520d72dcff54f6e7e9R24"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="25" id="diff-b3accda48c0f06520d72dcff54f6e7e9R25"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-b3accda48c0f06520d72dcff54f6e7e9R26"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-b3accda48c0f06520d72dcff54f6e7e9R27"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-b3accda48c0f06520d72dcff54f6e7e9R28"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="29" id="diff-b3accda48c0f06520d72dcff54f6e7e9R29"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-b3accda48c0f06520d72dcff54f6e7e9R30"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="31" id="diff-b3accda48c0f06520d72dcff54f6e7e9R31"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="32" id="diff-b3accda48c0f06520d72dcff54f6e7e9R32"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-b3accda48c0f06520d72dcff54f6e7e9R33"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="34" id="diff-b3accda48c0f06520d72dcff54f6e7e9R34"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="35" id="diff-b3accda48c0f06520d72dcff54f6e7e9R35"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="36" id="diff-b3accda48c0f06520d72dcff54f6e7e9R36"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-b3accda48c0f06520d72dcff54f6e7e9R37"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="38" id="diff-b3accda48c0f06520d72dcff54f6e7e9R38"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="39" id="diff-b3accda48c0f06520d72dcff54f6e7e9R39"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="40" id="diff-b3accda48c0f06520d72dcff54f6e7e9R40"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-b3accda48c0f06520d72dcff54f6e7e9R41"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="42" id="diff-b3accda48c0f06520d72dcff54f6e7e9R42"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-b3accda48c0f06520d72dcff54f6e7e9R43"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-b3accda48c0f06520d72dcff54f6e7e9R44"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="45" id="diff-b3accda48c0f06520d72dcff54f6e7e9R45"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="46" id="diff-b3accda48c0f06520d72dcff54f6e7e9R46"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="47" id="diff-b3accda48c0f06520d72dcff54f6e7e9R47"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="48" id="diff-b3accda48c0f06520d72dcff54f6e7e9R48"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="49" id="diff-b3accda48c0f06520d72dcff54f6e7e9R49"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-b3accda48c0f06520d72dcff54f6e7e9R50"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="51" id="diff-b3accda48c0f06520d72dcff54f6e7e9R51"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-b3accda48c0f06520d72dcff54f6e7e9R52"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="53" id="diff-b3accda48c0f06520d72dcff54f6e7e9R53"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-b3accda48c0f06520d72dcff54f6e7e9R54"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-b3accda48c0f06520d72dcff54f6e7e9R55"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="56" id="diff-b3accda48c0f06520d72dcff54f6e7e9R56"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-b3accda48c0f06520d72dcff54f6e7e9R57"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="58" id="diff-b3accda48c0f06520d72dcff54f6e7e9R58"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="59" id="diff-b3accda48c0f06520d72dcff54f6e7e9R59"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="60" id="diff-b3accda48c0f06520d72dcff54f6e7e9R60"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="61" id="diff-b3accda48c0f06520d72dcff54f6e7e9R61"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="62" id="diff-b3accda48c0f06520d72dcff54f6e7e9R62"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="63" id="diff-b3accda48c0f06520d72dcff54f6e7e9R63"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-8">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-63491ad6a581d7186d71086e290ab439" data-file-deleted="false" data-file-type=".java" data-path="library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeHeaderRequest.java" data-short-path="63491ad">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeHeaderRequest.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/novoda/download-manager/blob/7cda2b6fe571bdf48f3209f2162010bb34bc0a84/library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeHeaderRequest.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="59 additions &amp; 0 deletions" class="diffstat tooltipped tooltipped-e">59 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>
<a class="link-gray-dark" href="#diff-63491ad6a581d7186d71086e290ab439" title="library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeHeaderRequest.java">library/src/main/java/com/novoda/downloadmanager/NetworkFileSizeHeaderRequest.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-63491ad6a581d7186d71086e290ab439" data-tab-size="8">
<tr data-position="0">
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-63491ad6a581d7186d71086e290ab439HL0"></td>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-63491ad6a581d7186d71086e290ab439HR1"></td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -0,0 +1,59 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="1" id="diff-63491ad6a581d7186d71086e290ab439R1"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">package</span> <span class="pl-smi">com.novoda.downloadmanager</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="2" id="diff-63491ad6a581d7186d71086e290ab439R2"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="3" id="diff-63491ad6a581d7186d71086e290ab439R3"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">java.io.IOException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="4" id="diff-63491ad6a581d7186d71086e290ab439R4"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="5" id="diff-63491ad6a581d7186d71086e290ab439R5"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">class</span> <span class="pl-en">NetworkFileSizeHeaderRequest</span> <span class="pl-k">implements</span> <span class="pl-e">FileSizeRequester</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="6" id="diff-63491ad6a581d7186d71086e290ab439R6"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="7" id="diff-63491ad6a581d7186d71086e290ab439R7"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">ZERO_FILE_SIZE</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-63491ad6a581d7186d71086e290ab439R8"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-smi">String</span> <span class="pl-c1">HEADER_CONTENT_LENGTH</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Content-Length<span class="pl-pds">"</span></span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-63491ad6a581d7186d71086e290ab439R9"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">UNKNOWN_CONTENT_LENGTH</span> <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="10" id="diff-63491ad6a581d7186d71086e290ab439R10"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="11" id="diff-63491ad6a581d7186d71086e290ab439R11"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">HttpClient</span> httpClient;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="12" id="diff-63491ad6a581d7186d71086e290ab439R12"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">NetworkRequestCreator</span> requestCreator;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="13" id="diff-63491ad6a581d7186d71086e290ab439R13"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">NetworkFileSizeBodyRequest</span> bodyRequest;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="14" id="diff-63491ad6a581d7186d71086e290ab439R14"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="15" id="diff-63491ad6a581d7186d71086e290ab439R15"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-en">NetworkFileSizeHeaderRequest</span>(<span class="pl-smi">HttpClient</span> <span class="pl-v">httpClient</span>, <span class="pl-smi">NetworkRequestCreator</span> <span class="pl-v">requestCreator</span>, <span class="pl-smi">NetworkFileSizeBodyRequest</span> <span class="pl-v">bodyRequest</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="16" id="diff-63491ad6a581d7186d71086e290ab439R16"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>httpClient <span class="pl-k">=</span> httpClient;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="17" id="diff-63491ad6a581d7186d71086e290ab439R17"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>requestCreator <span class="pl-k">=</span> requestCreator;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="18" id="diff-63491ad6a581d7186d71086e290ab439R18"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>bodyRequest <span class="pl-k">=</span> bodyRequest;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="19" id="diff-63491ad6a581d7186d71086e290ab439R19"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-63491ad6a581d7186d71086e290ab439R20"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="21" id="diff-63491ad6a581d7186d71086e290ab439R21"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-63491ad6a581d7186d71086e290ab439R22"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">FileSizeResult</span> <span class="pl-en">requestFileSize</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="23" id="diff-63491ad6a581d7186d71086e290ab439R23"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">NetworkRequest</span> fileSizeRequest <span class="pl-k">=</span> requestCreator<span class="pl-k">.</span>createFileSizeHeadRequest(url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-63491ad6a581d7186d71086e290ab439R24"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">NetworkResponse</span> response <span class="pl-k">=</span> <span class="pl-c1">null</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="25" id="diff-63491ad6a581d7186d71086e290ab439R25"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">FileSizeResult</span> fileSizeOrError;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-63491ad6a581d7186d71086e290ab439R26"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">try</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-63491ad6a581d7186d71086e290ab439R27"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            response <span class="pl-k">=</span> httpClient<span class="pl-k">.</span>execute(fileSizeRequest);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-63491ad6a581d7186d71086e290ab439R28"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">long</span> headerResponseFileSize <span class="pl-k">=</span> processResponse(response);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="29" id="diff-63491ad6a581d7186d71086e290ab439R29"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-63491ad6a581d7186d71086e290ab439R30"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (headerResponseFileSize <span class="pl-k">==</span> <span class="pl-c1">UNKNOWN_CONTENT_LENGTH</span> <span class="pl-k">||</span> headerResponseFileSize <span class="pl-k">==</span> <span class="pl-c1">ZERO_FILE_SIZE</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="31" id="diff-63491ad6a581d7186d71086e290ab439R31"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">Logger</span><span class="pl-k">.</span>w(<span class="pl-smi">String</span><span class="pl-k">.</span>format(<span class="pl-s"><span class="pl-pds">"</span>file size header request '%s' returned %s, we'll try with a body request<span class="pl-pds">"</span></span>, url, headerResponseFileSize));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="32" id="diff-63491ad6a581d7186d71086e290ab439R32"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                fileSizeOrError <span class="pl-k">=</span> bodyRequest<span class="pl-k">.</span>requestFileSize(url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-63491ad6a581d7186d71086e290ab439R33"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            } <span class="pl-k">else</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="34" id="diff-63491ad6a581d7186d71086e290ab439R34"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                fileSizeOrError <span class="pl-k">=</span> <span class="pl-smi">FileSizeResult</span><span class="pl-k">.</span>success(<span class="pl-smi">FileSizeCreator</span><span class="pl-k">.</span>createFromTotalSize(headerResponseFileSize));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="35" id="diff-63491ad6a581d7186d71086e290ab439R35"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="36" id="diff-63491ad6a581d7186d71086e290ab439R36"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-63491ad6a581d7186d71086e290ab439R37"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        } <span class="pl-k">catch</span> (<span class="pl-smi">IOException</span> e) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="38" id="diff-63491ad6a581d7186d71086e290ab439R38"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">FileSizeResult</span><span class="pl-k">.</span>failure(e<span class="pl-k">.</span>getMessage());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="39" id="diff-63491ad6a581d7186d71086e290ab439R39"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        } <span class="pl-k">finally</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="40" id="diff-63491ad6a581d7186d71086e290ab439R40"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (response <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-63491ad6a581d7186d71086e290ab439R41"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">try</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="42" id="diff-63491ad6a581d7186d71086e290ab439R42"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                    response<span class="pl-k">.</span>closeByteStream();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-63491ad6a581d7186d71086e290ab439R43"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                } <span class="pl-k">catch</span> (<span class="pl-smi">IOException</span> e) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-63491ad6a581d7186d71086e290ab439R44"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">Logger</span><span class="pl-k">.</span>e(e, <span class="pl-s"><span class="pl-pds">"</span>Error requesting file size for <span class="pl-pds">"</span></span> <span class="pl-k">+</span> url);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="45" id="diff-63491ad6a581d7186d71086e290ab439R45"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">                }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="46" id="diff-63491ad6a581d7186d71086e290ab439R46"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="47" id="diff-63491ad6a581d7186d71086e290ab439R47"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="48" id="diff-63491ad6a581d7186d71086e290ab439R48"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> fileSizeOrError;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="49" id="diff-63491ad6a581d7186d71086e290ab439R49"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-63491ad6a581d7186d71086e290ab439R50"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="51" id="diff-63491ad6a581d7186d71086e290ab439R51"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">long</span> <span class="pl-en">processResponse</span>(<span class="pl-smi">NetworkResponse</span> <span class="pl-v">response</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-63491ad6a581d7186d71086e290ab439R52"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">long</span> fileSize <span class="pl-k">=</span> <span class="pl-c1">ZERO_FILE_SIZE</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="53" id="diff-63491ad6a581d7186d71086e290ab439R53"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">if</span> (response<span class="pl-k">.</span>isSuccessful()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-63491ad6a581d7186d71086e290ab439R54"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            fileSize <span class="pl-k">=</span> <span class="pl-smi">Long</span><span class="pl-k">.</span>parseLong(response<span class="pl-k">.</span>header(<span class="pl-c1">HEADER_CONTENT_LENGTH</span>, <span class="pl-smi">String</span><span class="pl-k">.</span>valueOf(<span class="pl-c1">UNKNOWN_CONTENT_LENGTH</span>)));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-63491ad6a581d7186d71086e290ab439R55"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> fileSize;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="56" id="diff-63491ad6a581d7186d71086e290ab439R56"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-63491ad6a581d7186d71086e290ab439R57"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> fileSize;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="58" id="diff-63491ad6a581d7186d71086e290ab439R58"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="59" id="diff-63491ad6a581d7186d71086e290ab439R59"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-63491ad6a581d7186d71086e290ab439HL0"></td>
<td class="blob-num blob-num-hunk non-expandable" data-line-number="..." id="diff-63491ad6a581d7186d71086e290ab439HR1"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="1" id="diff-63491ad6a581d7186d71086e290ab439R1"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="2" id="diff-63491ad6a581d7186d71086e290ab439R2"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="3" id="diff-63491ad6a581d7186d71086e290ab439R3"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="4" id="diff-63491ad6a581d7186d71086e290ab439R4"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="5" id="diff-63491ad6a581d7186d71086e290ab439R5"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="6" id="diff-63491ad6a581d7186d71086e290ab439R6"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="7" id="diff-63491ad6a581d7186d71086e290ab439R7"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-63491ad6a581d7186d71086e290ab439R8"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-63491ad6a581d7186d71086e290ab439R9"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="10" id="diff-63491ad6a581d7186d71086e290ab439R10"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="11" id="diff-63491ad6a581d7186d71086e290ab439R11"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="12" id="diff-63491ad6a581d7186d71086e290ab439R12"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="13" id="diff-63491ad6a581d7186d71086e290ab439R13"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="14" id="diff-63491ad6a581d7186d71086e290ab439R14"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="15" id="diff-63491ad6a581d7186d71086e290ab439R15"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="16" id="diff-63491ad6a581d7186d71086e290ab439R16"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="17" id="diff-63491ad6a581d7186d71086e290ab439R17"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="18" id="diff-63491ad6a581d7186d71086e290ab439R18"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="19" id="diff-63491ad6a581d7186d71086e290ab439R19"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-63491ad6a581d7186d71086e290ab439R20"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="21" id="diff-63491ad6a581d7186d71086e290ab439R21"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-63491ad6a581d7186d71086e290ab439R22"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="23" id="diff-63491ad6a581d7186d71086e290ab439R23"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-63491ad6a581d7186d71086e290ab439R24"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="25" id="diff-63491ad6a581d7186d71086e290ab439R25"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-63491ad6a581d7186d71086e290ab439R26"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-63491ad6a581d7186d71086e290ab439R27"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-63491ad6a581d7186d71086e290ab439R28"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="29" id="diff-63491ad6a581d7186d71086e290ab439R29"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-63491ad6a581d7186d71086e290ab439R30"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="31" id="diff-63491ad6a581d7186d71086e290ab439R31"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="32" id="diff-63491ad6a581d7186d71086e290ab439R32"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-63491ad6a581d7186d71086e290ab439R33"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="34" id="diff-63491ad6a581d7186d71086e290ab439R34"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="35" id="diff-63491ad6a581d7186d71086e290ab439R35"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="36" id="diff-63491ad6a581d7186d71086e290ab439R36"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-63491ad6a581d7186d71086e290ab439R37"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="38" id="diff-63491ad6a581d7186d71086e290ab439R38"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="39" id="diff-63491ad6a581d7186d71086e290ab439R39"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="40" id="diff-63491ad6a581d7186d71086e290ab439R40"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-63491ad6a581d7186d71086e290ab439R41"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="42" id="diff-63491ad6a581d7186d71086e290ab439R42"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-63491ad6a581d7186d71086e290ab439R43"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-63491ad6a581d7186d71086e290ab439R44"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="45" id="diff-63491ad6a581d7186d71086e290ab439R45"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="46" id="diff-63491ad6a581d7186d71086e290ab439R46"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="47" id="diff-63491ad6a581d7186d71086e290ab439R47"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="48" id="diff-63491ad6a581d7186d71086e290ab439R48"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="49" id="diff-63491ad6a581d7186d71086e290ab439R49"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-63491ad6a581d7186d71086e290ab439R50"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="51" id="diff-63491ad6a581d7186d71086e290ab439R51"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-63491ad6a581d7186d71086e290ab439R52"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="53" id="diff-63491ad6a581d7186d71086e290ab439R53"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-63491ad6a581d7186d71086e290ab439R54"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-63491ad6a581d7186d71086e290ab439R55"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="56" id="diff-63491ad6a581d7186d71086e290ab439R56"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-63491ad6a581d7186d71086e290ab439R57"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="58" id="diff-63491ad6a581d7186d71086e290ab439R58"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="59" id="diff-63491ad6a581d7186d71086e290ab439R59"></td>
<clippath id="diff-placeholder">
<rect height="11.9298746" rx="2" width="67.0175439" x="0" y="0"></rect>
<rect height="11.9298746" rx="2" width="100.701754" x="18.9473684" y="47.7194983"></rect>
<rect height="11.9298746" rx="2" width="37.8947368" x="0" y="71.930126"></rect>
<rect height="11.9298746" rx="2" width="53.3333333" x="127.017544" y="48.0703769"></rect>
<rect height="11.9298746" rx="2" width="72.9824561" x="187.719298" y="48.0703769"></rect>
<rect height="11.9298746" rx="2" width="140.350877" x="76.8421053" y="0"></rect>
<rect height="11.9298746" rx="2" width="140.350877" x="17.8947368" y="23.8597491"></rect>
<rect height="11.9298746" rx="2" width="173.684211" x="166.315789" y="23.8597491"></rect>
</clippath>
<lineargradient id="animated-diff-gradient" spreadmethod="reflect" x1="0" x2="0" y1="0" y2="1">
<stop offset="0" stop-color="#eee"></stop>
<stop offset="0.2" stop-color="#eee"></stop>
<stop offset="0.5" stop-color="#ddd"></stop>
<stop offset="0.8" stop-color="#eee"></stop>
<stop offset="1" stop-color="#eee"></stop>
<animatetransform attributename="y1" dur="1s" repeatcount="3" values="0%; 100%; 0"></animatetransform>
<animatetransform attributename="y2" dur="1s" repeatcount="3" values="100%; 200%; 0"></animatetransform>
</lineargradient>
