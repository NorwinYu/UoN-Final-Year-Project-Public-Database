<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-0">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-74abb5aa79bbd218caba3ec623b7fcb2" data-file-deleted="false" data-file-type=".java" data-path="feign-reactor-cloud/src/test/java/reactivefeign/cloud/StatusHandlerTest.java" data-short-path="74abb5a">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="feign-reactor-cloud/src/test/java/reactivefeign/cloud/StatusHandlerTest.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/Playtika/feign-reactive/blob/2e4eaed564acbb7c97da8c0b752f27af597f0ae1/feign-reactor-cloud/src/test/java/reactivefeign/cloud/StatusHandlerTest.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="20 additions &amp; 34 deletions" class="diffstat tooltipped tooltipped-e">54 <span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-74abb5aa79bbd218caba3ec623b7fcb2" title="feign-reactor-cloud/src/test/java/reactivefeign/cloud/StatusHandlerTest.java">feign-reactor-cloud/src/test/java/reactivefeign/cloud/StatusHandlerTest.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-74abb5aa79bbd218caba3ec623b7fcb2" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-13" data-right-range="1-13" data-url="/Playtika/feign-reactive/blob_excerpt/5ee49547db2d3e9ad8427ce3f5e634e980d65237?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=14&amp;left_hunk_size=16&amp;mode=100644&amp;path=feign-reactor-cloud%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2Fcloud%2FStatusHandlerTest.java&amp;right=14&amp;right_hunk_size=12" href="#diff-74abb5aa79bbd218caba3ec623b7fcb2" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -14,16 +14,12 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="14" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L14"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="14" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R14"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">package</span> <span class="pl-smi">reactivefeign.cloud</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L15"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R15"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="16" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L16"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="16" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R16"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.netflix.hystrix.exception.HystrixRuntimeException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="17" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R17"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">feign.FeignException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R18"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">feign.RetryableException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="18" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L18"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">org.apache.http.HttpStatus</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="19" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L19"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">org.junit.Test</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R19"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">reactivefeign.ReactiveFeignBuilder</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R20"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">reactivefeign.testcase.IcecreamServiceApi</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="22" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L22"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">reactor.test.StepVerifier</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L23"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R21"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="24" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L24"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">com.github.tomakehurst.wiremock.client.WireMock.*</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="25" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L25"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">reactivefeign.client.statushandler.CompositeStatusHandler.compose</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="26" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L26"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">reactivefeign.client.statushandler.ReactiveStatusHandlers.throwOnStatus</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R22"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">java.util.function.Predicate</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R23"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="28" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L28"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="24" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R24"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-c"><span class="pl-c">/**</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R25"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-c"> * <span class="pl-k">@author</span> Sergii Karpenko</span></span></td>
</tr>
<tr class="js-expandable-line" data-position="19">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="30-31" data-right-range="26-27" data-url="/Playtika/feign-reactive/blob_excerpt/5ee49547db2d3e9ad8427ce3f5e634e980d65237?diff=unified&amp;in_wiki_context=&amp;last_left=29&amp;last_right=25&amp;left=36&amp;left_hunk_size=36&amp;mode=100644&amp;path=feign-reactor-cloud%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2Fcloud%2FStatusHandlerTest.java&amp;right=32&amp;right_hunk_size=26" href="#diff-74abb5aa79bbd218caba3ec623b7fcb2" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -36,36 +32,26 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R32"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="33" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R33"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L38"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="34" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R34"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="39" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L39"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">@Test</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="40" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L40"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">shouldThrowOnStatusCode</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="41" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L41"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">    wireMockRule<span class="pl-k">.</span>stubFor(get(urlEqualTo(<span class="pl-s"><span class="pl-pds">"</span>/icecream/orders/1<span class="pl-pds">"</span></span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="42" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L42"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .withHeader(<span class="pl-s"><span class="pl-pds">"</span>Accept<span class="pl-pds">"</span></span>, equalTo(<span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="43" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L43"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .willReturn(aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-smi">HttpStatus</span><span class="pl-c1"><span class="pl-k">.</span>SC_SERVICE_UNAVAILABLE</span>)));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="44" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L44"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="45" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L45"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">    wireMockRule<span class="pl-k">.</span>stubFor(get(urlEqualTo(<span class="pl-s"><span class="pl-pds">"</span>/icecream/orders/2<span class="pl-pds">"</span></span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="46" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L46"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .withHeader(<span class="pl-s"><span class="pl-pds">"</span>Accept<span class="pl-pds">"</span></span>, equalTo(<span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="47" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L47"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .willReturn(aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-smi">HttpStatus</span><span class="pl-c1"><span class="pl-k">.</span>SC_UNAUTHORIZED</span>)));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="48" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L48"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="49" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L49"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="50" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L50"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">IcecreamServiceApi</span> client <span class="pl-k">=</span> builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="51" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L51"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .statusHandler(compose(</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="52" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L52"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">                    throwOnStatus(</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="53" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L53"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">                            status <span class="pl-k">-</span><span class="pl-k">&gt;</span> status <span class="pl-k">==</span> <span class="pl-smi">HttpStatus</span><span class="pl-c1"><span class="pl-k">.</span>SC_SERVICE_UNAVAILABLE</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="54" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L54"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">                            (methodTag, response) <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-k">new</span> <span class="pl-smi">RetryableException</span>(<span class="pl-s"><span class="pl-pds">"</span>Should retry on next node<span class="pl-pds">"</span></span>, <span class="pl-c1">null</span>)),</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="55" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L55"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">                    throwOnStatus(</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="56" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L56"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">                            status <span class="pl-k">-</span><span class="pl-k">&gt;</span> status <span class="pl-k">==</span> <span class="pl-smi">HttpStatus</span><span class="pl-c1"><span class="pl-k">.</span>SC_UNAUTHORIZED</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="57" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L57"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">                            (methodTag, response) <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-k">new</span> <span class="pl-smi">RuntimeException</span>(<span class="pl-s"><span class="pl-pds">"</span>Should login<span class="pl-pds">"</span></span>, <span class="pl-c1">null</span>))))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="58" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L58"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .target(<span class="pl-smi">IcecreamServiceApi</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>http://localhost:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> wireMockRule<span class="pl-k">.</span>port());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="35" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R35"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">protected</span> <span class="pl-k">Predicate&lt;<span class="pl-smi">Throwable</span>&gt;</span> <span class="pl-en">customException</span>(){</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="36" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R36"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">HystrixRuntimeException</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R37"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> throwable<span class="pl-k">.</span>getCause() <span class="pl-k">instanceof</span> <span class="pl-smi">UnsupportedOperationException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="38" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R38"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R39"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="60" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L60"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">StepVerifier</span><span class="pl-k">.</span>create(client<span class="pl-k">.</span>findFirstOrder())</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="61" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L61"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .expectErrorMatches(throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">HystrixRuntimeException</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="62" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L62"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> throwable<span class="pl-k">.</span>getCause() <span class="pl-k">instanceof</span> <span class="pl-smi">RetryableException</span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="63" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L63"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .verify();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="40" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R40"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R41"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">protected</span> <span class="pl-k">Predicate&lt;<span class="pl-smi">Throwable</span>&gt;</span> <span class="pl-en">feignDefaultException</span>(){</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="42" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R42"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">HystrixRuntimeException</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R43"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> throwable<span class="pl-k">.</span>getCause() <span class="pl-k">instanceof</span> <span class="pl-smi">FeignException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R44"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="64" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L64"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="45" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R45"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="65" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L65"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">StepVerifier</span><span class="pl-k">.</span>create(client<span class="pl-k">.</span>findOrder(<span class="pl-c1">2</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="66" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L66"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .expectErrorMatches(throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">HystrixRuntimeException</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="67" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L67"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> throwable<span class="pl-k">.</span>getCause() <span class="pl-k">instanceof</span> <span class="pl-smi">RuntimeException</span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="68" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L68"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            .verify();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="46" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R46"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="47" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R47"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">protected</span> <span class="pl-k">Predicate&lt;<span class="pl-smi">Throwable</span>&gt;</span> <span class="pl-en">customException1</span>(){</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="48" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R48"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">HystrixRuntimeException</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="49" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R49"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> throwable<span class="pl-k">.</span>getCause() <span class="pl-k">instanceof</span> <span class="pl-smi">RetryableException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R50"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="69" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L69"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R51"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R52"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="53" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R53"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">protected</span> <span class="pl-k">Predicate&lt;<span class="pl-smi">Throwable</span>&gt;</span> <span class="pl-en">customException2</span>(){</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R54"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">HystrixRuntimeException</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R55"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> throwable<span class="pl-k">.</span>getCause() <span class="pl-k">instanceof</span> <span class="pl-smi">RuntimeException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="70" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L70"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R56"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L71"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="57" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R57"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="14" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L14"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="14" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R14"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L15"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R15"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="16" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L16"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="16" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R16"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="17" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R18"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="18" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L18"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="19" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R20"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="22" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L23"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R21"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="24" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L24"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="25" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L25"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="26" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L26"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="22" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R23"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="28" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L28"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="24" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R24"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R32"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="33" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R33"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L38"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="34" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R34"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="39" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L39"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="40" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L40"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="41" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L41"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="42" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L42"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="43" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L43"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="44" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L44"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="45" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L45"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="46" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L46"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="47" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L47"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="48" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L48"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="49" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L49"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="50" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L50"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="51" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L51"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="52" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L52"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="53" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L53"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="54" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L54"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="55" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L55"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="56" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L56"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="57" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L57"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="58" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L58"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="35" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R35"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="36" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R36"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R37"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="38" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R38"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R39"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="60" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L60"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="61" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L61"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="62" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L62"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="63" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L63"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="40" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R40"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R41"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="42" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R42"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R43"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R44"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="64" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L64"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="45" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R45"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="65" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L65"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="66" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L66"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="67" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L67"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="68" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L68"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="46" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R46"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="47" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R47"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="48" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R48"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="49" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R49"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R50"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="69" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L69"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R51"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="52" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R52"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="53" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R53"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R54"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="55" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R55"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="70" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L70"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R56"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-74abb5aa79bbd218caba3ec623b7fcb2L71"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="57" id="diff-74abb5aa79bbd218caba3ec623b7fcb2R57"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-1">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-f33a9f10b2accaf0fa3618e5e79d8d04" data-file-deleted="false" data-file-type=".java" data-path="feign-reactor-core/src/main/java/reactivefeign/retry/BasicReactiveRetryPolicy.java" data-short-path="f33a9f1">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="feign-reactor-core/src/main/java/reactivefeign/retry/BasicReactiveRetryPolicy.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/Playtika/feign-reactive/blob/2e4eaed564acbb7c97da8c0b752f27af597f0ae1/feign-reactor-core/src/main/java/reactivefeign/retry/BasicReactiveRetryPolicy.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="17 additions &amp; 14 deletions" class="diffstat tooltipped tooltipped-e">31 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-f33a9f10b2accaf0fa3618e5e79d8d04" title="feign-reactor-core/src/main/java/reactivefeign/retry/BasicReactiveRetryPolicy.java">feign-reactor-core/src/main/java/reactivefeign/retry/BasicReactiveRetryPolicy.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-f33a9f10b2accaf0fa3618e5e79d8d04" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-14" data-right-range="1-14" data-url="/Playtika/feign-reactive/blob_excerpt/e4336589188469e05c09124e0f77053236d58b8f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=15&amp;left_hunk_size=6&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Fmain%2Fjava%2Freactivefeign%2Fretry%2FBasicReactiveRetryPolicy.java&amp;right=15&amp;right_hunk_size=7" href="#diff-f33a9f10b2accaf0fa3618e5e79d8d04" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -15,6 +15,7 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L15"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R15"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="16" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L16"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="16" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R16"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">feign.RetryableException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R17"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="18" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R18"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">java.time.Clock</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R19"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">java.util.Date</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R20"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R21"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-c"><span class="pl-c">/**</span></span></span></td>
</tr>
<tr class="js-expandable-line" data-position="8">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="21-21" data-right-range="22-22" data-url="/Playtika/feign-reactive/blob_excerpt/e4336589188469e05c09124e0f77053236d58b8f?diff=unified&amp;in_wiki_context=&amp;last_left=20&amp;last_right=21&amp;left=24&amp;left_hunk_size=18&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Fmain%2Fjava%2Freactivefeign%2Fretry%2FBasicReactiveRetryPolicy.java&amp;right=25&amp;right_hunk_size=20" href="#diff-f33a9f10b2accaf0fa3618e5e79d8d04" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -24,18 +25,20 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="24" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L24"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R25"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R26"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-k">int</span> maxRetries;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L26"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R27"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-k">long</span> periodInMs;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R28"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">final</span> <span class="pl-smi">Clock</span> clock;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R29"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="28" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L28"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-en">BasicReactiveRetryPolicy</span>(<span class="pl-k">int</span> <span class="pl-v">maxRetries</span>, <span class="pl-k">long</span> <span class="pl-v">periodInMs</span>){</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R30"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-en">BasicReactiveRetryPolicy</span>(<span class="pl-k">int</span> <span class="pl-v">maxRetries</span>, <span class="pl-k">long</span> <span class="pl-v">periodInMs</span><span class="x x-first">, </span><span class="pl-smi x">Clock</span><span class="x"> </span><span class="pl-v x x-last">clock</span>){</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R31"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>maxRetries <span class="pl-k">=</span> maxRetries;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R32"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>periodInMs <span class="pl-k">=</span> periodInMs;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R33"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>clock <span class="pl-k">=</span> clock;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="34" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R34"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L32"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R35"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="33" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L33"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R36"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">SimpleReactiveRetryPolicy</span> <span class="pl-en">retry</span>(<span class="pl-k">int</span> <span class="pl-v">maxRetries</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="34" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L34"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">BasicReactiveRetryPolicy</span><span class="x x-first x-last">(</span>maxRetries<span class="x x-first">, </span><span class="pl-c1 x x-last">0</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R37"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">BasicReactiveRetryPolicy</span><span class="x x-first">.</span><span class="pl-smi x">Builder</span><span class="x">()</span><span class="pl-k x">.</span><span class="x x-last">setMaxRetries(</span>maxRetries<span class="x x-first">)</span><span class="pl-k x">.</span><span class="x x-last">build(</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L35"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R38"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R39"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R40"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">SimpleReactiveRetryPolicy</span> <span class="pl-en">retryWithBackoff</span>(<span class="pl-k">int</span> <span class="pl-v">maxRetries</span>, <span class="pl-k">long</span> <span class="pl-v">periodInMs</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="38" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L38"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">BasicReactiveRetryPolicy</span><span class="x x-first x-last">(</span>maxRetries<span class="x x-first x-last">, </span>periodInMs);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R41"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">BasicReactiveRetryPolicy</span><span class="x x-first">.</span><span class="pl-smi x">Builder</span><span class="x">()</span><span class="pl-k x">.</span><span class="x x-last">setMaxRetries(</span>maxRetries<span class="x x-first">)</span><span class="pl-k x">.</span><span class="x x-last">setBackoffInMs(</span>periodInMs<span class="x x-first">)</span><span class="pl-k x">.</span><span class="x x-last">build(</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L39"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="42" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R42"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L40"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="43" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R43"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="41" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L41"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="44" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R44"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Override</span></span></td>
</tr>
<tr class="js-expandable-line" data-position="32">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="42-43" data-right-range="45-46" data-url="/Playtika/feign-reactive/blob_excerpt/e4336589188469e05c09124e0f77053236d58b8f?diff=unified&amp;in_wiki_context=&amp;last_left=41&amp;last_right=44&amp;left=48&amp;left_hunk_size=7&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Fmain%2Fjava%2Freactivefeign%2Fretry%2FBasicReactiveRetryPolicy.java&amp;right=51&amp;right_hunk_size=7" href="#diff-f33a9f10b2accaf0fa3618e5e79d8d04" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -48,7 +51,7 @@ public long retryDelay(Throwable error, int attemptNo) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="48" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L48"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R51"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (error <span class="pl-k">instanceof</span> <span class="pl-smi">RetryableException</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L49"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="52" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R52"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> (retryAfter <span class="pl-k">=</span> ((<span class="pl-smi">RetryableException</span>) error)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="50" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L50"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R53"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                .retryAfter()) <span class="pl-k">!=</span> <span class="pl-c1">null</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="51" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L51"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">          delay <span class="pl-k">=</span> retryAfter<span class="pl-k">.</span>getTime() <span class="pl-k">-</span> <span class="pl-smi x x-first">System</span><span class="pl-k x">.</span><span class="x x-last">currentTimeMillis</span>();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R54"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">          delay <span class="pl-k">=</span> retryAfter<span class="pl-k">.</span>getTime() <span class="pl-k">-</span> <span class="x x-first">clock</span><span class="pl-k x">.</span><span class="x x-last">millis</span>();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="52" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L52"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="55" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R55"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">          delay <span class="pl-k">=</span> <span class="pl-smi">Math</span><span class="pl-k">.</span>min(delay, periodInMs);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L53"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R56"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">          delay <span class="pl-k">=</span> <span class="pl-smi">Math</span><span class="pl-k">.</span>max(delay, <span class="pl-c1">0</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L54"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="57" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R57"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        } <span class="pl-k">else</span> {</span></td>
</tr>
<tr class="js-expandable-line" data-position="41">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="55-59" data-right-range="58-62" data-url="/Playtika/feign-reactive/blob_excerpt/e4336589188469e05c09124e0f77053236d58b8f?diff=unified&amp;in_wiki_context=&amp;last_left=54&amp;last_right=57&amp;left=66&amp;left_hunk_size=25&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Fmain%2Fjava%2Freactivefeign%2Fretry%2FBasicReactiveRetryPolicy.java&amp;right=69&amp;right_hunk_size=25" href="#diff-f33a9f10b2accaf0fa3618e5e79d8d04" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -66,25 +69,25 @@ public long retryDelay(Throwable error, int attemptNo) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="66" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L66"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="69" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R69"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">class</span> <span class="pl-en">Builder</span> <span class="pl-k">implements</span> <span class="pl-e">ReactiveRetryPolicy</span>.<span class="pl-e">Builder</span>{</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="67" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L67"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="70" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R70"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">int</span> maxRetries;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="68" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L68"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R71"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">long</span> backoffInMs <span class="pl-k">=</span> <span class="pl-c1">0</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="72" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R72"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">Clock</span> clock <span class="pl-k">=</span> <span class="pl-smi">Clock</span><span class="pl-k">.</span>systemUTC();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="69" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L69"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="73" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R73"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="70" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L70"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">int</span> <span class="pl-en">getMaxRetries</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="71" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L71"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span> maxRetries;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="72" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L72"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="73" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L73"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="74" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L74"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">setMaxRetries</span>(<span class="pl-k">int</span> <span class="pl-v">maxRetries</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="74" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R74"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">Builder</span> <span class="pl-en">setMaxRetries</span>(<span class="pl-k">int</span> <span class="pl-v">maxRetries</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="75" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L75"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="75" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R75"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>maxRetries <span class="pl-k">=</span> maxRetries;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="76" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R76"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">this</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="76" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R77"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="78" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R78"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="78" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L78"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">long</span> <span class="pl-en">getBackoffInMs</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="79" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L79"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span> backoffInMs;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="79" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R79"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">Builder</span> <span class="pl-en">setBackoffInMs</span>(<span class="pl-k">long</span> <span class="pl-v">backoffInMs</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="80" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R80"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>backoffInMs <span class="pl-k">=</span> backoffInMs;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="81" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R81"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">this</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="80" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L80"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="82" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R82"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="81" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L81"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="83" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R83"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="82" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L82"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">setBackoffInMs</span>(<span class="pl-k">long</span> <span class="pl-v">backoffInMs</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="83" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L83"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>backoffInMs <span class="pl-k">=</span> backoffInMs;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="84" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R84"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">Builder</span> <span class="pl-en">setClock</span>(<span class="pl-smi">Clock</span> <span class="pl-v">clock</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="85" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R85"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>clock <span class="pl-k">=</span> clock;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="86" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R86"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">this</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="84" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L84"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="87" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R87"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="85" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L85"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="88" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R88"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="86" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L86"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="89" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R89"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">BasicReactiveRetryPolicy</span> <span class="pl-en">build</span>(){</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="87" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L87"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">BasicReactiveRetryPolicy</span>(maxRetries, backoffInMs);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="90" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R90"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">BasicReactiveRetryPolicy</span>(maxRetries, backoffInMs<span class="x x-first x-last">, clock</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="88" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L88"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="91" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R91"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="89" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L89"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R92"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="90" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L90"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R93"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L15"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="15" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R15"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="16" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L16"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="16" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R16"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R17"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="18" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="24" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L24"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R26"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L26"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R27"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R28"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R29"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="28" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L28"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R32"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R33"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="34" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R34"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L32"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R35"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="33" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L33"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R36"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="34" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L34"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L35"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R38"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R39"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R40"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="38" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L38"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R41"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L39"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="42" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R42"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L40"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="43" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R43"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="41" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L41"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="44" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R44"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="48" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L48"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R51"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L49"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="52" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R52"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="50" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L50"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R53"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="51" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L51"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="54" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R54"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="52" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L52"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="55" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R55"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L53"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R56"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L54"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="57" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R57"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="66" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L66"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="69" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R69"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="67" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L67"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="70" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R70"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="68" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L68"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R71"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="72" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R72"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="69" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L69"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="73" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R73"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="70" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L70"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="71" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L71"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="72" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L72"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="73" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L73"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="74" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L74"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="74" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R74"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="75" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L75"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="75" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R75"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="76" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="76" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="78" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R78"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="78" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L78"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="79" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L79"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="79" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R79"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="80" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R80"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="81" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R81"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="80" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L80"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="82" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R82"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="81" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L81"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="83" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R83"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="82" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L82"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="83" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L83"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="84" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R84"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="85" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R85"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="86" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R86"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="84" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L84"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="87" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R87"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="85" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L85"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="88" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R88"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="86" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L86"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="89" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R89"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="87" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L87"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="90" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R90"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="88" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L88"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="91" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R91"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="89" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L89"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R92"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="90" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04L90"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-f33a9f10b2accaf0fa3618e5e79d8d04R93"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-2">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-bf0be3ab412167a5fb48169258af376a" data-file-deleted="false" data-file-type=".java" data-path="feign-reactor-core/src/test/java/reactivefeign/RetryingTest.java" data-short-path="bf0be3a">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="feign-reactor-core/src/test/java/reactivefeign/RetryingTest.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/Playtika/feign-reactive/blob/2e4eaed564acbb7c97da8c0b752f27af597f0ae1/feign-reactor-core/src/test/java/reactivefeign/RetryingTest.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="64 additions &amp; 12 deletions" class="diffstat tooltipped tooltipped-e">76 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-bf0be3ab412167a5fb48169258af376a" title="feign-reactor-core/src/test/java/reactivefeign/RetryingTest.java">feign-reactor-core/src/test/java/reactivefeign/RetryingTest.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-bf0be3ab412167a5fb48169258af376a" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-16" data-right-range="1-16" data-url="/Playtika/feign-reactive/blob_excerpt/9740cf21c9358c73372099825d8fc37e8b6c8bd8?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=17&amp;left_hunk_size=6&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2FRetryingTest.java&amp;right=17&amp;right_hunk_size=7" href="#diff-bf0be3ab412167a5fb48169258af376a" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -17,6 +17,7 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-bf0be3ab412167a5fb48169258af376aL17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-bf0be3ab412167a5fb48169258af376aR17"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.github.tomakehurst.wiremock.client.ResponseDefinitionBuilder</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-bf0be3ab412167a5fb48169258af376aL18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-bf0be3ab412167a5fb48169258af376aR18"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.github.tomakehurst.wiremock.core.WireMockConfiguration</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-bf0be3ab412167a5fb48169258af376aL19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-bf0be3ab412167a5fb48169258af376aR19"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.github.tomakehurst.wiremock.junit.WireMockClassRule</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-bf0be3ab412167a5fb48169258af376aR20"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.github.tomakehurst.wiremock.stubbing.ServeEvent</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-bf0be3ab412167a5fb48169258af376aL20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-bf0be3ab412167a5fb48169258af376aR21"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">feign.RetryableException</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-bf0be3ab412167a5fb48169258af376aL21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-bf0be3ab412167a5fb48169258af376aR22"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">org.junit.Before</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-bf0be3ab412167a5fb48169258af376aL22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-bf0be3ab412167a5fb48169258af376aR23"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">org.junit.Rule</span>;</span></td>
</tr>
<tr class="js-expandable-line" data-position="8">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="23-24" data-right-range="24-25" data-url="/Playtika/feign-reactive/blob_excerpt/9740cf21c9358c73372099825d8fc37e8b6c8bd8?diff=unified&amp;in_wiki_context=&amp;last_left=22&amp;last_right=23&amp;left=29&amp;left_hunk_size=13&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2FRetryingTest.java&amp;right=30&amp;right_hunk_size=19" href="#diff-bf0be3ab412167a5fb48169258af376a" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -29,13 +30,19 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-bf0be3ab412167a5fb48169258af376aL29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-bf0be3ab412167a5fb48169258af376aR30"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">reactor.test.StepVerifier</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-bf0be3ab412167a5fb48169258af376aL30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-bf0be3ab412167a5fb48169258af376aR31"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-bf0be3ab412167a5fb48169258af376aL31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-bf0be3ab412167a5fb48169258af376aR32"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">java.util.Arrays</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-bf0be3ab412167a5fb48169258af376aR33"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">java.util.List</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-bf0be3ab412167a5fb48169258af376aL32"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="34" id="diff-bf0be3ab412167a5fb48169258af376aR34"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="33" id="diff-bf0be3ab412167a5fb48169258af376aL33"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-bf0be3ab412167a5fb48169258af376aR35"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">com.github.tomakehurst.wiremock.client.WireMock.*</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="34" id="diff-bf0be3ab412167a5fb48169258af376aL34"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-bf0be3ab412167a5fb48169258af376aR36"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">com.github.tomakehurst.wiremock.stubbing.Scenario.STARTED</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-bf0be3ab412167a5fb48169258af376aR37"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">java.util.stream.Collectors.toList</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-bf0be3ab412167a5fb48169258af376aL35"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-bf0be3ab412167a5fb48169258af376aR38"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">org.apache.http.HttpHeaders.RETRY_AFTER</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-bf0be3ab412167a5fb48169258af376aL36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-bf0be3ab412167a5fb48169258af376aR39"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">org.apache.http.HttpStatus.SC_OK</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-bf0be3ab412167a5fb48169258af376aL37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-bf0be3ab412167a5fb48169258af376aR40"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">org.apache.http.HttpStatus.SC_SERVICE_UNAVAILABLE</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-bf0be3ab412167a5fb48169258af376aR41"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">org.assertj.core.api.Assertions.assertThat</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-bf0be3ab412167a5fb48169258af376aL38"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="42" id="diff-bf0be3ab412167a5fb48169258af376aR42"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">reactivefeign.TestUtils.equalsComparingFieldByFieldRecursively</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-bf0be3ab412167a5fb48169258af376aR43"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">reactivefeign.client.statushandler.ReactiveStatusHandlers.errorDecoder</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-bf0be3ab412167a5fb48169258af376aR44"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">reactivefeign.retry.BasicReactiveRetryPolicy.retry</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="45" id="diff-bf0be3ab412167a5fb48169258af376aR45"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import static</span> <span class="pl-smi">reactivefeign.retry.FilteredReactiveRetryPolicy.notRetryOn</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-bf0be3ab412167a5fb48169258af376aL39"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="46" id="diff-bf0be3ab412167a5fb48169258af376aR46"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-bf0be3ab412167a5fb48169258af376aL40"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="47" id="diff-bf0be3ab412167a5fb48169258af376aR47"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-c"><span class="pl-c">/**</span></span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="41" id="diff-bf0be3ab412167a5fb48169258af376aL41"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="48" id="diff-bf0be3ab412167a5fb48169258af376aR48"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-c"> * <span class="pl-k">@author</span> Sergii Karpenko</span></span></td>
</tr>
<tr class="js-expandable-line" data-position="28">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="42-51" data-right-range="49-58" data-url="/Playtika/feign-reactive/blob_excerpt/9740cf21c9358c73372099825d8fc37e8b6c8bd8?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=41&amp;last_right=48&amp;left=63&amp;left_hunk_size=42&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2FRetryingTest.java&amp;right=70&amp;right_hunk_size=49" href="#diff-bf0be3ab412167a5fb48169258af376a" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="52-62" data-right-range="59-69" data-url="/Playtika/feign-reactive/blob_excerpt/9740cf21c9358c73372099825d8fc37e8b6c8bd8?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=41&amp;last_right=48&amp;left=63&amp;left_hunk_size=42&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2FRetryingTest.java&amp;right=70&amp;right_hunk_size=49" href="#diff-bf0be3ab412167a5fb48169258af376a" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -63,42 +70,49 @@ public void shouldSuccessOnRetriesMono() throws JsonProcessingException {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="63" id="diff-bf0be3ab412167a5fb48169258af376aL63"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="70" id="diff-bf0be3ab412167a5fb48169258af376aR70"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">IceCreamOrder</span> orderGenerated <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">OrderGenerator</span>()<span class="pl-k">.</span>generate(<span class="pl-c1">1</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="64" id="diff-bf0be3ab412167a5fb48169258af376aL64"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-bf0be3ab412167a5fb48169258af376aR71"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">String</span> orderStr <span class="pl-k">=</span> <span class="pl-smi">TestUtils</span><span class="pl-c1"><span class="pl-k">.</span>MAPPER</span><span class="pl-k">.</span>writeValueAsString(orderGenerated);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="65" id="diff-bf0be3ab412167a5fb48169258af376aL65"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="72" id="diff-bf0be3ab412167a5fb48169258af376aR72"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="73" id="diff-bf0be3ab412167a5fb48169258af376aR73"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">String</span> requestUrl <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/icecream/orders/1<span class="pl-pds">"</span></span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="66" id="diff-bf0be3ab412167a5fb48169258af376aL66"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="74" id="diff-bf0be3ab412167a5fb48169258af376aR74"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    mockResponseAfterSeveralAttempts(wireMockRule, <span class="pl-c1">2</span>, <span class="pl-s"><span class="pl-pds">"</span>testRetrying_success<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="67" id="diff-bf0be3ab412167a5fb48169258af376aL67"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-s"><span class="pl-pds x x-first">"</span><span class="x">/icecream/orders/1</span><span class="pl-pds x x-last">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="68" id="diff-bf0be3ab412167a5fb48169258af376aL68"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1 x x-first x-last">503</span>)<span class="pl-k">.</span>withHeader(<span class="pl-c1">RETRY_AFTER</span>, <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>),</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="75" id="diff-bf0be3ab412167a5fb48169258af376aR75"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first x-last">    requestUrl</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="76" id="diff-bf0be3ab412167a5fb48169258af376aR76"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1 x x-first x-last">SC_SERVICE_UNAVAILABLE</span>)<span class="pl-k">.</span>withHeader(<span class="pl-c1">RETRY_AFTER</span>, <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>),</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="69" id="diff-bf0be3ab412167a5fb48169258af376aL69"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-bf0be3ab412167a5fb48169258af376aR77"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">200</span>)<span class="pl-k">.</span>withHeader(<span class="pl-s"><span class="pl-pds">"</span>Content-Type<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="70" id="diff-bf0be3ab412167a5fb48169258af376aL70"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="78" id="diff-bf0be3ab412167a5fb48169258af376aR78"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            .withBody(orderStr));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-bf0be3ab412167a5fb48169258af376aL71"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="79" id="diff-bf0be3ab412167a5fb48169258af376aR79"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="80" id="diff-bf0be3ab412167a5fb48169258af376aR80"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">int</span> maxRetries <span class="pl-k">=</span> <span class="pl-c1">3</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="72" id="diff-bf0be3ab412167a5fb48169258af376aL72"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="81" id="diff-bf0be3ab412167a5fb48169258af376aR81"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">IcecreamServiceApi</span> client <span class="pl-k">=</span> builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="73" id="diff-bf0be3ab412167a5fb48169258af376aL73"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi">BasicReactiveRetryPolicy</span><span class="pl-k">.</span>retryWithBackoff(<span class="pl-c1 x x-first x-last">3</span>, <span class="pl-c1">0</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="82" id="diff-bf0be3ab412167a5fb48169258af376aR82"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi">BasicReactiveRetryPolicy</span><span class="pl-k">.</span>retryWithBackoff(<span class="x x-first x-last">maxRetries</span>, <span class="pl-c1">0</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="74" id="diff-bf0be3ab412167a5fb48169258af376aL74"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="83" id="diff-bf0be3ab412167a5fb48169258af376aR83"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .target(<span class="pl-smi">IcecreamServiceApi</span><span class="pl-k">.</span>class,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="75" id="diff-bf0be3ab412167a5fb48169258af376aL75"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="84" id="diff-bf0be3ab412167a5fb48169258af376aR84"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-s"><span class="pl-pds">"</span>http://localhost:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> wireMockRule<span class="pl-k">.</span>port());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="76" id="diff-bf0be3ab412167a5fb48169258af376aL76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="85" id="diff-bf0be3ab412167a5fb48169258af376aR85"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-bf0be3ab412167a5fb48169258af376aL77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="86" id="diff-bf0be3ab412167a5fb48169258af376aR86"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">StepVerifier</span><span class="pl-k">.</span>create(client<span class="pl-k">.</span>findOrder(<span class="pl-c1">1</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="78" id="diff-bf0be3ab412167a5fb48169258af376aL78"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="87" id="diff-bf0be3ab412167a5fb48169258af376aR87"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .expectNextMatches(equalsComparingFieldByFieldRecursively(orderGenerated))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="79" id="diff-bf0be3ab412167a5fb48169258af376aL79"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="88" id="diff-bf0be3ab412167a5fb48169258af376aR88"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .verifyComplete();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="89" id="diff-bf0be3ab412167a5fb48169258af376aR89"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="90" id="diff-bf0be3ab412167a5fb48169258af376aR90"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    assertThat(getEventsForPath(requestUrl)<span class="pl-k">.</span>size())<span class="pl-k">.</span>isEqualTo(maxRetries);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="80" id="diff-bf0be3ab412167a5fb48169258af376aL80"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="91" id="diff-bf0be3ab412167a5fb48169258af376aR91"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="81" id="diff-bf0be3ab412167a5fb48169258af376aL81"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-bf0be3ab412167a5fb48169258af376aR92"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="82" id="diff-bf0be3ab412167a5fb48169258af376aL82"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-bf0be3ab412167a5fb48169258af376aR93"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Test</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="83" id="diff-bf0be3ab412167a5fb48169258af376aL83"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-bf0be3ab412167a5fb48169258af376aR94"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">shouldSuccessOnRetriesFlux</span>() <span class="pl-k">throws</span> <span class="pl-smi">JsonProcessingException</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="84" id="diff-bf0be3ab412167a5fb48169258af376aL84"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-bf0be3ab412167a5fb48169258af376aR95"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="85" id="diff-bf0be3ab412167a5fb48169258af376aL85"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="96" id="diff-bf0be3ab412167a5fb48169258af376aR96"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">String</span> mixinsStr <span class="pl-k">=</span> <span class="pl-smi">TestUtils</span><span class="pl-c1"><span class="pl-k">.</span>MAPPER</span><span class="pl-k">.</span>writeValueAsString(<span class="pl-smi">Mixin</span><span class="pl-k">.</span>values());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="86" id="diff-bf0be3ab412167a5fb48169258af376aL86"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-bf0be3ab412167a5fb48169258af376aR97"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="98" id="diff-bf0be3ab412167a5fb48169258af376aR98"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">String</span> requestUrl <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/icecream/mixins<span class="pl-pds">"</span></span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="87" id="diff-bf0be3ab412167a5fb48169258af376aL87"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="99" id="diff-bf0be3ab412167a5fb48169258af376aR99"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    mockResponseAfterSeveralAttempts(wireMockRule, <span class="pl-c1">2</span>, <span class="pl-s"><span class="pl-pds">"</span>testRetrying_success<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="88" id="diff-bf0be3ab412167a5fb48169258af376aL88"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-s"><span class="pl-pds">"</span>/icecream/mixins<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="89" id="diff-bf0be3ab412167a5fb48169258af376aL89"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">SC_SERVICE_UNAVAILABLE</span>)<span class="pl-k">.</span>withHeader(<span class="pl-c1">RETRY_AFTER</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="90" id="diff-bf0be3ab412167a5fb48169258af376aL90"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>),</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="100" id="diff-bf0be3ab412167a5fb48169258af376aR100"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            requestUrl,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="101" id="diff-bf0be3ab412167a5fb48169258af376aR101"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">SC_SERVICE_UNAVAILABLE</span>)<span class="pl-k">.</span>withHeader(<span class="pl-c1">RETRY_AFTER</span>,<span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>),</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="91" id="diff-bf0be3ab412167a5fb48169258af376aL91"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="102" id="diff-bf0be3ab412167a5fb48169258af376aR102"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">SC_OK</span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-bf0be3ab412167a5fb48169258af376aL92"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="103" id="diff-bf0be3ab412167a5fb48169258af376aR103"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            .withHeader(<span class="pl-s"><span class="pl-pds">"</span>Content-Type<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-bf0be3ab412167a5fb48169258af376aL93"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-bf0be3ab412167a5fb48169258af376aR104"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            .withBody(mixinsStr));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-bf0be3ab412167a5fb48169258af376aL94"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-bf0be3ab412167a5fb48169258af376aR105"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="106" id="diff-bf0be3ab412167a5fb48169258af376aR106"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">int</span> maxRetries <span class="pl-k">=</span> <span class="pl-c1">3</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-bf0be3ab412167a5fb48169258af376aL95"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="107" id="diff-bf0be3ab412167a5fb48169258af376aR107"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">IcecreamServiceApi</span> client <span class="pl-k">=</span> builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="96" id="diff-bf0be3ab412167a5fb48169258af376aL96"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi">BasicReactiveRetryPolicy</span><span class="pl-k">.</span>retryWithBackoff(<span class="pl-c1 x x-first x-last">3</span>, <span class="pl-c1">0</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="108" id="diff-bf0be3ab412167a5fb48169258af376aR108"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi">BasicReactiveRetryPolicy</span><span class="pl-k">.</span>retryWithBackoff(<span class="x x-first x-last">maxRetries</span>, <span class="pl-c1">0</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-bf0be3ab412167a5fb48169258af376aL97"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-bf0be3ab412167a5fb48169258af376aR109"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .target(<span class="pl-smi">IcecreamServiceApi</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>http://localhost:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> wireMockRule<span class="pl-k">.</span>port());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="98" id="diff-bf0be3ab412167a5fb48169258af376aL98"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-bf0be3ab412167a5fb48169258af376aR110"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="99" id="diff-bf0be3ab412167a5fb48169258af376aL99"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="111" id="diff-bf0be3ab412167a5fb48169258af376aR111"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">StepVerifier</span><span class="pl-k">.</span>create(client<span class="pl-k">.</span>getAvailableMixins())</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="100" id="diff-bf0be3ab412167a5fb48169258af376aL100"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="112" id="diff-bf0be3ab412167a5fb48169258af376aR112"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .expectNextSequence(<span class="pl-smi">Arrays</span><span class="pl-k">.</span>asList(<span class="pl-smi">Mixin</span><span class="pl-k">.</span>values()))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="101" id="diff-bf0be3ab412167a5fb48169258af376aL101"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="113" id="diff-bf0be3ab412167a5fb48169258af376aR113"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .verifyComplete();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="114" id="diff-bf0be3ab412167a5fb48169258af376aR114"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="115" id="diff-bf0be3ab412167a5fb48169258af376aR115"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    assertThat(getEventsForPath(requestUrl)<span class="pl-k">.</span>size())<span class="pl-k">.</span>isEqualTo(maxRetries);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="102" id="diff-bf0be3ab412167a5fb48169258af376aL102"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="116" id="diff-bf0be3ab412167a5fb48169258af376aR116"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="103" id="diff-bf0be3ab412167a5fb48169258af376aL103"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="117" id="diff-bf0be3ab412167a5fb48169258af376aR117"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-bf0be3ab412167a5fb48169258af376aL104"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="118" id="diff-bf0be3ab412167a5fb48169258af376aR118"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Test</span></span></td>
</tr>
<tr class="js-expandable-line" data-position="85">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="105-104" data-right-range="119-118" data-url="/Playtika/feign-reactive/blob_excerpt/9740cf21c9358c73372099825d8fc37e8b6c8bd8?diff=unified&amp;in_wiki_context=&amp;last_left=104&amp;last_right=118&amp;left=107&amp;left_hunk_size=19&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2FRetryingTest.java&amp;right=121&amp;right_hunk_size=23" href="#diff-bf0be3ab412167a5fb48169258af376a" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -107,19 +121,23 @@ public void shouldSuccessOnRetriesWoRetryAfter() throws JsonProcessingException</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="107" id="diff-bf0be3ab412167a5fb48169258af376aL107"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="121" id="diff-bf0be3ab412167a5fb48169258af376aR121"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">IceCreamOrder</span> orderGenerated <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">OrderGenerator</span>()<span class="pl-k">.</span>generate(<span class="pl-c1">1</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="108" id="diff-bf0be3ab412167a5fb48169258af376aL108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="122" id="diff-bf0be3ab412167a5fb48169258af376aR122"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">String</span> orderStr <span class="pl-k">=</span> <span class="pl-smi">TestUtils</span><span class="pl-c1"><span class="pl-k">.</span>MAPPER</span><span class="pl-k">.</span>writeValueAsString(orderGenerated);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-bf0be3ab412167a5fb48169258af376aL109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="123" id="diff-bf0be3ab412167a5fb48169258af376aR123"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="124" id="diff-bf0be3ab412167a5fb48169258af376aR124"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">String</span> orderUrl <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/icecream/orders/1<span class="pl-pds">"</span></span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-bf0be3ab412167a5fb48169258af376aL110"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="125" id="diff-bf0be3ab412167a5fb48169258af376aR125"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    mockResponseAfterSeveralAttempts(wireMockRule, <span class="pl-c1">2</span>, <span class="pl-s"><span class="pl-pds">"</span>testRetrying_success<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="111" id="diff-bf0be3ab412167a5fb48169258af376aL111"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-s"><span class="pl-pds x x-first">"</span><span class="x">/icecream/orders/1</span><span class="pl-pds x x-last">"</span></span>, aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">SC_SERVICE_UNAVAILABLE</span>),</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="126" id="diff-bf0be3ab412167a5fb48169258af376aR126"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first x-last">    orderUrl</span>, aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">SC_SERVICE_UNAVAILABLE</span>),</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="112" id="diff-bf0be3ab412167a5fb48169258af376aL112"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="127" id="diff-bf0be3ab412167a5fb48169258af376aR127"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">SC_OK</span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="113" id="diff-bf0be3ab412167a5fb48169258af376aL113"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="128" id="diff-bf0be3ab412167a5fb48169258af376aR128"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            .withHeader(<span class="pl-s"><span class="pl-pds">"</span>Content-Type<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="114" id="diff-bf0be3ab412167a5fb48169258af376aL114"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="129" id="diff-bf0be3ab412167a5fb48169258af376aR129"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            .withBody(orderStr));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="115" id="diff-bf0be3ab412167a5fb48169258af376aL115"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="130" id="diff-bf0be3ab412167a5fb48169258af376aR130"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="131" id="diff-bf0be3ab412167a5fb48169258af376aR131"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">int</span> maxRetries <span class="pl-k">=</span> <span class="pl-c1">3</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="116" id="diff-bf0be3ab412167a5fb48169258af376aL116"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="132" id="diff-bf0be3ab412167a5fb48169258af376aR132"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">IcecreamServiceApi</span> client <span class="pl-k">=</span> builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="117" id="diff-bf0be3ab412167a5fb48169258af376aL117"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi">BasicReactiveRetryPolicy</span><span class="pl-k">.</span>retryWithBackoff(<span class="pl-c1 x x-first x-last">3</span>, <span class="pl-c1">0</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="133" id="diff-bf0be3ab412167a5fb48169258af376aR133"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi">BasicReactiveRetryPolicy</span><span class="pl-k">.</span>retryWithBackoff(<span class="x x-first x-last">maxRetries</span>, <span class="pl-c1">0</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="118" id="diff-bf0be3ab412167a5fb48169258af376aL118"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="134" id="diff-bf0be3ab412167a5fb48169258af376aR134"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .target(<span class="pl-smi">IcecreamServiceApi</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>http://localhost:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> wireMockRule<span class="pl-k">.</span>port());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="119" id="diff-bf0be3ab412167a5fb48169258af376aL119"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="135" id="diff-bf0be3ab412167a5fb48169258af376aR135"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="120" id="diff-bf0be3ab412167a5fb48169258af376aL120"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="136" id="diff-bf0be3ab412167a5fb48169258af376aR136"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">StepVerifier</span><span class="pl-k">.</span>create(client<span class="pl-k">.</span>findOrder(<span class="pl-c1">1</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="121" id="diff-bf0be3ab412167a5fb48169258af376aL121"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="137" id="diff-bf0be3ab412167a5fb48169258af376aR137"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .expectNextMatches(equalsComparingFieldByFieldRecursively(orderGenerated))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="122" id="diff-bf0be3ab412167a5fb48169258af376aL122"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="138" id="diff-bf0be3ab412167a5fb48169258af376aR138"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .verifyComplete();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="139" id="diff-bf0be3ab412167a5fb48169258af376aR139"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="140" id="diff-bf0be3ab412167a5fb48169258af376aR140"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    assertThat(getEventsForPath(orderUrl)<span class="pl-k">.</span>size())<span class="pl-k">.</span>isEqualTo(maxRetries);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="123" id="diff-bf0be3ab412167a5fb48169258af376aL123"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="141" id="diff-bf0be3ab412167a5fb48169258af376aR141"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="124" id="diff-bf0be3ab412167a5fb48169258af376aL124"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="142" id="diff-bf0be3ab412167a5fb48169258af376aR142"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="125" id="diff-bf0be3ab412167a5fb48169258af376aL125"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="143" id="diff-bf0be3ab412167a5fb48169258af376aR143"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">mockResponseAfterSeveralAttempts</span>(<span class="pl-smi">WireMockClassRule</span> <span class="pl-v">rule</span>,</span></td>
</tr>
<tr class="js-expandable-line" data-position="111">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="126-138" data-right-range="144-156" data-url="/Playtika/feign-reactive/blob_excerpt/9740cf21c9358c73372099825d8fc37e8b6c8bd8?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=125&amp;last_right=143&amp;left=153&amp;left_hunk_size=13&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2FRetryingTest.java&amp;right=171&amp;right_hunk_size=16" href="#diff-bf0be3ab412167a5fb48169258af376a" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="139-152" data-right-range="157-170" data-url="/Playtika/feign-reactive/blob_excerpt/9740cf21c9358c73372099825d8fc37e8b6c8bd8?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=125&amp;last_right=143&amp;left=153&amp;left_hunk_size=13&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2FRetryingTest.java&amp;right=171&amp;right_hunk_size=16" href="#diff-bf0be3ab412167a5fb48169258af376a" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -153,13 +171,16 @@ public void shouldFailAsNoMoreRetries() {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="153" id="diff-bf0be3ab412167a5fb48169258af376aL153"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="171" id="diff-bf0be3ab412167a5fb48169258af376aR171"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .withHeader(<span class="pl-s"><span class="pl-pds">"</span>Accept<span class="pl-pds">"</span></span>, equalTo(<span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="154" id="diff-bf0be3ab412167a5fb48169258af376aL154"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="172" id="diff-bf0be3ab412167a5fb48169258af376aR172"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .willReturn(aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">503</span>)<span class="pl-k">.</span>withHeader(<span class="pl-c1">RETRY_AFTER</span>, <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>)));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="155" id="diff-bf0be3ab412167a5fb48169258af376aL155"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="173" id="diff-bf0be3ab412167a5fb48169258af376aR173"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="174" id="diff-bf0be3ab412167a5fb48169258af376aR174"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">int</span> maxRetries <span class="pl-k">=</span> <span class="pl-c1">3</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="156" id="diff-bf0be3ab412167a5fb48169258af376aL156"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="175" id="diff-bf0be3ab412167a5fb48169258af376aR175"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">IcecreamServiceApi</span> client <span class="pl-k">=</span> builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="157" id="diff-bf0be3ab412167a5fb48169258af376aL157"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi x x-first">BasicReactiveRetryPolicy</span><span class="pl-k x x-last">.</span>retry(<span class="pl-c1 x x-first x-last">3</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="176" id="diff-bf0be3ab412167a5fb48169258af376aR176"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        .retryWhen(retry(<span class="x x-first x-last">maxRetries</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="158" id="diff-bf0be3ab412167a5fb48169258af376aL158"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="177" id="diff-bf0be3ab412167a5fb48169258af376aR177"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .target(<span class="pl-smi">IcecreamServiceApi</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>http://localhost:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> wireMockRule<span class="pl-k">.</span>port());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="159" id="diff-bf0be3ab412167a5fb48169258af376aL159"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="178" id="diff-bf0be3ab412167a5fb48169258af376aR178"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="160" id="diff-bf0be3ab412167a5fb48169258af376aL160"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="179" id="diff-bf0be3ab412167a5fb48169258af376aR179"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">StepVerifier</span><span class="pl-k">.</span>create(client<span class="pl-k">.</span>findOrder(<span class="pl-c1">1</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="161" id="diff-bf0be3ab412167a5fb48169258af376aL161"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="180" id="diff-bf0be3ab412167a5fb48169258af376aR180"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .expectErrorMatches(throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">RetryableException</span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="162" id="diff-bf0be3ab412167a5fb48169258af376aL162"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="181" id="diff-bf0be3ab412167a5fb48169258af376aR181"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .verify();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="182" id="diff-bf0be3ab412167a5fb48169258af376aR182"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="183" id="diff-bf0be3ab412167a5fb48169258af376aR183"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    assertThat(getEventsForPath(orderUrl)<span class="pl-k">.</span>size())<span class="pl-k">.</span>isEqualTo(maxRetries <span class="pl-k">+</span> <span class="pl-c1">1</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="163" id="diff-bf0be3ab412167a5fb48169258af376aL163"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="184" id="diff-bf0be3ab412167a5fb48169258af376aR184"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="164" id="diff-bf0be3ab412167a5fb48169258af376aL164"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="185" id="diff-bf0be3ab412167a5fb48169258af376aR185"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="165" id="diff-bf0be3ab412167a5fb48169258af376aL165"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="186" id="diff-bf0be3ab412167a5fb48169258af376aR186"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Test</span></span></td>
</tr>
<tr class="js-expandable-line" data-position="129">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="166-166" data-right-range="187-187" data-url="/Playtika/feign-reactive/blob_excerpt/9740cf21c9358c73372099825d8fc37e8b6c8bd8?diff=unified&amp;in_wiki_context=&amp;last_left=165&amp;last_right=186&amp;left=169&amp;left_hunk_size=15&amp;mode=100644&amp;path=feign-reactor-core%2Fsrc%2Ftest%2Fjava%2Freactivefeign%2FRetryingTest.java&amp;right=190&amp;right_hunk_size=46" href="#diff-bf0be3ab412167a5fb48169258af376a" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -169,15 +190,46 @@ public void shouldFailAsNoMoreRetriesWithBackoff() {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="169" id="diff-bf0be3ab412167a5fb48169258af376aL169"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="190" id="diff-bf0be3ab412167a5fb48169258af376aR190"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="170" id="diff-bf0be3ab412167a5fb48169258af376aL170"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="191" id="diff-bf0be3ab412167a5fb48169258af376aR191"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    wireMockRule<span class="pl-k">.</span>stubFor(get(urlEqualTo(orderUrl))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="171" id="diff-bf0be3ab412167a5fb48169258af376aL171"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="192" id="diff-bf0be3ab412167a5fb48169258af376aR192"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .withHeader(<span class="pl-s"><span class="pl-pds">"</span>Accept<span class="pl-pds">"</span></span>, equalTo(<span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="172" id="diff-bf0be3ab412167a5fb48169258af376aL172"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        .willReturn(aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1 x x-first x-last">503</span>)<span class="pl-k">.</span>withHeader(<span class="pl-c1">RETRY_AFTER</span>, <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>)));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="193" id="diff-bf0be3ab412167a5fb48169258af376aR193"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        .willReturn(aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1 x x-first x-last">SC_SERVICE_UNAVAILABLE</span>)<span class="pl-k">.</span>withHeader(<span class="pl-c1">RETRY_AFTER</span>, <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>)));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="173" id="diff-bf0be3ab412167a5fb48169258af376aL173"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="194" id="diff-bf0be3ab412167a5fb48169258af376aR194"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="195" id="diff-bf0be3ab412167a5fb48169258af376aR195"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">int</span> maxRetries <span class="pl-k">=</span> <span class="pl-c1">7</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="174" id="diff-bf0be3ab412167a5fb48169258af376aL174"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="196" id="diff-bf0be3ab412167a5fb48169258af376aR196"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">IcecreamServiceApi</span> client <span class="pl-k">=</span> builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="175" id="diff-bf0be3ab412167a5fb48169258af376aL175"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi">BasicReactiveRetryPolicy</span><span class="pl-k">.</span>retryWithBackoff(<span class="pl-c1 x x-first x-last">7</span>, <span class="pl-c1">5</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="197" id="diff-bf0be3ab412167a5fb48169258af376aR197"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        .retryWhen(<span class="pl-smi">BasicReactiveRetryPolicy</span><span class="pl-k">.</span>retryWithBackoff(<span class="x x-first x-last">maxRetries</span>, <span class="pl-c1">5</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="176" id="diff-bf0be3ab412167a5fb48169258af376aL176"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="198" id="diff-bf0be3ab412167a5fb48169258af376aR198"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .target(<span class="pl-smi">IcecreamServiceApi</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>http://localhost:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> wireMockRule<span class="pl-k">.</span>port());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="177" id="diff-bf0be3ab412167a5fb48169258af376aL177"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="199" id="diff-bf0be3ab412167a5fb48169258af376aR199"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="178" id="diff-bf0be3ab412167a5fb48169258af376aL178"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="200" id="diff-bf0be3ab412167a5fb48169258af376aR200"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">StepVerifier</span><span class="pl-k">.</span>create(client<span class="pl-k">.</span>findOrder(<span class="pl-c1">1</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="179" id="diff-bf0be3ab412167a5fb48169258af376aL179"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="201" id="diff-bf0be3ab412167a5fb48169258af376aR201"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .expectErrorMatches(throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">RetryableException</span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="180" id="diff-bf0be3ab412167a5fb48169258af376aL180"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="202" id="diff-bf0be3ab412167a5fb48169258af376aR202"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        .verify();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="203" id="diff-bf0be3ab412167a5fb48169258af376aR203"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="204" id="diff-bf0be3ab412167a5fb48169258af376aR204"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    assertThat(getEventsForPath(orderUrl)<span class="pl-k">.</span>size())<span class="pl-k">.</span>isEqualTo(maxRetries <span class="pl-k">+</span> <span class="pl-c1">1</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="205" id="diff-bf0be3ab412167a5fb48169258af376aR205"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="206" id="diff-bf0be3ab412167a5fb48169258af376aR206"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="207" id="diff-bf0be3ab412167a5fb48169258af376aR207"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Test</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="208" id="diff-bf0be3ab412167a5fb48169258af376aR208"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">shouldNotRetryOnFilteredExceptions</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="209" id="diff-bf0be3ab412167a5fb48169258af376aR209"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="210" id="diff-bf0be3ab412167a5fb48169258af376aR210"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">String</span> orderUrl <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/icecream/orders/1<span class="pl-pds">"</span></span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="211" id="diff-bf0be3ab412167a5fb48169258af376aR211"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="212" id="diff-bf0be3ab412167a5fb48169258af376aR212"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    wireMockRule<span class="pl-k">.</span>stubFor(get(urlEqualTo(orderUrl))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="213" id="diff-bf0be3ab412167a5fb48169258af376aR213"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            .withHeader(<span class="pl-s"><span class="pl-pds">"</span>Accept<span class="pl-pds">"</span></span>, equalTo(<span class="pl-s"><span class="pl-pds">"</span>application/json<span class="pl-pds">"</span></span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="214" id="diff-bf0be3ab412167a5fb48169258af376aR214"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            .willReturn(aResponse()<span class="pl-k">.</span>withStatus(<span class="pl-c1">403</span>)<span class="pl-k">.</span>withHeader(<span class="pl-c1">RETRY_AFTER</span>, <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>)));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="215" id="diff-bf0be3ab412167a5fb48169258af376aR215"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="216" id="diff-bf0be3ab412167a5fb48169258af376aR216"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">IcecreamServiceApi</span> client <span class="pl-k">=</span> builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="217" id="diff-bf0be3ab412167a5fb48169258af376aR217"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            .retryWhen(notRetryOn(retry(<span class="pl-c1">3</span>), <span class="pl-smi">IllegalArgumentException</span><span class="pl-k">.</span>class))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="218" id="diff-bf0be3ab412167a5fb48169258af376aR218"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            .statusHandler(errorDecoder((methodKey, response) <span class="pl-k">-</span><span class="pl-k">&gt;</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="219" id="diff-bf0be3ab412167a5fb48169258af376aR219"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">IllegalArgumentException</span>();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="220" id="diff-bf0be3ab412167a5fb48169258af376aR220"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            }))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="221" id="diff-bf0be3ab412167a5fb48169258af376aR221"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            .target(<span class="pl-smi">IcecreamServiceApi</span><span class="pl-k">.</span>class, <span class="pl-s"><span class="pl-pds">"</span>http://localhost:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> wireMockRule<span class="pl-k">.</span>port());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="222" id="diff-bf0be3ab412167a5fb48169258af376aR222"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="223" id="diff-bf0be3ab412167a5fb48169258af376aR223"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">StepVerifier</span><span class="pl-k">.</span>create(client<span class="pl-k">.</span>findOrder(<span class="pl-c1">1</span>))</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="224" id="diff-bf0be3ab412167a5fb48169258af376aR224"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            .expectErrorMatches(throwable <span class="pl-k">-</span><span class="pl-k">&gt;</span> throwable <span class="pl-k">instanceof</span> <span class="pl-smi">IllegalArgumentException</span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="225" id="diff-bf0be3ab412167a5fb48169258af376aR225"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            .verify();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="226" id="diff-bf0be3ab412167a5fb48169258af376aR226"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="227" id="diff-bf0be3ab412167a5fb48169258af376aR227"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    assertThat(getEventsForPath(orderUrl)<span class="pl-k">.</span>size())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">1</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="181" id="diff-bf0be3ab412167a5fb48169258af376aL181"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="228" id="diff-bf0be3ab412167a5fb48169258af376aR228"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="182" id="diff-bf0be3ab412167a5fb48169258af376aL182"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="229" id="diff-bf0be3ab412167a5fb48169258af376aR229"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="230" id="diff-bf0be3ab412167a5fb48169258af376aR230"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">List&lt;<span class="pl-smi">ServeEvent</span>&gt;</span> <span class="pl-en">getEventsForPath</span>(<span class="pl-smi">String</span> <span class="pl-v">path</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="231" id="diff-bf0be3ab412167a5fb48169258af376aR231"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> wireMockRule<span class="pl-k">.</span>getAllServeEvents()<span class="pl-k">.</span>stream()<span class="pl-k">.</span>filter(serveEvent <span class="pl-k">-</span><span class="pl-k">&gt;</span> serveEvent<span class="pl-k">.</span>getRequest()<span class="pl-k">.</span>getUrl()<span class="pl-k">.</span>contains(path))<span class="pl-k">.</span>collect(toList());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="232" id="diff-bf0be3ab412167a5fb48169258af376aR232"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">  }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="233" id="diff-bf0be3ab412167a5fb48169258af376aR233"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="234" id="diff-bf0be3ab412167a5fb48169258af376aR234"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="183" id="diff-bf0be3ab412167a5fb48169258af376aL183"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="235" id="diff-bf0be3ab412167a5fb48169258af376aR235"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-bf0be3ab412167a5fb48169258af376aL17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="17" id="diff-bf0be3ab412167a5fb48169258af376aR17"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-bf0be3ab412167a5fb48169258af376aL18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="18" id="diff-bf0be3ab412167a5fb48169258af376aR18"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-bf0be3ab412167a5fb48169258af376aL19"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="19" id="diff-bf0be3ab412167a5fb48169258af376aR19"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="20" id="diff-bf0be3ab412167a5fb48169258af376aR20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="20" id="diff-bf0be3ab412167a5fb48169258af376aL20"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-bf0be3ab412167a5fb48169258af376aR21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-bf0be3ab412167a5fb48169258af376aL21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-bf0be3ab412167a5fb48169258af376aR22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-bf0be3ab412167a5fb48169258af376aL22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-bf0be3ab412167a5fb48169258af376aR23"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-bf0be3ab412167a5fb48169258af376aL29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-bf0be3ab412167a5fb48169258af376aR30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-bf0be3ab412167a5fb48169258af376aL30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-bf0be3ab412167a5fb48169258af376aR31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-bf0be3ab412167a5fb48169258af376aL31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-bf0be3ab412167a5fb48169258af376aR32"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="33" id="diff-bf0be3ab412167a5fb48169258af376aR33"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-bf0be3ab412167a5fb48169258af376aL32"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="34" id="diff-bf0be3ab412167a5fb48169258af376aR34"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="33" id="diff-bf0be3ab412167a5fb48169258af376aL33"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-bf0be3ab412167a5fb48169258af376aR35"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="34" id="diff-bf0be3ab412167a5fb48169258af376aL34"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-bf0be3ab412167a5fb48169258af376aR36"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="37" id="diff-bf0be3ab412167a5fb48169258af376aR37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-bf0be3ab412167a5fb48169258af376aL35"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-bf0be3ab412167a5fb48169258af376aR38"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-bf0be3ab412167a5fb48169258af376aL36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-bf0be3ab412167a5fb48169258af376aR39"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-bf0be3ab412167a5fb48169258af376aL37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-bf0be3ab412167a5fb48169258af376aR40"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="41" id="diff-bf0be3ab412167a5fb48169258af376aR41"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-bf0be3ab412167a5fb48169258af376aL38"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="42" id="diff-bf0be3ab412167a5fb48169258af376aR42"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="43" id="diff-bf0be3ab412167a5fb48169258af376aR43"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-bf0be3ab412167a5fb48169258af376aR44"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="45" id="diff-bf0be3ab412167a5fb48169258af376aR45"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-bf0be3ab412167a5fb48169258af376aL39"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="46" id="diff-bf0be3ab412167a5fb48169258af376aR46"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-bf0be3ab412167a5fb48169258af376aL40"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="47" id="diff-bf0be3ab412167a5fb48169258af376aR47"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="41" id="diff-bf0be3ab412167a5fb48169258af376aL41"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="48" id="diff-bf0be3ab412167a5fb48169258af376aR48"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="63" id="diff-bf0be3ab412167a5fb48169258af376aL63"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="70" id="diff-bf0be3ab412167a5fb48169258af376aR70"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="64" id="diff-bf0be3ab412167a5fb48169258af376aL64"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-bf0be3ab412167a5fb48169258af376aR71"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="65" id="diff-bf0be3ab412167a5fb48169258af376aL65"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="72" id="diff-bf0be3ab412167a5fb48169258af376aR72"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="73" id="diff-bf0be3ab412167a5fb48169258af376aR73"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="66" id="diff-bf0be3ab412167a5fb48169258af376aL66"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="74" id="diff-bf0be3ab412167a5fb48169258af376aR74"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="67" id="diff-bf0be3ab412167a5fb48169258af376aL67"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="68" id="diff-bf0be3ab412167a5fb48169258af376aL68"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="75" id="diff-bf0be3ab412167a5fb48169258af376aR75"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="76" id="diff-bf0be3ab412167a5fb48169258af376aR76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="69" id="diff-bf0be3ab412167a5fb48169258af376aL69"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-bf0be3ab412167a5fb48169258af376aR77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="70" id="diff-bf0be3ab412167a5fb48169258af376aL70"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="78" id="diff-bf0be3ab412167a5fb48169258af376aR78"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="71" id="diff-bf0be3ab412167a5fb48169258af376aL71"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="79" id="diff-bf0be3ab412167a5fb48169258af376aR79"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="80" id="diff-bf0be3ab412167a5fb48169258af376aR80"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="72" id="diff-bf0be3ab412167a5fb48169258af376aL72"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="81" id="diff-bf0be3ab412167a5fb48169258af376aR81"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="73" id="diff-bf0be3ab412167a5fb48169258af376aL73"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="82" id="diff-bf0be3ab412167a5fb48169258af376aR82"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="74" id="diff-bf0be3ab412167a5fb48169258af376aL74"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="83" id="diff-bf0be3ab412167a5fb48169258af376aR83"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="75" id="diff-bf0be3ab412167a5fb48169258af376aL75"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="84" id="diff-bf0be3ab412167a5fb48169258af376aR84"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="76" id="diff-bf0be3ab412167a5fb48169258af376aL76"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="85" id="diff-bf0be3ab412167a5fb48169258af376aR85"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="77" id="diff-bf0be3ab412167a5fb48169258af376aL77"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="86" id="diff-bf0be3ab412167a5fb48169258af376aR86"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="78" id="diff-bf0be3ab412167a5fb48169258af376aL78"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="87" id="diff-bf0be3ab412167a5fb48169258af376aR87"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="79" id="diff-bf0be3ab412167a5fb48169258af376aL79"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="88" id="diff-bf0be3ab412167a5fb48169258af376aR88"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="89" id="diff-bf0be3ab412167a5fb48169258af376aR89"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="90" id="diff-bf0be3ab412167a5fb48169258af376aR90"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="80" id="diff-bf0be3ab412167a5fb48169258af376aL80"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="91" id="diff-bf0be3ab412167a5fb48169258af376aR91"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="81" id="diff-bf0be3ab412167a5fb48169258af376aL81"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-bf0be3ab412167a5fb48169258af376aR92"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="82" id="diff-bf0be3ab412167a5fb48169258af376aL82"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-bf0be3ab412167a5fb48169258af376aR93"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="83" id="diff-bf0be3ab412167a5fb48169258af376aL83"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-bf0be3ab412167a5fb48169258af376aR94"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="84" id="diff-bf0be3ab412167a5fb48169258af376aL84"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-bf0be3ab412167a5fb48169258af376aR95"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="85" id="diff-bf0be3ab412167a5fb48169258af376aL85"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="96" id="diff-bf0be3ab412167a5fb48169258af376aR96"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="86" id="diff-bf0be3ab412167a5fb48169258af376aL86"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-bf0be3ab412167a5fb48169258af376aR97"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="98" id="diff-bf0be3ab412167a5fb48169258af376aR98"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="87" id="diff-bf0be3ab412167a5fb48169258af376aL87"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="99" id="diff-bf0be3ab412167a5fb48169258af376aR99"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="88" id="diff-bf0be3ab412167a5fb48169258af376aL88"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="89" id="diff-bf0be3ab412167a5fb48169258af376aL89"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="90" id="diff-bf0be3ab412167a5fb48169258af376aL90"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="100" id="diff-bf0be3ab412167a5fb48169258af376aR100"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="101" id="diff-bf0be3ab412167a5fb48169258af376aR101"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="91" id="diff-bf0be3ab412167a5fb48169258af376aL91"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="102" id="diff-bf0be3ab412167a5fb48169258af376aR102"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-bf0be3ab412167a5fb48169258af376aL92"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="103" id="diff-bf0be3ab412167a5fb48169258af376aR103"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-bf0be3ab412167a5fb48169258af376aL93"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-bf0be3ab412167a5fb48169258af376aR104"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-bf0be3ab412167a5fb48169258af376aL94"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-bf0be3ab412167a5fb48169258af376aR105"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="106" id="diff-bf0be3ab412167a5fb48169258af376aR106"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-bf0be3ab412167a5fb48169258af376aL95"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="107" id="diff-bf0be3ab412167a5fb48169258af376aR107"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="96" id="diff-bf0be3ab412167a5fb48169258af376aL96"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="108" id="diff-bf0be3ab412167a5fb48169258af376aR108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-bf0be3ab412167a5fb48169258af376aL97"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-bf0be3ab412167a5fb48169258af376aR109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="98" id="diff-bf0be3ab412167a5fb48169258af376aL98"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-bf0be3ab412167a5fb48169258af376aR110"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="99" id="diff-bf0be3ab412167a5fb48169258af376aL99"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="111" id="diff-bf0be3ab412167a5fb48169258af376aR111"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="100" id="diff-bf0be3ab412167a5fb48169258af376aL100"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="112" id="diff-bf0be3ab412167a5fb48169258af376aR112"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="101" id="diff-bf0be3ab412167a5fb48169258af376aL101"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="113" id="diff-bf0be3ab412167a5fb48169258af376aR113"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="114" id="diff-bf0be3ab412167a5fb48169258af376aR114"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="115" id="diff-bf0be3ab412167a5fb48169258af376aR115"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="102" id="diff-bf0be3ab412167a5fb48169258af376aL102"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="116" id="diff-bf0be3ab412167a5fb48169258af376aR116"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="103" id="diff-bf0be3ab412167a5fb48169258af376aL103"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="117" id="diff-bf0be3ab412167a5fb48169258af376aR117"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-bf0be3ab412167a5fb48169258af376aL104"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="118" id="diff-bf0be3ab412167a5fb48169258af376aR118"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="107" id="diff-bf0be3ab412167a5fb48169258af376aL107"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="121" id="diff-bf0be3ab412167a5fb48169258af376aR121"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="108" id="diff-bf0be3ab412167a5fb48169258af376aL108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="122" id="diff-bf0be3ab412167a5fb48169258af376aR122"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-bf0be3ab412167a5fb48169258af376aL109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="123" id="diff-bf0be3ab412167a5fb48169258af376aR123"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="124" id="diff-bf0be3ab412167a5fb48169258af376aR124"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-bf0be3ab412167a5fb48169258af376aL110"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="125" id="diff-bf0be3ab412167a5fb48169258af376aR125"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="111" id="diff-bf0be3ab412167a5fb48169258af376aL111"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="126" id="diff-bf0be3ab412167a5fb48169258af376aR126"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="112" id="diff-bf0be3ab412167a5fb48169258af376aL112"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="127" id="diff-bf0be3ab412167a5fb48169258af376aR127"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="113" id="diff-bf0be3ab412167a5fb48169258af376aL113"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="128" id="diff-bf0be3ab412167a5fb48169258af376aR128"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="114" id="diff-bf0be3ab412167a5fb48169258af376aL114"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="129" id="diff-bf0be3ab412167a5fb48169258af376aR129"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="115" id="diff-bf0be3ab412167a5fb48169258af376aL115"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="130" id="diff-bf0be3ab412167a5fb48169258af376aR130"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="131" id="diff-bf0be3ab412167a5fb48169258af376aR131"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="116" id="diff-bf0be3ab412167a5fb48169258af376aL116"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="132" id="diff-bf0be3ab412167a5fb48169258af376aR132"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="117" id="diff-bf0be3ab412167a5fb48169258af376aL117"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="133" id="diff-bf0be3ab412167a5fb48169258af376aR133"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="118" id="diff-bf0be3ab412167a5fb48169258af376aL118"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="134" id="diff-bf0be3ab412167a5fb48169258af376aR134"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="119" id="diff-bf0be3ab412167a5fb48169258af376aL119"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="135" id="diff-bf0be3ab412167a5fb48169258af376aR135"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="120" id="diff-bf0be3ab412167a5fb48169258af376aL120"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="136" id="diff-bf0be3ab412167a5fb48169258af376aR136"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="121" id="diff-bf0be3ab412167a5fb48169258af376aL121"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="137" id="diff-bf0be3ab412167a5fb48169258af376aR137"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="122" id="diff-bf0be3ab412167a5fb48169258af376aL122"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="138" id="diff-bf0be3ab412167a5fb48169258af376aR138"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="139" id="diff-bf0be3ab412167a5fb48169258af376aR139"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="140" id="diff-bf0be3ab412167a5fb48169258af376aR140"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="123" id="diff-bf0be3ab412167a5fb48169258af376aL123"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="141" id="diff-bf0be3ab412167a5fb48169258af376aR141"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="124" id="diff-bf0be3ab412167a5fb48169258af376aL124"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="142" id="diff-bf0be3ab412167a5fb48169258af376aR142"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="125" id="diff-bf0be3ab412167a5fb48169258af376aL125"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="143" id="diff-bf0be3ab412167a5fb48169258af376aR143"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="153" id="diff-bf0be3ab412167a5fb48169258af376aL153"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="171" id="diff-bf0be3ab412167a5fb48169258af376aR171"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="154" id="diff-bf0be3ab412167a5fb48169258af376aL154"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="172" id="diff-bf0be3ab412167a5fb48169258af376aR172"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="155" id="diff-bf0be3ab412167a5fb48169258af376aL155"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="173" id="diff-bf0be3ab412167a5fb48169258af376aR173"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="174" id="diff-bf0be3ab412167a5fb48169258af376aR174"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="156" id="diff-bf0be3ab412167a5fb48169258af376aL156"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="175" id="diff-bf0be3ab412167a5fb48169258af376aR175"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="157" id="diff-bf0be3ab412167a5fb48169258af376aL157"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="176" id="diff-bf0be3ab412167a5fb48169258af376aR176"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="158" id="diff-bf0be3ab412167a5fb48169258af376aL158"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="177" id="diff-bf0be3ab412167a5fb48169258af376aR177"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="159" id="diff-bf0be3ab412167a5fb48169258af376aL159"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="178" id="diff-bf0be3ab412167a5fb48169258af376aR178"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="160" id="diff-bf0be3ab412167a5fb48169258af376aL160"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="179" id="diff-bf0be3ab412167a5fb48169258af376aR179"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="161" id="diff-bf0be3ab412167a5fb48169258af376aL161"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="180" id="diff-bf0be3ab412167a5fb48169258af376aR180"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="162" id="diff-bf0be3ab412167a5fb48169258af376aL162"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="181" id="diff-bf0be3ab412167a5fb48169258af376aR181"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="182" id="diff-bf0be3ab412167a5fb48169258af376aR182"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="183" id="diff-bf0be3ab412167a5fb48169258af376aR183"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="163" id="diff-bf0be3ab412167a5fb48169258af376aL163"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="184" id="diff-bf0be3ab412167a5fb48169258af376aR184"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="164" id="diff-bf0be3ab412167a5fb48169258af376aL164"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="185" id="diff-bf0be3ab412167a5fb48169258af376aR185"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="165" id="diff-bf0be3ab412167a5fb48169258af376aL165"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="186" id="diff-bf0be3ab412167a5fb48169258af376aR186"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="169" id="diff-bf0be3ab412167a5fb48169258af376aL169"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="190" id="diff-bf0be3ab412167a5fb48169258af376aR190"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="170" id="diff-bf0be3ab412167a5fb48169258af376aL170"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="191" id="diff-bf0be3ab412167a5fb48169258af376aR191"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="171" id="diff-bf0be3ab412167a5fb48169258af376aL171"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="192" id="diff-bf0be3ab412167a5fb48169258af376aR192"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="172" id="diff-bf0be3ab412167a5fb48169258af376aL172"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="193" id="diff-bf0be3ab412167a5fb48169258af376aR193"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="173" id="diff-bf0be3ab412167a5fb48169258af376aL173"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="194" id="diff-bf0be3ab412167a5fb48169258af376aR194"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="195" id="diff-bf0be3ab412167a5fb48169258af376aR195"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="174" id="diff-bf0be3ab412167a5fb48169258af376aL174"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="196" id="diff-bf0be3ab412167a5fb48169258af376aR196"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="175" id="diff-bf0be3ab412167a5fb48169258af376aL175"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="197" id="diff-bf0be3ab412167a5fb48169258af376aR197"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="176" id="diff-bf0be3ab412167a5fb48169258af376aL176"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="198" id="diff-bf0be3ab412167a5fb48169258af376aR198"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="177" id="diff-bf0be3ab412167a5fb48169258af376aL177"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="199" id="diff-bf0be3ab412167a5fb48169258af376aR199"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="178" id="diff-bf0be3ab412167a5fb48169258af376aL178"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="200" id="diff-bf0be3ab412167a5fb48169258af376aR200"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="179" id="diff-bf0be3ab412167a5fb48169258af376aL179"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="201" id="diff-bf0be3ab412167a5fb48169258af376aR201"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="180" id="diff-bf0be3ab412167a5fb48169258af376aL180"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="202" id="diff-bf0be3ab412167a5fb48169258af376aR202"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="203" id="diff-bf0be3ab412167a5fb48169258af376aR203"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="204" id="diff-bf0be3ab412167a5fb48169258af376aR204"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="205" id="diff-bf0be3ab412167a5fb48169258af376aR205"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="206" id="diff-bf0be3ab412167a5fb48169258af376aR206"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="207" id="diff-bf0be3ab412167a5fb48169258af376aR207"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="208" id="diff-bf0be3ab412167a5fb48169258af376aR208"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="209" id="diff-bf0be3ab412167a5fb48169258af376aR209"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="210" id="diff-bf0be3ab412167a5fb48169258af376aR210"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="211" id="diff-bf0be3ab412167a5fb48169258af376aR211"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="212" id="diff-bf0be3ab412167a5fb48169258af376aR212"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="213" id="diff-bf0be3ab412167a5fb48169258af376aR213"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="214" id="diff-bf0be3ab412167a5fb48169258af376aR214"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="215" id="diff-bf0be3ab412167a5fb48169258af376aR215"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="216" id="diff-bf0be3ab412167a5fb48169258af376aR216"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="217" id="diff-bf0be3ab412167a5fb48169258af376aR217"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="218" id="diff-bf0be3ab412167a5fb48169258af376aR218"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="219" id="diff-bf0be3ab412167a5fb48169258af376aR219"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="220" id="diff-bf0be3ab412167a5fb48169258af376aR220"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="221" id="diff-bf0be3ab412167a5fb48169258af376aR221"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="222" id="diff-bf0be3ab412167a5fb48169258af376aR222"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="223" id="diff-bf0be3ab412167a5fb48169258af376aR223"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="224" id="diff-bf0be3ab412167a5fb48169258af376aR224"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="225" id="diff-bf0be3ab412167a5fb48169258af376aR225"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="226" id="diff-bf0be3ab412167a5fb48169258af376aR226"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="227" id="diff-bf0be3ab412167a5fb48169258af376aR227"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="181" id="diff-bf0be3ab412167a5fb48169258af376aL181"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="228" id="diff-bf0be3ab412167a5fb48169258af376aR228"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="182" id="diff-bf0be3ab412167a5fb48169258af376aL182"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="229" id="diff-bf0be3ab412167a5fb48169258af376aR229"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="230" id="diff-bf0be3ab412167a5fb48169258af376aR230"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="231" id="diff-bf0be3ab412167a5fb48169258af376aR231"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="232" id="diff-bf0be3ab412167a5fb48169258af376aR232"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="233" id="diff-bf0be3ab412167a5fb48169258af376aR233"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="234" id="diff-bf0be3ab412167a5fb48169258af376aR234"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="183" id="diff-bf0be3ab412167a5fb48169258af376aL183"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="235" id="diff-bf0be3ab412167a5fb48169258af376aR235"></td>
<clippath id="diff-placeholder">
<rect height="11.9298746" rx="2" width="67.0175439" x="0" y="0"></rect>
<rect height="11.9298746" rx="2" width="100.701754" x="18.9473684" y="47.7194983"></rect>
<rect height="11.9298746" rx="2" width="37.8947368" x="0" y="71.930126"></rect>
<rect height="11.9298746" rx="2" width="53.3333333" x="127.017544" y="48.0703769"></rect>
<rect height="11.9298746" rx="2" width="72.9824561" x="187.719298" y="48.0703769"></rect>
<rect height="11.9298746" rx="2" width="140.350877" x="76.8421053" y="0"></rect>
<rect height="11.9298746" rx="2" width="140.350877" x="17.8947368" y="23.8597491"></rect>
<rect height="11.9298746" rx="2" width="173.684211" x="166.315789" y="23.8597491"></rect>
</clippath>
<lineargradient id="animated-diff-gradient" spreadmethod="reflect" x1="0" x2="0" y1="0" y2="1">
<stop offset="0" stop-color="#eee"></stop>
<stop offset="0.2" stop-color="#eee"></stop>
<stop offset="0.5" stop-color="#ddd"></stop>
<stop offset="0.8" stop-color="#eee"></stop>
<stop offset="1" stop-color="#eee"></stop>
<animatetransform attributename="y1" dur="1s" repeatcount="3" values="0%; 100%; 0"></animatetransform>
<animatetransform attributename="y2" dur="1s" repeatcount="3" values="100%; 200%; 0"></animatetransform>
</lineargradient>
