<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-0">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-2f53be958e84433f2563c71e00781ab9" data-file-deleted="false" data-file-type=".java" data-path="src/main/java/com/iexec/core/task/Task.java" data-short-path="2f53be9">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="src/main/java/com/iexec/core/task/Task.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/iExecBlockchainComputing/iexec-core/blob/31435883b662640fc7744f0d91239b4c601a091b/src/main/java/com/iexec/core/task/Task.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="5 additions &amp; 0 deletions" class="diffstat tooltipped tooltipped-e">5 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>
<a class="link-gray-dark" href="#diff-2f53be958e84433f2563c71e00781ab9" title="src/main/java/com/iexec/core/task/Task.java">src/main/java/com/iexec/core/task/Task.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-2f53be958e84433f2563c71e00781ab9" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-91" data-right-range="1-91" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/9ee6b515821c62f5b806c00d42345bf260d875f9?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=92&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTask.java&amp;right=92&amp;right_hunk_size=11" href="#diff-2f53be958e84433f2563c71e00781ab9" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -92,6 +92,11 @@ public TaskStatusChange getLatestStatusChange() {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-2f53be958e84433f2563c71e00781ab9L92"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-2f53be958e84433f2563c71e00781ab9R92"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">this</span><span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>get(<span class="pl-c1">this</span><span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>size() <span class="pl-k">-</span> <span class="pl-c1">1</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-2f53be958e84433f2563c71e00781ab9L93"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-2f53be958e84433f2563c71e00781ab9R93"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-2f53be958e84433f2563c71e00781ab9L94"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-2f53be958e84433f2563c71e00781ab9R94"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="95" id="diff-2f53be958e84433f2563c71e00781ab9R95"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@JsonIgnore</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="96" id="diff-2f53be958e84433f2563c71e00781ab9R96"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-smi">TaskStatus</span> <span class="pl-en">getLastButOneStatus</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="97" id="diff-2f53be958e84433f2563c71e00781ab9R97"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-c1">this</span><span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>get(<span class="pl-c1">this</span><span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>size() <span class="pl-k">-</span> <span class="pl-c1">2</span>)<span class="pl-k">.</span>getStatus();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="98" id="diff-2f53be958e84433f2563c71e00781ab9R98"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="99" id="diff-2f53be958e84433f2563c71e00781ab9R99"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-2f53be958e84433f2563c71e00781ab9L95"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="100" id="diff-2f53be958e84433f2563c71e00781ab9R100"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">boolean</span> <span class="pl-en">isConsensusReachedSinceMultiplePeriods</span>(<span class="pl-k">int</span> <span class="pl-v">nbOfPeriods</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="96" id="diff-2f53be958e84433f2563c71e00781ab9L96"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="101" id="diff-2f53be958e84433f2563c71e00781ab9R101"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">Optional&lt;<span class="pl-smi">Date</span>&gt;</span> consensusReachedDate <span class="pl-k">=</span> <span class="pl-c1">this</span><span class="pl-k">.</span>getDateOfStatus(<span class="pl-c1">CONSENSUS_REACHED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-2f53be958e84433f2563c71e00781ab9L97"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="102" id="diff-2f53be958e84433f2563c71e00781ab9R102"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (<span class="pl-k">!</span>consensusReachedDate<span class="pl-k">.</span>isPresent()){</span></td>
</tr>
<tr class="js-expandable-line" data-position="">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander single-expander" data-left-range="98-119" data-right-range="103-119" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/9ee6b515821c62f5b806c00d42345bf260d875f9?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=97&amp;last_right=102&amp;left=120&amp;left_hunk_size=&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTask.java&amp;right=120&amp;right_hunk_size=" href="#diff-2f53be958e84433f2563c71e00781ab9" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2"></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-2f53be958e84433f2563c71e00781ab9L92"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="92" id="diff-2f53be958e84433f2563c71e00781ab9R92"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-2f53be958e84433f2563c71e00781ab9L93"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-2f53be958e84433f2563c71e00781ab9R93"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-2f53be958e84433f2563c71e00781ab9L94"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-2f53be958e84433f2563c71e00781ab9R94"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="95" id="diff-2f53be958e84433f2563c71e00781ab9R95"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="96" id="diff-2f53be958e84433f2563c71e00781ab9R96"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="97" id="diff-2f53be958e84433f2563c71e00781ab9R97"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="98" id="diff-2f53be958e84433f2563c71e00781ab9R98"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="99" id="diff-2f53be958e84433f2563c71e00781ab9R99"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-2f53be958e84433f2563c71e00781ab9L95"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="100" id="diff-2f53be958e84433f2563c71e00781ab9R100"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="96" id="diff-2f53be958e84433f2563c71e00781ab9L96"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="101" id="diff-2f53be958e84433f2563c71e00781ab9R101"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-2f53be958e84433f2563c71e00781ab9L97"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="102" id="diff-2f53be958e84433f2563c71e00781ab9R102"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-1">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-dda53abf085b5dc58d062e5b637a881a" data-file-deleted="false" data-file-type=".java" data-path="src/main/java/com/iexec/core/task/TaskRepository.java" data-short-path="dda53ab">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="src/main/java/com/iexec/core/task/TaskRepository.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/iExecBlockchainComputing/iexec-core/blob/31435883b662640fc7744f0d91239b4c601a091b/src/main/java/com/iexec/core/task/TaskRepository.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="3 additions &amp; 1 deletion" class="diffstat tooltipped tooltipped-e">4 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-dda53abf085b5dc58d062e5b637a881a" title="src/main/java/com/iexec/core/task/TaskRepository.java">src/main/java/com/iexec/core/task/TaskRepository.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-dda53abf085b5dc58d062e5b637a881a" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-20" data-right-range="1-20" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/610d2defd95f5ec2401a0cc4b04954e5918eae10?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=21&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskRepository.java&amp;right=21&amp;right_hunk_size=8" href="#diff-dda53abf085b5dc58d062e5b637a881a" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -21,6 +21,8 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-dda53abf085b5dc58d062e5b637a881aL21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-dda53abf085b5dc58d062e5b637a881aR21"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> <span class="pl-en">findByCurrentStatus</span>(<span class="pl-smi">TaskStatus</span> <span class="pl-v">status</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-dda53abf085b5dc58d062e5b637a881aL22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-dda53abf085b5dc58d062e5b637a881aR22"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-dda53abf085b5dc58d062e5b637a881aL23"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-dda53abf085b5dc58d062e5b637a881aR23"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Query</span>(<span class="pl-s"><span class="pl-pds">"</span>{ 'currentStatus': {$in: ?0} }<span class="pl-pds">"</span></span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="24" id="diff-dda53abf085b5dc58d062e5b637a881aL24"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> <span class="pl-en">findByCurrentStatus</span>(<span class="pl-k">List&lt;<span class="pl-smi">TaskStatus</span>&gt;</span> <span class="pl-v x x-first x-last">status</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-dda53abf085b5dc58d062e5b637a881aR24"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> <span class="pl-en">findByCurrentStatus</span>(<span class="pl-k">List&lt;<span class="pl-smi">TaskStatus</span>&gt;</span> <span class="pl-v x x-first x-last">statuses</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-dda53abf085b5dc58d062e5b637a881aL25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-dda53abf085b5dc58d062e5b637a881aR25"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-dda53abf085b5dc58d062e5b637a881aR26"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Query</span>(<span class="pl-s"><span class="pl-pds">"</span>{ 'currentStatus': {$nin: ?0} }<span class="pl-pds">"</span></span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-dda53abf085b5dc58d062e5b637a881aR27"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> <span class="pl-en">findByCurrentStatusNotIn</span>(<span class="pl-k">List&lt;<span class="pl-smi">TaskStatus</span>&gt;</span> <span class="pl-v">statuses</span>);    </span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-dda53abf085b5dc58d062e5b637a881aL26"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="28" id="diff-dda53abf085b5dc58d062e5b637a881aR28"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-dda53abf085b5dc58d062e5b637a881aL21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="21" id="diff-dda53abf085b5dc58d062e5b637a881aR21"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-dda53abf085b5dc58d062e5b637a881aL22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="22" id="diff-dda53abf085b5dc58d062e5b637a881aR22"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-dda53abf085b5dc58d062e5b637a881aL23"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="23" id="diff-dda53abf085b5dc58d062e5b637a881aR23"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="24" id="diff-dda53abf085b5dc58d062e5b637a881aL24"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="24" id="diff-dda53abf085b5dc58d062e5b637a881aR24"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-dda53abf085b5dc58d062e5b637a881aL25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-dda53abf085b5dc58d062e5b637a881aR25"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="26" id="diff-dda53abf085b5dc58d062e5b637a881aR26"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="27" id="diff-dda53abf085b5dc58d062e5b637a881aR27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-dda53abf085b5dc58d062e5b637a881aL26"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="28" id="diff-dda53abf085b5dc58d062e5b637a881aR28"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-2">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-d3005809b06dcaa818bf32aaae19d9e5" data-file-deleted="false" data-file-type=".java" data-path="src/main/java/com/iexec/core/task/TaskService.java" data-short-path="d300580">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="src/main/java/com/iexec/core/task/TaskService.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/iExecBlockchainComputing/iexec-core/blob/31435883b662640fc7744f0d91239b4c601a091b/src/main/java/com/iexec/core/task/TaskService.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="39 additions &amp; 37 deletions" class="diffstat tooltipped tooltipped-e">76 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="src/main/java/com/iexec/core/task/TaskService.java">src/main/java/com/iexec/core/task/TaskService.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-d3005809b06dcaa818bf32aaae19d9e5" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-5" data-right-range="1-5" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=6&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=6&amp;right_hunk_size=7" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -6,6 +6,7 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-d3005809b06dcaa818bf32aaae19d9e5L6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-d3005809b06dcaa818bf32aaae19d9e5R6"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.common.replicate.ReplicateStatus</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-d3005809b06dcaa818bf32aaae19d9e5L7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-d3005809b06dcaa818bf32aaae19d9e5R7"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.common.tee.TeeUtils</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-d3005809b06dcaa818bf32aaae19d9e5L8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-d3005809b06dcaa818bf32aaae19d9e5R8"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.chain.IexecHubService</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-d3005809b06dcaa818bf32aaae19d9e5R9"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.configuration.ResultRepositoryConfiguration</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-d3005809b06dcaa818bf32aaae19d9e5L9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-d3005809b06dcaa818bf32aaae19d9e5R10"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.replicate.Replicate</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-d3005809b06dcaa818bf32aaae19d9e5L10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-d3005809b06dcaa818bf32aaae19d9e5R11"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.replicate.ReplicatesService</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-d3005809b06dcaa818bf32aaae19d9e5L11"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="12" id="diff-d3005809b06dcaa818bf32aaae19d9e5R12"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.task.event.ConsensusReachedEvent</span>;</span></td>
</tr>
<tr class="js-expandable-line" data-position="8">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="12-22" data-right-range="13-23" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=11&amp;last_right=12&amp;left=35&amp;left_hunk_size=31&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=36&amp;right_hunk_size=25" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="23-34" data-right-range="24-35" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=11&amp;last_right=12&amp;left=35&amp;left_hunk_size=31&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=36&amp;right_hunk_size=25" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -35,31 +36,25 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-d3005809b06dcaa818bf32aaae19d9e5L35"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-d3005809b06dcaa818bf32aaae19d9e5R36"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">@Service</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-d3005809b06dcaa818bf32aaae19d9e5L36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-d3005809b06dcaa818bf32aaae19d9e5R37"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">TaskService</span> {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-d3005809b06dcaa818bf32aaae19d9e5L37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-d3005809b06dcaa818bf32aaae19d9e5R38"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="38" id="diff-d3005809b06dcaa818bf32aaae19d9e5L38"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">@Value</span>(<span class="pl-s"><span class="pl-pds">"</span>${resultRepository.protocol}<span class="pl-pds">"</span></span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="39" id="diff-d3005809b06dcaa818bf32aaae19d9e5L39"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">String</span> resultRepositoryProtocol;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="40" id="diff-d3005809b06dcaa818bf32aaae19d9e5L40"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="41" id="diff-d3005809b06dcaa818bf32aaae19d9e5L41"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">@Value</span>(<span class="pl-s"><span class="pl-pds">"</span>${resultRepository.ip}<span class="pl-pds">"</span></span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="42" id="diff-d3005809b06dcaa818bf32aaae19d9e5L42"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">String</span> resultRepositoryIp;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="43" id="diff-d3005809b06dcaa818bf32aaae19d9e5L43"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="44" id="diff-d3005809b06dcaa818bf32aaae19d9e5L44"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">@Value</span>(<span class="pl-s"><span class="pl-pds">"</span>${resultRepository.port}<span class="pl-pds">"</span></span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="45" id="diff-d3005809b06dcaa818bf32aaae19d9e5L45"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">String</span> resultRepositoryPort;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="46" id="diff-d3005809b06dcaa818bf32aaae19d9e5L46"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="47" id="diff-d3005809b06dcaa818bf32aaae19d9e5L47"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-d3005809b06dcaa818bf32aaae19d9e5R39"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">TaskRepository</span> taskRepository;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="48" id="diff-d3005809b06dcaa818bf32aaae19d9e5L48"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-d3005809b06dcaa818bf32aaae19d9e5R40"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">WorkerService</span> workerService;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-d3005809b06dcaa818bf32aaae19d9e5L49"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="41" id="diff-d3005809b06dcaa818bf32aaae19d9e5R41"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">IexecHubService</span> iexecHubService;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="50" id="diff-d3005809b06dcaa818bf32aaae19d9e5L50"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="42" id="diff-d3005809b06dcaa818bf32aaae19d9e5R42"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">ReplicatesService</span> replicatesService;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-d3005809b06dcaa818bf32aaae19d9e5L51"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="43" id="diff-d3005809b06dcaa818bf32aaae19d9e5R43"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">ApplicationEventPublisher</span> applicationEventPublisher;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-d3005809b06dcaa818bf32aaae19d9e5R44"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">ResultRepositoryConfiguration</span> resultRepositoryConfig;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="52" id="diff-d3005809b06dcaa818bf32aaae19d9e5L52"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="45" id="diff-d3005809b06dcaa818bf32aaae19d9e5R45"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-d3005809b06dcaa818bf32aaae19d9e5L53"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="46" id="diff-d3005809b06dcaa818bf32aaae19d9e5R46"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-en">TaskService</span>(<span class="pl-smi">TaskRepository</span> <span class="pl-v">taskRepository</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-d3005809b06dcaa818bf32aaae19d9e5L54"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="47" id="diff-d3005809b06dcaa818bf32aaae19d9e5R47"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">WorkerService</span> <span class="pl-v">workerService</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="55" id="diff-d3005809b06dcaa818bf32aaae19d9e5L55"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="48" id="diff-d3005809b06dcaa818bf32aaae19d9e5R48"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">IexecHubService</span> <span class="pl-v">iexecHubService</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-d3005809b06dcaa818bf32aaae19d9e5L56"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-d3005809b06dcaa818bf32aaae19d9e5R49"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">ReplicatesService</span> <span class="pl-v">replicatesService</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="57" id="diff-d3005809b06dcaa818bf32aaae19d9e5L57"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">ApplicationEventPublisher</span> <span class="pl-v">applicationEventPublisher</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-d3005809b06dcaa818bf32aaae19d9e5R50"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">ApplicationEventPublisher</span> <span class="pl-v">applicationEventPublisher</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="51" id="diff-d3005809b06dcaa818bf32aaae19d9e5R51"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">ResultRepositoryConfiguration</span> <span class="pl-v">resultRepositoryConfig</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="58" id="diff-d3005809b06dcaa818bf32aaae19d9e5L58"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="52" id="diff-d3005809b06dcaa818bf32aaae19d9e5R52"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>taskRepository <span class="pl-k">=</span> taskRepository;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-d3005809b06dcaa818bf32aaae19d9e5L59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-d3005809b06dcaa818bf32aaae19d9e5R53"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>workerService <span class="pl-k">=</span> workerService;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="60" id="diff-d3005809b06dcaa818bf32aaae19d9e5L60"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-d3005809b06dcaa818bf32aaae19d9e5R54"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>iexecHubService <span class="pl-k">=</span> iexecHubService;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="61" id="diff-d3005809b06dcaa818bf32aaae19d9e5L61"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="55" id="diff-d3005809b06dcaa818bf32aaae19d9e5R55"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>replicatesService <span class="pl-k">=</span> replicatesService;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="62" id="diff-d3005809b06dcaa818bf32aaae19d9e5L62"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-d3005809b06dcaa818bf32aaae19d9e5R56"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>applicationEventPublisher <span class="pl-k">=</span> applicationEventPublisher;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-d3005809b06dcaa818bf32aaae19d9e5R57"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1">this</span><span class="pl-k">.</span>resultRepositoryConfig <span class="pl-k">=</span> resultRepositoryConfig;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="63" id="diff-d3005809b06dcaa818bf32aaae19d9e5L63"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="58" id="diff-d3005809b06dcaa818bf32aaae19d9e5R58"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="64" id="diff-d3005809b06dcaa818bf32aaae19d9e5L64"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-d3005809b06dcaa818bf32aaae19d9e5R59"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="65" id="diff-d3005809b06dcaa818bf32aaae19d9e5L65"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="60" id="diff-d3005809b06dcaa818bf32aaae19d9e5R60"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">Optional&lt;<span class="pl-smi">Task</span>&gt;</span> <span class="pl-en">addTask</span>(<span class="pl-smi">String</span> <span class="pl-v">chainDealId</span>, <span class="pl-k">int</span> <span class="pl-v">taskIndex</span>, <span class="pl-smi">String</span> <span class="pl-v">imageName</span>, <span class="pl-smi">String</span> <span class="pl-v">commandLine</span>, <span class="pl-k">int</span> <span class="pl-v">trust</span>, <span class="pl-k">long</span> <span class="pl-v">maxExecutionTime</span>, <span class="pl-smi">String</span> <span class="pl-v">tag</span>) {</span></td>
</tr>
<tr class="js-expandable-line" data-position="44">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="66-76" data-right-range="61-71" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=65&amp;last_right=60&amp;left=89&amp;left_hunk_size=10&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=84&amp;right_hunk_size=14" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="77-88" data-right-range="72-83" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=65&amp;last_right=60&amp;left=89&amp;left_hunk_size=10&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=84&amp;right_hunk_size=14" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -89,10 +84,14 @@ public TaskService(TaskRepository taskRepository,</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="89" id="diff-d3005809b06dcaa818bf32aaae19d9e5L89"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="84" id="diff-d3005809b06dcaa818bf32aaae19d9e5R84"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> taskRepository<span class="pl-k">.</span>findByChainDealIdAndTaskIndex(chainDealId, taskIndex);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="90" id="diff-d3005809b06dcaa818bf32aaae19d9e5L90"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="85" id="diff-d3005809b06dcaa818bf32aaae19d9e5R85"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="91" id="diff-d3005809b06dcaa818bf32aaae19d9e5L91"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="86" id="diff-d3005809b06dcaa818bf32aaae19d9e5R86"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="92" id="diff-d3005809b06dcaa818bf32aaae19d9e5L92"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> <span class="pl-en x x-first x-last">getAllRunningTasks</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="87" id="diff-d3005809b06dcaa818bf32aaae19d9e5R87"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> <span class="pl-en x x-first x-last">getInitializedOrRunningTasks</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-d3005809b06dcaa818bf32aaae19d9e5L93"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="88" id="diff-d3005809b06dcaa818bf32aaae19d9e5R88"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> taskRepository<span class="pl-k">.</span>findByCurrentStatus(<span class="pl-smi">Arrays</span><span class="pl-k">.</span>asList(<span class="pl-c1">INITIALIZED</span>, <span class="pl-c1">RUNNING</span>));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-d3005809b06dcaa818bf32aaae19d9e5L94"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="89" id="diff-d3005809b06dcaa818bf32aaae19d9e5R89"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-d3005809b06dcaa818bf32aaae19d9e5L95"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="90" id="diff-d3005809b06dcaa818bf32aaae19d9e5R90"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="91" id="diff-d3005809b06dcaa818bf32aaae19d9e5R91"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> <span class="pl-en">getTasksInNonFinalStatuses</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="92" id="diff-d3005809b06dcaa818bf32aaae19d9e5R92"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span> taskRepository<span class="pl-k">.</span>findByCurrentStatusNotIn(<span class="pl-smi">Arrays</span><span class="pl-k">.</span>asList(<span class="pl-c1">FAILED</span>, <span class="pl-c1">COMPLETED</span>));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="93" id="diff-d3005809b06dcaa818bf32aaae19d9e5R93"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="94" id="diff-d3005809b06dcaa818bf32aaae19d9e5R94"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="96" id="diff-d3005809b06dcaa818bf32aaae19d9e5L96"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-d3005809b06dcaa818bf32aaae19d9e5R95"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c"><span class="pl-c">//</span> in case the task has been modified between reading and writing it, it is retried up to 5 times</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-d3005809b06dcaa818bf32aaae19d9e5L97"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="96" id="diff-d3005809b06dcaa818bf32aaae19d9e5R96"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Retryable</span>(<span class="pl-c1">value</span> <span class="pl-k">=</span> {<span class="pl-smi">OptimisticLockingFailureException</span><span class="pl-k">.</span>class}, <span class="pl-c1">maxAttempts</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>)</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="98" id="diff-d3005809b06dcaa818bf32aaae19d9e5L98"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-d3005809b06dcaa818bf32aaae19d9e5R97"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">Optional&lt;<span class="pl-smi">Replicate</span>&gt;</span> <span class="pl-en">getAvailableReplicate</span>(<span class="pl-k">long</span> <span class="pl-v">blockNumber</span>, <span class="pl-smi">String</span> <span class="pl-v">walletAddress</span>) {</span></td>
</tr>
<tr class="js-expandable-line" data-position="60">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="99-100" data-right-range="98-99" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;in_wiki_context=&amp;last_left=98&amp;last_right=97&amp;left=104&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=103&amp;right_hunk_size=7" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -104,7 +103,7 @@ public TaskService(TaskRepository taskRepository,</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-d3005809b06dcaa818bf32aaae19d9e5L104"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="103" id="diff-d3005809b06dcaa818bf32aaae19d9e5R103"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">Worker</span> worker <span class="pl-k">=</span> optional<span class="pl-k">.</span>get();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-d3005809b06dcaa818bf32aaae19d9e5L105"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-d3005809b06dcaa818bf32aaae19d9e5R104"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="106" id="diff-d3005809b06dcaa818bf32aaae19d9e5L106"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-d3005809b06dcaa818bf32aaae19d9e5R105"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c"><span class="pl-c">//</span> return empty if there is no task to contribute</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="107" id="diff-d3005809b06dcaa818bf32aaae19d9e5L107"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> runningTasks <span class="pl-k">=</span> <span class="x x-first x-last">getAllRunningTasks</span>();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="106" id="diff-d3005809b06dcaa818bf32aaae19d9e5R106"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">List&lt;<span class="pl-smi">Task</span>&gt;</span> runningTasks <span class="pl-k">=</span> <span class="x x-first x-last">getInitializedOrRunningTasks</span>();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="108" id="diff-d3005809b06dcaa818bf32aaae19d9e5L108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="107" id="diff-d3005809b06dcaa818bf32aaae19d9e5R107"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (runningTasks<span class="pl-k">.</span>isEmpty()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-d3005809b06dcaa818bf32aaae19d9e5L109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="108" id="diff-d3005809b06dcaa818bf32aaae19d9e5R108"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">Optional</span><span class="pl-k">.</span>empty();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-d3005809b06dcaa818bf32aaae19d9e5L110"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-d3005809b06dcaa818bf32aaae19d9e5R109"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr class="js-expandable-line" data-position="69">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="111-137" data-right-range="110-136" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=110&amp;last_right=109&amp;left=167&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=166&amp;right_hunk_size=7" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="138-166" data-right-range="137-165" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=110&amp;last_right=109&amp;left=167&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=166&amp;right_hunk_size=7" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -167,7 +166,7 @@ void tryUpgradeTaskStatus(String chainTaskId) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="167" id="diff-d3005809b06dcaa818bf32aaae19d9e5L167"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="166" id="diff-d3005809b06dcaa818bf32aaae19d9e5R166"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                resultUploading2UploadTimeout(task);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="168" id="diff-d3005809b06dcaa818bf32aaae19d9e5L168"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="167" id="diff-d3005809b06dcaa818bf32aaae19d9e5R167"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">break</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="169" id="diff-d3005809b06dcaa818bf32aaae19d9e5L169"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="168" id="diff-d3005809b06dcaa818bf32aaae19d9e5R168"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">case</span> <span class="pl-c1">RESULT_UPLOADED</span><span class="pl-k">:</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="170" id="diff-d3005809b06dcaa818bf32aaae19d9e5L170"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first x-last">updateResultUploaded2Finalized</span>(task);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="169" id="diff-d3005809b06dcaa818bf32aaae19d9e5R169"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first x-last">resultUploaded2Finalized2Completed</span>(task);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="171" id="diff-d3005809b06dcaa818bf32aaae19d9e5L171"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="170" id="diff-d3005809b06dcaa818bf32aaae19d9e5R170"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">break</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="172" id="diff-d3005809b06dcaa818bf32aaae19d9e5L172"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="171" id="diff-d3005809b06dcaa818bf32aaae19d9e5R171"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="173" id="diff-d3005809b06dcaa818bf32aaae19d9e5L173"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="172" id="diff-d3005809b06dcaa818bf32aaae19d9e5R172"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr class="js-expandable-line" data-position="78">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="174-179" data-right-range="173-178" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;in_wiki_context=&amp;last_left=173&amp;last_right=172&amp;left=188&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=187&amp;right_hunk_size=7" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -188,7 +187,7 @@ private void received2Initialized(Task task) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="188" id="diff-d3005809b06dcaa818bf32aaae19d9e5L188"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="187" id="diff-d3005809b06dcaa818bf32aaae19d9e5R187"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isCurrentStatusReceived <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-c1">RECEIVED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="189" id="diff-d3005809b06dcaa818bf32aaae19d9e5L189"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="188" id="diff-d3005809b06dcaa818bf32aaae19d9e5R188"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="190" id="diff-d3005809b06dcaa818bf32aaae19d9e5L190"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="189" id="diff-d3005809b06dcaa818bf32aaae19d9e5R189"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (<span class="pl-k">!</span>isCurrentStatusReceived) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="191" id="diff-d3005809b06dcaa818bf32aaae19d9e5L191"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            log<span class="pl-k">.</span>error(<span class="pl-s"><span class="pl-pds">"</span><span class="x x-first x-last">Initialize failed</span> [chainTaskId:{}, currentStatus:{}]<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="190" id="diff-d3005809b06dcaa818bf32aaae19d9e5R190"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            log<span class="pl-k">.</span>error(<span class="pl-s"><span class="pl-pds">"</span><span class="x x-first x-last">Cannot initialize</span> [chainTaskId:{}, currentStatus:{}]<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="192" id="diff-d3005809b06dcaa818bf32aaae19d9e5L192"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="191" id="diff-d3005809b06dcaa818bf32aaae19d9e5R191"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    task<span class="pl-k">.</span>getChainTaskId(), task<span class="pl-k">.</span>getCurrentStatus());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="193" id="diff-d3005809b06dcaa818bf32aaae19d9e5L193"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="192" id="diff-d3005809b06dcaa818bf32aaae19d9e5R192"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="194" id="diff-d3005809b06dcaa818bf32aaae19d9e5L194"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="193" id="diff-d3005809b06dcaa818bf32aaae19d9e5R193"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr class="js-expandable-line" data-position="87">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="195-205" data-right-range="194-204" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=194&amp;last_right=193&amp;left=219&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=218&amp;right_hunk_size=8" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="206-218" data-right-range="205-217" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=194&amp;last_right=193&amp;left=219&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=218&amp;right_hunk_size=8" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -219,6 +218,8 @@ private void received2Initialized(Task task) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="219" id="diff-d3005809b06dcaa818bf32aaae19d9e5L219"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="218" id="diff-d3005809b06dcaa818bf32aaae19d9e5R218"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            log<span class="pl-k">.</span>error(<span class="pl-s"><span class="pl-pds">"</span>Initialize failed [existingChainTaskId:{}, returnedChainTaskId:{}]<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="220" id="diff-d3005809b06dcaa818bf32aaae19d9e5L220"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="219" id="diff-d3005809b06dcaa818bf32aaae19d9e5R219"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    existingChainTaskId, chainTaskId);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="221" id="diff-d3005809b06dcaa818bf32aaae19d9e5L221"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="220" id="diff-d3005809b06dcaa818bf32aaae19d9e5R220"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">INITIALIZE_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="221" id="diff-d3005809b06dcaa818bf32aaae19d9e5R221"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="222" id="diff-d3005809b06dcaa818bf32aaae19d9e5R222"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">return</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="222" id="diff-d3005809b06dcaa818bf32aaae19d9e5L222"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="223" id="diff-d3005809b06dcaa818bf32aaae19d9e5R223"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="223" id="diff-d3005809b06dcaa818bf32aaae19d9e5L223"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="224" id="diff-d3005809b06dcaa818bf32aaae19d9e5R224"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="224" id="diff-d3005809b06dcaa818bf32aaae19d9e5L224"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="225" id="diff-d3005809b06dcaa818bf32aaae19d9e5R225"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">Optional&lt;<span class="pl-smi">ChainTask</span>&gt;</span> optional <span class="pl-k">=</span> iexecHubService<span class="pl-k">.</span>getChainTask(chainTaskId);</span></td>
</tr>
<tr class="js-expandable-line" data-position="96">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="225-258" data-right-range="226-259" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=224&amp;last_right=225&amp;left=294&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=295&amp;right_hunk_size=7" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="259-293" data-right-range="260-294" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=224&amp;last_right=225&amp;left=294&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=295&amp;right_hunk_size=7" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -294,6 +295,7 @@ private void initializedOrRunning2ContributionTimeout(Task task) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="294" id="diff-d3005809b06dcaa818bf32aaae19d9e5L294"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="295" id="diff-d3005809b06dcaa818bf32aaae19d9e5R295"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="295" id="diff-d3005809b06dcaa818bf32aaae19d9e5L295"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="296" id="diff-d3005809b06dcaa818bf32aaae19d9e5R296"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (isInitializedOrRunningTask <span class="pl-k">&amp;&amp;</span> isChainTaskActive <span class="pl-k">&amp;&amp;</span> isNowAfterContributionDeadline) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="296" id="diff-d3005809b06dcaa818bf32aaae19d9e5L296"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="297" id="diff-d3005809b06dcaa818bf32aaae19d9e5R297"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">CONTRIBUTION_TIMEOUT</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="298" id="diff-d3005809b06dcaa818bf32aaae19d9e5R298"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="297" id="diff-d3005809b06dcaa818bf32aaae19d9e5L297"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="299" id="diff-d3005809b06dcaa818bf32aaae19d9e5R299"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            applicationEventPublisher<span class="pl-k">.</span>publishEvent(<span class="pl-smi">ContributionTimeoutEvent</span><span class="pl-k">.</span>builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="298" id="diff-d3005809b06dcaa818bf32aaae19d9e5L298"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="300" id="diff-d3005809b06dcaa818bf32aaae19d9e5R300"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    .chainTaskId(task<span class="pl-k">.</span>getChainTaskId())</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="299" id="diff-d3005809b06dcaa818bf32aaae19d9e5L299"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="301" id="diff-d3005809b06dcaa818bf32aaae19d9e5R301"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    .build());</span></td>
</tr>
<tr class="js-expandable-line" data-position="104">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="300-312" data-right-range="302-314" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=299&amp;last_right=301&amp;left=328&amp;left_hunk_size=24&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=330&amp;right_hunk_size=25" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="313-327" data-right-range="315-329" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=299&amp;last_right=301&amp;left=328&amp;left_hunk_size=24&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=330&amp;right_hunk_size=25" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -328,24 +330,25 @@ public void consensusReached2Reopened(Task task) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="328" id="diff-d3005809b06dcaa818bf32aaae19d9e5L328"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="330" id="diff-d3005809b06dcaa818bf32aaae19d9e5R330"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="329" id="diff-d3005809b06dcaa818bf32aaae19d9e5L329"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="331" id="diff-d3005809b06dcaa818bf32aaae19d9e5R331"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="330" id="diff-d3005809b06dcaa818bf32aaae19d9e5L330"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="332" id="diff-d3005809b06dcaa818bf32aaae19d9e5R332"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="331" id="diff-d3005809b06dcaa818bf32aaae19d9e5L331"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        updateTaskStatusAndSave(task, <span class="pl-smi x x-first">TaskStatus</span><span class="pl-c1"><span class="pl-k x x-last">.</span>REOPENING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="333" id="diff-d3005809b06dcaa818bf32aaae19d9e5R333"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        updateTaskStatusAndSave(task, <span class="pl-c1">REOPENING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="332" id="diff-d3005809b06dcaa818bf32aaae19d9e5L332"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="334" id="diff-d3005809b06dcaa818bf32aaae19d9e5R334"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">Optional&lt;<span class="pl-smi">ChainReceipt</span>&gt;</span> optionalChainReceipt <span class="pl-k">=</span> iexecHubService<span class="pl-k">.</span>reOpen(task<span class="pl-k">.</span>getChainTaskId());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="333" id="diff-d3005809b06dcaa818bf32aaae19d9e5L333"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="335" id="diff-d3005809b06dcaa818bf32aaae19d9e5R335"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="334" id="diff-d3005809b06dcaa818bf32aaae19d9e5L334"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="336" id="diff-d3005809b06dcaa818bf32aaae19d9e5R336"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (<span class="pl-k">!</span>optionalChainReceipt<span class="pl-k">.</span>isPresent()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="335" id="diff-d3005809b06dcaa818bf32aaae19d9e5L335"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="337" id="diff-d3005809b06dcaa818bf32aaae19d9e5R337"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            log<span class="pl-k">.</span>error(<span class="pl-s"><span class="pl-pds">"</span>Reopen failed [chainTaskId:{}, canReopen:{}, hasEnoughGas:{}]<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="336" id="diff-d3005809b06dcaa818bf32aaae19d9e5L336"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="338" id="diff-d3005809b06dcaa818bf32aaae19d9e5R338"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    task<span class="pl-k">.</span>getChainTaskId(), canReopen, hasEnoughGas);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="337" id="diff-d3005809b06dcaa818bf32aaae19d9e5L337"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-smi">TaskStatus</span><span class="pl-c1"><span class="pl-k">.</span>REOPEN_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="339" id="diff-d3005809b06dcaa818bf32aaae19d9e5R339"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">REOPEN_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="340" id="diff-d3005809b06dcaa818bf32aaae19d9e5R340"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="338" id="diff-d3005809b06dcaa818bf32aaae19d9e5L338"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="341" id="diff-d3005809b06dcaa818bf32aaae19d9e5R341"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="339" id="diff-d3005809b06dcaa818bf32aaae19d9e5L339"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="342" id="diff-d3005809b06dcaa818bf32aaae19d9e5R342"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="340" id="diff-d3005809b06dcaa818bf32aaae19d9e5L340"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="343" id="diff-d3005809b06dcaa818bf32aaae19d9e5R343"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="341" id="diff-d3005809b06dcaa818bf32aaae19d9e5L341"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="344" id="diff-d3005809b06dcaa818bf32aaae19d9e5R344"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        task<span class="pl-k">.</span>setConsensus(<span class="pl-c1">null</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="342" id="diff-d3005809b06dcaa818bf32aaae19d9e5L342"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="345" id="diff-d3005809b06dcaa818bf32aaae19d9e5R345"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        task<span class="pl-k">.</span>setRevealDeadline(<span class="pl-k">new</span> <span class="pl-smi">Date</span>(<span class="pl-c1">0</span>));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="343" id="diff-d3005809b06dcaa818bf32aaae19d9e5L343"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        updateTaskStatusAndSave(task, <span class="pl-smi x x-first">TaskStatus</span><span class="pl-c1"><span class="pl-k x x-last">.</span>REOPENED</span>, optionalChainReceipt<span class="pl-k">.</span>get());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="344" id="diff-d3005809b06dcaa818bf32aaae19d9e5L344"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        updateTaskStatusAndSave(task, <span class="pl-smi x x-first">TaskStatus</span><span class="pl-c1"><span class="pl-k x x-last">.</span>INITIALIZED</span>, optionalChainReceipt<span class="pl-k">.</span>get());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="346" id="diff-d3005809b06dcaa818bf32aaae19d9e5R346"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        updateTaskStatusAndSave(task, <span class="pl-c1">REOPENED</span>, optionalChainReceipt<span class="pl-k">.</span>get());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="347" id="diff-d3005809b06dcaa818bf32aaae19d9e5R347"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        updateTaskStatusAndSave(task, <span class="pl-c1">INITIALIZED</span>, optionalChainReceipt<span class="pl-k">.</span>get());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="345" id="diff-d3005809b06dcaa818bf32aaae19d9e5L345"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="348" id="diff-d3005809b06dcaa818bf32aaae19d9e5R348"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="346" id="diff-d3005809b06dcaa818bf32aaae19d9e5L346"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="349" id="diff-d3005809b06dcaa818bf32aaae19d9e5R349"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="347" id="diff-d3005809b06dcaa818bf32aaae19d9e5L347"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="350" id="diff-d3005809b06dcaa818bf32aaae19d9e5R350"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">uploadRequested2UploadingResult</span>(<span class="pl-smi">Task</span> <span class="pl-v">task</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="348" id="diff-d3005809b06dcaa818bf32aaae19d9e5L348"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isTaskInUploadRequested <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-smi x x-first">TaskStatus</span><span class="pl-c1"><span class="pl-k x x-last">.</span>RESULT_UPLOAD_REQUESTED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="351" id="diff-d3005809b06dcaa818bf32aaae19d9e5R351"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isTaskInUploadRequested <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-c1">RESULT_UPLOAD_REQUESTED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="349" id="diff-d3005809b06dcaa818bf32aaae19d9e5L349"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="352" id="diff-d3005809b06dcaa818bf32aaae19d9e5R352"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isThereAWorkerUploading <span class="pl-k">=</span> replicatesService<span class="pl-k">.</span>getNbReplicatesWithCurrentStatus(task<span class="pl-k">.</span>getChainTaskId(), <span class="pl-smi">ReplicateStatus</span><span class="pl-c1"><span class="pl-k">.</span>RESULT_UPLOADING</span>) <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="350" id="diff-d3005809b06dcaa818bf32aaae19d9e5L350"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="353" id="diff-d3005809b06dcaa818bf32aaae19d9e5R353"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="351" id="diff-d3005809b06dcaa818bf32aaae19d9e5L351"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="354" id="diff-d3005809b06dcaa818bf32aaae19d9e5R354"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (isTaskInUploadRequested) {</span></td>
</tr>
<tr class="js-expandable-line" data-position="135">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="352-353" data-right-range="355-356" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;in_wiki_context=&amp;last_left=351&amp;last_right=354&amp;left=358&amp;left_hunk_size=24&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=361&amp;right_hunk_size=26" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -358,24 +361,26 @@ private void uploadRequested2UploadingResult(Task task) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="358" id="diff-d3005809b06dcaa818bf32aaae19d9e5L358"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="361" id="diff-d3005809b06dcaa818bf32aaae19d9e5R361"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="359" id="diff-d3005809b06dcaa818bf32aaae19d9e5L359"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="362" id="diff-d3005809b06dcaa818bf32aaae19d9e5R362"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="360" id="diff-d3005809b06dcaa818bf32aaae19d9e5L360"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="363" id="diff-d3005809b06dcaa818bf32aaae19d9e5R363"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">uploadRequested2UploadRequestTimeout</span>(<span class="pl-smi">Task</span> <span class="pl-v">task</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="361" id="diff-d3005809b06dcaa818bf32aaae19d9e5L361"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isTaskInUploadRequested <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-smi">TaskStatus</span><span class="pl-c1"><span class="pl-k">.</span>RESULT_UPLOAD_REQUESTED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="362" id="diff-d3005809b06dcaa818bf32aaae19d9e5L362"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isNowAfterFinalDeadline <span class="pl-k">=</span> task<span class="pl-k">.</span>getFinalDeadline() <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">new</span> <span class="pl-smi">Date</span>()<span class="pl-k">.</span>after(task<span class="pl-k">.</span>getFinalDeadline());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="364" id="diff-d3005809b06dcaa818bf32aaae19d9e5R364"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isTaskInUploadRequested <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-c1">RESULT_UPLOAD_REQUESTED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="365" id="diff-d3005809b06dcaa818bf32aaae19d9e5R365"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isNowAfterFinalDeadline <span class="pl-k">=</span> task<span class="pl-k">.</span>getFinalDeadline() <span class="pl-k">!=</span> <span class="pl-c1">null</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="366" id="diff-d3005809b06dcaa818bf32aaae19d9e5R366"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">new</span> <span class="pl-smi">Date</span>()<span class="pl-k">.</span>after(task<span class="pl-k">.</span>getFinalDeadline());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="363" id="diff-d3005809b06dcaa818bf32aaae19d9e5L363"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="367" id="diff-d3005809b06dcaa818bf32aaae19d9e5R367"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="364" id="diff-d3005809b06dcaa818bf32aaae19d9e5L364"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="368" id="diff-d3005809b06dcaa818bf32aaae19d9e5R368"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (isTaskInUploadRequested <span class="pl-k">&amp;&amp;</span> isNowAfterFinalDeadline) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="365" id="diff-d3005809b06dcaa818bf32aaae19d9e5L365"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="369" id="diff-d3005809b06dcaa818bf32aaae19d9e5R369"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">RESULT_UPLOAD_REQUEST_TIMEOUT</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="366" id="diff-d3005809b06dcaa818bf32aaae19d9e5L366"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="370" id="diff-d3005809b06dcaa818bf32aaae19d9e5R370"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            applicationEventPublisher<span class="pl-k">.</span>publishEvent(<span class="pl-smi">ResultUploadTimeoutEvent</span><span class="pl-k">.</span>builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="367" id="diff-d3005809b06dcaa818bf32aaae19d9e5L367"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="371" id="diff-d3005809b06dcaa818bf32aaae19d9e5R371"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    .chainTaskId(task<span class="pl-k">.</span>getChainTaskId())</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="368" id="diff-d3005809b06dcaa818bf32aaae19d9e5L368"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="372" id="diff-d3005809b06dcaa818bf32aaae19d9e5R372"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    .build());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="373" id="diff-d3005809b06dcaa818bf32aaae19d9e5R373"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="369" id="diff-d3005809b06dcaa818bf32aaae19d9e5L369"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="374" id="diff-d3005809b06dcaa818bf32aaae19d9e5R374"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="370" id="diff-d3005809b06dcaa818bf32aaae19d9e5L370"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="375" id="diff-d3005809b06dcaa818bf32aaae19d9e5R375"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="371" id="diff-d3005809b06dcaa818bf32aaae19d9e5L371"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="376" id="diff-d3005809b06dcaa818bf32aaae19d9e5R376"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="372" id="diff-d3005809b06dcaa818bf32aaae19d9e5L372"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="377" id="diff-d3005809b06dcaa818bf32aaae19d9e5R377"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">resultUploading2Uploaded</span>(<span class="pl-smi">Task</span> <span class="pl-v">task</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="373" id="diff-d3005809b06dcaa818bf32aaae19d9e5L373"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> condition1 <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-smi x x-first">TaskStatus</span><span class="pl-c1"><span class="pl-k x x-last">.</span>RESULT_UPLOADING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="378" id="diff-d3005809b06dcaa818bf32aaae19d9e5R378"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> condition1 <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-c1">RESULT_UPLOADING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="374" id="diff-d3005809b06dcaa818bf32aaae19d9e5L374"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="379" id="diff-d3005809b06dcaa818bf32aaae19d9e5R379"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> condition2 <span class="pl-k">=</span> replicatesService<span class="pl-k">.</span>getNbReplicatesContainingStatus(task<span class="pl-k">.</span>getChainTaskId(), <span class="pl-smi">ReplicateStatus</span><span class="pl-c1"><span class="pl-k">.</span>RESULT_UPLOADED</span>) <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="375" id="diff-d3005809b06dcaa818bf32aaae19d9e5L375"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="380" id="diff-d3005809b06dcaa818bf32aaae19d9e5R380"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="376" id="diff-d3005809b06dcaa818bf32aaae19d9e5L376"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="381" id="diff-d3005809b06dcaa818bf32aaae19d9e5R381"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (condition1 <span class="pl-k">&amp;&amp;</span> condition2) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="377" id="diff-d3005809b06dcaa818bf32aaae19d9e5L377"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="382" id="diff-d3005809b06dcaa818bf32aaae19d9e5R382"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">RESULT_UPLOADED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="378" id="diff-d3005809b06dcaa818bf32aaae19d9e5L378"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first x-last">updateResultUploaded2Finalized</span>(task);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="383" id="diff-d3005809b06dcaa818bf32aaae19d9e5R383"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first x-last">resultUploaded2Finalized2Completed</span>(task);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="379" id="diff-d3005809b06dcaa818bf32aaae19d9e5L379"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="384" id="diff-d3005809b06dcaa818bf32aaae19d9e5R384"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        } <span class="pl-k">else</span> <span class="pl-k">if</span> (replicatesService<span class="pl-k">.</span>getNbReplicatesWithCurrentStatus(task<span class="pl-k">.</span>getChainTaskId(), <span class="pl-smi">ReplicateStatus</span><span class="pl-c1"><span class="pl-k">.</span>RESULT_UPLOAD_REQUEST_FAILED</span>) <span class="pl-k">&gt;</span> <span class="pl-c1">0</span> <span class="pl-k">&amp;&amp;</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="380" id="diff-d3005809b06dcaa818bf32aaae19d9e5L380"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="385" id="diff-d3005809b06dcaa818bf32aaae19d9e5R385"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                replicatesService<span class="pl-k">.</span>getNbReplicatesWithCurrentStatus(task<span class="pl-k">.</span>getChainTaskId(), <span class="pl-smi">ReplicateStatus</span><span class="pl-c1"><span class="pl-k">.</span>RESULT_UPLOADING</span>) <span class="pl-k">==</span> <span class="pl-c1">0</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="381" id="diff-d3005809b06dcaa818bf32aaae19d9e5L381"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="386" id="diff-d3005809b06dcaa818bf32aaae19d9e5R386"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c"><span class="pl-c">//</span> need to request upload again</span></span></td>
</tr>
<tr class="js-expandable-line" data-position="166">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="382-381" data-right-range="387-386" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;in_wiki_context=&amp;last_left=381&amp;last_right=386&amp;left=384&amp;left_hunk_size=14&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=389&amp;right_hunk_size=16" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -384,14 +389,16 @@ private void resultUploading2Uploaded(Task task) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="384" id="diff-d3005809b06dcaa818bf32aaae19d9e5L384"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="389" id="diff-d3005809b06dcaa818bf32aaae19d9e5R389"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="385" id="diff-d3005809b06dcaa818bf32aaae19d9e5L385"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="390" id="diff-d3005809b06dcaa818bf32aaae19d9e5R390"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="386" id="diff-d3005809b06dcaa818bf32aaae19d9e5L386"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="391" id="diff-d3005809b06dcaa818bf32aaae19d9e5R391"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">resultUploading2UploadTimeout</span>(<span class="pl-smi">Task</span> <span class="pl-v">task</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="387" id="diff-d3005809b06dcaa818bf32aaae19d9e5L387"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isTaskInResultUploading <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-smi">TaskStatus</span><span class="pl-c1"><span class="pl-k">.</span>RESULT_UPLOADING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="388" id="diff-d3005809b06dcaa818bf32aaae19d9e5L388"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isNowAfterFinalDeadline <span class="pl-k">=</span> task<span class="pl-k">.</span>getFinalDeadline() <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">new</span> <span class="pl-smi">Date</span>()<span class="pl-k">.</span>after(task<span class="pl-k">.</span>getFinalDeadline());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="392" id="diff-d3005809b06dcaa818bf32aaae19d9e5R392"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isTaskInResultUploading <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-c1">RESULT_UPLOADING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="393" id="diff-d3005809b06dcaa818bf32aaae19d9e5R393"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isNowAfterFinalDeadline <span class="pl-k">=</span> task<span class="pl-k">.</span>getFinalDeadline() <span class="pl-k">!=</span> <span class="pl-c1">null</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="394" id="diff-d3005809b06dcaa818bf32aaae19d9e5R394"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">new</span> <span class="pl-smi">Date</span>()<span class="pl-k">.</span>after(task<span class="pl-k">.</span>getFinalDeadline());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="389" id="diff-d3005809b06dcaa818bf32aaae19d9e5L389"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="395" id="diff-d3005809b06dcaa818bf32aaae19d9e5R395"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="390" id="diff-d3005809b06dcaa818bf32aaae19d9e5L390"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="396" id="diff-d3005809b06dcaa818bf32aaae19d9e5R396"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (isTaskInResultUploading <span class="pl-k">&amp;&amp;</span> isNowAfterFinalDeadline) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="391" id="diff-d3005809b06dcaa818bf32aaae19d9e5L391"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="397" id="diff-d3005809b06dcaa818bf32aaae19d9e5R397"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">RESULT_UPLOAD_TIMEOUT</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="392" id="diff-d3005809b06dcaa818bf32aaae19d9e5L392"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="398" id="diff-d3005809b06dcaa818bf32aaae19d9e5R398"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            applicationEventPublisher<span class="pl-k">.</span>publishEvent(<span class="pl-smi">ResultUploadTimeoutEvent</span><span class="pl-k">.</span>builder()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="393" id="diff-d3005809b06dcaa818bf32aaae19d9e5L393"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="399" id="diff-d3005809b06dcaa818bf32aaae19d9e5R399"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    .chainTaskId(task<span class="pl-k">.</span>getChainTaskId())</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="394" id="diff-d3005809b06dcaa818bf32aaae19d9e5L394"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="400" id="diff-d3005809b06dcaa818bf32aaae19d9e5R400"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    .build());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="401" id="diff-d3005809b06dcaa818bf32aaae19d9e5R401"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="395" id="diff-d3005809b06dcaa818bf32aaae19d9e5L395"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="402" id="diff-d3005809b06dcaa818bf32aaae19d9e5R402"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="396" id="diff-d3005809b06dcaa818bf32aaae19d9e5L396"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="403" id="diff-d3005809b06dcaa818bf32aaae19d9e5R403"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="397" id="diff-d3005809b06dcaa818bf32aaae19d9e5L397"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="404" id="diff-d3005809b06dcaa818bf32aaae19d9e5R404"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr class="js-expandable-line" data-position="185">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="398-402" data-right-range="405-409" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;in_wiki_context=&amp;last_left=397&amp;last_right=404&amp;left=409&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=416&amp;right_hunk_size=7" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -409,7 +416,7 @@ private void requestUpload(Task task) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="409" id="diff-d3005809b06dcaa818bf32aaae19d9e5L409"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="416" id="diff-d3005809b06dcaa818bf32aaae19d9e5R416"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="410" id="diff-d3005809b06dcaa818bf32aaae19d9e5L410"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="417" id="diff-d3005809b06dcaa818bf32aaae19d9e5R417"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="411" id="diff-d3005809b06dcaa818bf32aaae19d9e5L411"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="418" id="diff-d3005809b06dcaa818bf32aaae19d9e5R418"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="412" id="diff-d3005809b06dcaa818bf32aaae19d9e5L412"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en x x-first x-last">updateResultUploaded2Finalized</span>(<span class="pl-smi">Task</span> <span class="pl-v">task</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="419" id="diff-d3005809b06dcaa818bf32aaae19d9e5R419"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en x x-first x-last">resultUploaded2Finalized2Completed</span>(<span class="pl-smi">Task</span> <span class="pl-v">task</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="413" id="diff-d3005809b06dcaa818bf32aaae19d9e5L413"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="420" id="diff-d3005809b06dcaa818bf32aaae19d9e5R420"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> isTaskInResultUploaded <span class="pl-k">=</span> task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-c1">RESULT_UPLOADED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="414" id="diff-d3005809b06dcaa818bf32aaae19d9e5L414"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="421" id="diff-d3005809b06dcaa818bf32aaae19d9e5R421"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">boolean</span> canFinalize <span class="pl-k">=</span> iexecHubService<span class="pl-k">.</span>canFinalize(task<span class="pl-k">.</span>getChainTaskId());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="415" id="diff-d3005809b06dcaa818bf32aaae19d9e5L415"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="422" id="diff-d3005809b06dcaa818bf32aaae19d9e5R422"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr class="js-expandable-line" data-position="194">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand All" class="js-expand directional-expander single-expander" data-left-range="416-422" data-right-range="423-429" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/fe586153bf69ca5c977fc4fd83db9727f5c22caa?diff=unified&amp;in_wiki_context=&amp;last_left=415&amp;last_right=422&amp;left=432&amp;left_hunk_size=26&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskService.java&amp;right=439&amp;right_hunk_size=21" href="#diff-d3005809b06dcaa818bf32aaae19d9e5" title="Expand All">
<svg aria-hidden="true" class="octicon octicon-unfold" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -432,26 +439,21 @@ private void updateResultUploaded2Finalized(Task task) {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="432" id="diff-d3005809b06dcaa818bf32aaae19d9e5L432"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="439" id="diff-d3005809b06dcaa818bf32aaae19d9e5R439"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="433" id="diff-d3005809b06dcaa818bf32aaae19d9e5L433"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="440" id="diff-d3005809b06dcaa818bf32aaae19d9e5R440"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="434" id="diff-d3005809b06dcaa818bf32aaae19d9e5L434"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="441" id="diff-d3005809b06dcaa818bf32aaae19d9e5R441"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        updateTaskStatusAndSave(task, <span class="pl-c1">FINALIZING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="435" id="diff-d3005809b06dcaa818bf32aaae19d9e5L435"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">String</span> resultUri <span class="pl-k">=</span> resultRepositoryProtocol <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>://<span class="pl-pds">"</span></span> <span class="pl-k">+</span> resultRepositoryIp <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> resultRepositoryPort <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>/results/<span class="pl-pds">"</span></span> <span class="pl-k">+</span> task<span class="pl-k">.</span>getChainTaskId();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="442" id="diff-d3005809b06dcaa818bf32aaae19d9e5R442"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">String</span> resultUri <span class="pl-k">=</span> resultRepositoryConfig<span class="pl-k">.</span>getResultRepositoryURL()</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="443" id="diff-d3005809b06dcaa818bf32aaae19d9e5R443"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>/results/<span class="pl-pds">"</span></span> <span class="pl-k">+</span> task<span class="pl-k">.</span>getChainTaskId();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="436" id="diff-d3005809b06dcaa818bf32aaae19d9e5L436"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="444" id="diff-d3005809b06dcaa818bf32aaae19d9e5R444"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">Optional&lt;<span class="pl-smi">ChainReceipt</span>&gt;</span> optionalChainReceipt <span class="pl-k">=</span> iexecHubService<span class="pl-k">.</span>finalizeTask(task<span class="pl-k">.</span>getChainTaskId(), resultUri);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="437" id="diff-d3005809b06dcaa818bf32aaae19d9e5L437"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="445" id="diff-d3005809b06dcaa818bf32aaae19d9e5R445"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="438" id="diff-d3005809b06dcaa818bf32aaae19d9e5L438"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="446" id="diff-d3005809b06dcaa818bf32aaae19d9e5R446"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">if</span> (<span class="pl-k">!</span>optionalChainReceipt<span class="pl-k">.</span>isPresent()) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="439" id="diff-d3005809b06dcaa818bf32aaae19d9e5L439"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="447" id="diff-d3005809b06dcaa818bf32aaae19d9e5R447"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            log<span class="pl-k">.</span>error(<span class="pl-s"><span class="pl-pds">"</span>Finalize failed [chainTaskId:{} canFinalize:{}, isAfterRevealDeadline:{}, hasAtLeastOneReveal:{}]<span class="pl-pds">"</span></span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="440" id="diff-d3005809b06dcaa818bf32aaae19d9e5L440"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="448" id="diff-d3005809b06dcaa818bf32aaae19d9e5R448"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">                    task<span class="pl-k">.</span>getChainTaskId(), isTaskInResultUploaded, canFinalize, offChainRevealEqualsOnChainReveal);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="441" id="diff-d3005809b06dcaa818bf32aaae19d9e5L441"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="449" id="diff-d3005809b06dcaa818bf32aaae19d9e5R449"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">FINALIZE_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="450" id="diff-d3005809b06dcaa818bf32aaae19d9e5R450"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="442" id="diff-d3005809b06dcaa818bf32aaae19d9e5L442"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="451" id="diff-d3005809b06dcaa818bf32aaae19d9e5R451"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="443" id="diff-d3005809b06dcaa818bf32aaae19d9e5L443"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="452" id="diff-d3005809b06dcaa818bf32aaae19d9e5R452"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="444" id="diff-d3005809b06dcaa818bf32aaae19d9e5L444"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="453" id="diff-d3005809b06dcaa818bf32aaae19d9e5R453"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="445" id="diff-d3005809b06dcaa818bf32aaae19d9e5L445"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="454" id="diff-d3005809b06dcaa818bf32aaae19d9e5R454"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        updateTaskStatusAndSave(task, <span class="pl-c1">FINALIZED</span>, optionalChainReceipt<span class="pl-k">.</span>get());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="446" id="diff-d3005809b06dcaa818bf32aaae19d9e5L446"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        updateFromFinalizedToCompleted(task);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="447" id="diff-d3005809b06dcaa818bf32aaae19d9e5L447"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="448" id="diff-d3005809b06dcaa818bf32aaae19d9e5L448"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="449" id="diff-d3005809b06dcaa818bf32aaae19d9e5L449"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-k">void</span> <span class="pl-en">updateFromFinalizedToCompleted</span>(<span class="pl-smi">Task</span> <span class="pl-v">task</span>) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="450" id="diff-d3005809b06dcaa818bf32aaae19d9e5L450"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-k">if</span> (task<span class="pl-k">.</span>getCurrentStatus()<span class="pl-k">.</span>equals(<span class="pl-c1">FINALIZED</span>)) {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="451" id="diff-d3005809b06dcaa818bf32aaae19d9e5L451"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">            updateTaskStatusAndSave(task, <span class="pl-c1">COMPLETED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="452" id="diff-d3005809b06dcaa818bf32aaae19d9e5L452"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="455" id="diff-d3005809b06dcaa818bf32aaae19d9e5R455"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="453" id="diff-d3005809b06dcaa818bf32aaae19d9e5L453"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first">    applicationEventPublisher</span><span class="pl-k x">.</span><span class="x">publishEvent(</span><span class="pl-k x">new</span><span class="x"> </span><span class="pl-smi x">TaskCompletedEvent</span><span class="x x-last">(</span>task<span class="x x-first x-last">)</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="454" id="diff-d3005809b06dcaa818bf32aaae19d9e5L454"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="x x-first x-last">}</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="456" id="diff-d3005809b06dcaa818bf32aaae19d9e5R456"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first x-last">updateTaskStatusAndSave(</span>task<span class="x x-first">, </span><span class="pl-c1 x x-last">COMPLETED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="457" id="diff-d3005809b06dcaa818bf32aaae19d9e5R457"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="x x-first">applicationEventPublisher</span><span class="pl-k x">.</span><span class="x">publishEvent(</span><span class="pl-k x">new</span><span class="x"> </span><span class="pl-smi x">TaskCompletedEvent</span><span class="x x-last">(task));</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="455" id="diff-d3005809b06dcaa818bf32aaae19d9e5L455"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="458" id="diff-d3005809b06dcaa818bf32aaae19d9e5R458"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="456" id="diff-d3005809b06dcaa818bf32aaae19d9e5L456"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="457" id="diff-d3005809b06dcaa818bf32aaae19d9e5L457"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">}</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="459" id="diff-d3005809b06dcaa818bf32aaae19d9e5R459"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">}</span>
<span aria-label="No newline at end of file" class="no-nl-marker tooltipped tooltipped-n">
<svg aria-hidden="true" class="octicon octicon-no-newline" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M16 5v3c0 .55-.45 1-1 1h-3v2L9 8l3-3v2h2V5h2zM8 8c0 2.2-1.8 4-4 4s-4-1.8-4-4 1.8-4 4-4 4 1.8 4 4zM1.5 9.66L5.66 5.5C5.18 5.19 4.61 5 4 5 2.34 5 1 6.34 1 8c0 .61.19 1.17.5 1.66zM7 8c0-.61-.19-1.17-.5-1.66L2.34 10.5c.48.31 1.05.5 1.66.5 1.66 0 3-1.34 3-3z" fill-rule="evenodd"></path></svg>
</span>
</td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-d3005809b06dcaa818bf32aaae19d9e5L6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-d3005809b06dcaa818bf32aaae19d9e5R6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-d3005809b06dcaa818bf32aaae19d9e5L7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-d3005809b06dcaa818bf32aaae19d9e5R7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-d3005809b06dcaa818bf32aaae19d9e5L8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-d3005809b06dcaa818bf32aaae19d9e5R8"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="9" id="diff-d3005809b06dcaa818bf32aaae19d9e5R9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-d3005809b06dcaa818bf32aaae19d9e5L9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-d3005809b06dcaa818bf32aaae19d9e5R10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-d3005809b06dcaa818bf32aaae19d9e5L10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-d3005809b06dcaa818bf32aaae19d9e5R11"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-d3005809b06dcaa818bf32aaae19d9e5L11"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="12" id="diff-d3005809b06dcaa818bf32aaae19d9e5R12"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="35" id="diff-d3005809b06dcaa818bf32aaae19d9e5L35"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-d3005809b06dcaa818bf32aaae19d9e5R36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="36" id="diff-d3005809b06dcaa818bf32aaae19d9e5L36"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-d3005809b06dcaa818bf32aaae19d9e5R37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="37" id="diff-d3005809b06dcaa818bf32aaae19d9e5L37"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="38" id="diff-d3005809b06dcaa818bf32aaae19d9e5R38"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="38" id="diff-d3005809b06dcaa818bf32aaae19d9e5L38"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="39" id="diff-d3005809b06dcaa818bf32aaae19d9e5L39"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="40" id="diff-d3005809b06dcaa818bf32aaae19d9e5L40"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="41" id="diff-d3005809b06dcaa818bf32aaae19d9e5L41"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="42" id="diff-d3005809b06dcaa818bf32aaae19d9e5L42"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="43" id="diff-d3005809b06dcaa818bf32aaae19d9e5L43"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="44" id="diff-d3005809b06dcaa818bf32aaae19d9e5L44"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="45" id="diff-d3005809b06dcaa818bf32aaae19d9e5L45"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="46" id="diff-d3005809b06dcaa818bf32aaae19d9e5L46"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="47" id="diff-d3005809b06dcaa818bf32aaae19d9e5L47"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="39" id="diff-d3005809b06dcaa818bf32aaae19d9e5R39"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="48" id="diff-d3005809b06dcaa818bf32aaae19d9e5L48"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="40" id="diff-d3005809b06dcaa818bf32aaae19d9e5R40"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-d3005809b06dcaa818bf32aaae19d9e5L49"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="41" id="diff-d3005809b06dcaa818bf32aaae19d9e5R41"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="50" id="diff-d3005809b06dcaa818bf32aaae19d9e5L50"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="42" id="diff-d3005809b06dcaa818bf32aaae19d9e5R42"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="51" id="diff-d3005809b06dcaa818bf32aaae19d9e5L51"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="43" id="diff-d3005809b06dcaa818bf32aaae19d9e5R43"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="44" id="diff-d3005809b06dcaa818bf32aaae19d9e5R44"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="52" id="diff-d3005809b06dcaa818bf32aaae19d9e5L52"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="45" id="diff-d3005809b06dcaa818bf32aaae19d9e5R45"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-d3005809b06dcaa818bf32aaae19d9e5L53"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="46" id="diff-d3005809b06dcaa818bf32aaae19d9e5R46"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-d3005809b06dcaa818bf32aaae19d9e5L54"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="47" id="diff-d3005809b06dcaa818bf32aaae19d9e5R47"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="55" id="diff-d3005809b06dcaa818bf32aaae19d9e5L55"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="48" id="diff-d3005809b06dcaa818bf32aaae19d9e5R48"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-d3005809b06dcaa818bf32aaae19d9e5L56"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="49" id="diff-d3005809b06dcaa818bf32aaae19d9e5R49"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="57" id="diff-d3005809b06dcaa818bf32aaae19d9e5L57"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="50" id="diff-d3005809b06dcaa818bf32aaae19d9e5R50"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="51" id="diff-d3005809b06dcaa818bf32aaae19d9e5R51"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="58" id="diff-d3005809b06dcaa818bf32aaae19d9e5L58"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="52" id="diff-d3005809b06dcaa818bf32aaae19d9e5R52"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-d3005809b06dcaa818bf32aaae19d9e5L59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="53" id="diff-d3005809b06dcaa818bf32aaae19d9e5R53"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="60" id="diff-d3005809b06dcaa818bf32aaae19d9e5L60"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="54" id="diff-d3005809b06dcaa818bf32aaae19d9e5R54"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="61" id="diff-d3005809b06dcaa818bf32aaae19d9e5L61"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="55" id="diff-d3005809b06dcaa818bf32aaae19d9e5R55"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="62" id="diff-d3005809b06dcaa818bf32aaae19d9e5L62"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-d3005809b06dcaa818bf32aaae19d9e5R56"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="57" id="diff-d3005809b06dcaa818bf32aaae19d9e5R57"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="63" id="diff-d3005809b06dcaa818bf32aaae19d9e5L63"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="58" id="diff-d3005809b06dcaa818bf32aaae19d9e5R58"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="64" id="diff-d3005809b06dcaa818bf32aaae19d9e5L64"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-d3005809b06dcaa818bf32aaae19d9e5R59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="65" id="diff-d3005809b06dcaa818bf32aaae19d9e5L65"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="60" id="diff-d3005809b06dcaa818bf32aaae19d9e5R60"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="89" id="diff-d3005809b06dcaa818bf32aaae19d9e5L89"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="84" id="diff-d3005809b06dcaa818bf32aaae19d9e5R84"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="90" id="diff-d3005809b06dcaa818bf32aaae19d9e5L90"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="85" id="diff-d3005809b06dcaa818bf32aaae19d9e5R85"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="91" id="diff-d3005809b06dcaa818bf32aaae19d9e5L91"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="86" id="diff-d3005809b06dcaa818bf32aaae19d9e5R86"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="92" id="diff-d3005809b06dcaa818bf32aaae19d9e5L92"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="87" id="diff-d3005809b06dcaa818bf32aaae19d9e5R87"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="93" id="diff-d3005809b06dcaa818bf32aaae19d9e5L93"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="88" id="diff-d3005809b06dcaa818bf32aaae19d9e5R88"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="94" id="diff-d3005809b06dcaa818bf32aaae19d9e5L94"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="89" id="diff-d3005809b06dcaa818bf32aaae19d9e5R89"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-d3005809b06dcaa818bf32aaae19d9e5L95"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="90" id="diff-d3005809b06dcaa818bf32aaae19d9e5R90"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="91" id="diff-d3005809b06dcaa818bf32aaae19d9e5R91"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="92" id="diff-d3005809b06dcaa818bf32aaae19d9e5R92"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="93" id="diff-d3005809b06dcaa818bf32aaae19d9e5R93"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="94" id="diff-d3005809b06dcaa818bf32aaae19d9e5R94"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="96" id="diff-d3005809b06dcaa818bf32aaae19d9e5L96"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="95" id="diff-d3005809b06dcaa818bf32aaae19d9e5R95"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-d3005809b06dcaa818bf32aaae19d9e5L97"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="96" id="diff-d3005809b06dcaa818bf32aaae19d9e5R96"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="98" id="diff-d3005809b06dcaa818bf32aaae19d9e5L98"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="97" id="diff-d3005809b06dcaa818bf32aaae19d9e5R97"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-d3005809b06dcaa818bf32aaae19d9e5L104"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="103" id="diff-d3005809b06dcaa818bf32aaae19d9e5R103"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-d3005809b06dcaa818bf32aaae19d9e5L105"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="104" id="diff-d3005809b06dcaa818bf32aaae19d9e5R104"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="106" id="diff-d3005809b06dcaa818bf32aaae19d9e5L106"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="105" id="diff-d3005809b06dcaa818bf32aaae19d9e5R105"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="107" id="diff-d3005809b06dcaa818bf32aaae19d9e5L107"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="106" id="diff-d3005809b06dcaa818bf32aaae19d9e5R106"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="108" id="diff-d3005809b06dcaa818bf32aaae19d9e5L108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="107" id="diff-d3005809b06dcaa818bf32aaae19d9e5R107"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-d3005809b06dcaa818bf32aaae19d9e5L109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="108" id="diff-d3005809b06dcaa818bf32aaae19d9e5R108"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="110" id="diff-d3005809b06dcaa818bf32aaae19d9e5L110"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="109" id="diff-d3005809b06dcaa818bf32aaae19d9e5R109"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="167" id="diff-d3005809b06dcaa818bf32aaae19d9e5L167"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="166" id="diff-d3005809b06dcaa818bf32aaae19d9e5R166"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="168" id="diff-d3005809b06dcaa818bf32aaae19d9e5L168"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="167" id="diff-d3005809b06dcaa818bf32aaae19d9e5R167"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="169" id="diff-d3005809b06dcaa818bf32aaae19d9e5L169"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="168" id="diff-d3005809b06dcaa818bf32aaae19d9e5R168"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="170" id="diff-d3005809b06dcaa818bf32aaae19d9e5L170"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="169" id="diff-d3005809b06dcaa818bf32aaae19d9e5R169"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="171" id="diff-d3005809b06dcaa818bf32aaae19d9e5L171"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="170" id="diff-d3005809b06dcaa818bf32aaae19d9e5R170"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="172" id="diff-d3005809b06dcaa818bf32aaae19d9e5L172"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="171" id="diff-d3005809b06dcaa818bf32aaae19d9e5R171"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="173" id="diff-d3005809b06dcaa818bf32aaae19d9e5L173"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="172" id="diff-d3005809b06dcaa818bf32aaae19d9e5R172"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="188" id="diff-d3005809b06dcaa818bf32aaae19d9e5L188"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="187" id="diff-d3005809b06dcaa818bf32aaae19d9e5R187"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="189" id="diff-d3005809b06dcaa818bf32aaae19d9e5L189"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="188" id="diff-d3005809b06dcaa818bf32aaae19d9e5R188"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="190" id="diff-d3005809b06dcaa818bf32aaae19d9e5L190"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="189" id="diff-d3005809b06dcaa818bf32aaae19d9e5R189"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="191" id="diff-d3005809b06dcaa818bf32aaae19d9e5L191"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="190" id="diff-d3005809b06dcaa818bf32aaae19d9e5R190"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="192" id="diff-d3005809b06dcaa818bf32aaae19d9e5L192"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="191" id="diff-d3005809b06dcaa818bf32aaae19d9e5R191"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="193" id="diff-d3005809b06dcaa818bf32aaae19d9e5L193"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="192" id="diff-d3005809b06dcaa818bf32aaae19d9e5R192"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="194" id="diff-d3005809b06dcaa818bf32aaae19d9e5L194"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="193" id="diff-d3005809b06dcaa818bf32aaae19d9e5R193"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="219" id="diff-d3005809b06dcaa818bf32aaae19d9e5L219"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="218" id="diff-d3005809b06dcaa818bf32aaae19d9e5R218"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="220" id="diff-d3005809b06dcaa818bf32aaae19d9e5L220"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="219" id="diff-d3005809b06dcaa818bf32aaae19d9e5R219"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="221" id="diff-d3005809b06dcaa818bf32aaae19d9e5L221"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="220" id="diff-d3005809b06dcaa818bf32aaae19d9e5R220"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="221" id="diff-d3005809b06dcaa818bf32aaae19d9e5R221"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="222" id="diff-d3005809b06dcaa818bf32aaae19d9e5R222"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="222" id="diff-d3005809b06dcaa818bf32aaae19d9e5L222"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="223" id="diff-d3005809b06dcaa818bf32aaae19d9e5R223"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="223" id="diff-d3005809b06dcaa818bf32aaae19d9e5L223"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="224" id="diff-d3005809b06dcaa818bf32aaae19d9e5R224"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="224" id="diff-d3005809b06dcaa818bf32aaae19d9e5L224"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="225" id="diff-d3005809b06dcaa818bf32aaae19d9e5R225"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="294" id="diff-d3005809b06dcaa818bf32aaae19d9e5L294"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="295" id="diff-d3005809b06dcaa818bf32aaae19d9e5R295"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="295" id="diff-d3005809b06dcaa818bf32aaae19d9e5L295"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="296" id="diff-d3005809b06dcaa818bf32aaae19d9e5R296"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="296" id="diff-d3005809b06dcaa818bf32aaae19d9e5L296"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="297" id="diff-d3005809b06dcaa818bf32aaae19d9e5R297"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="298" id="diff-d3005809b06dcaa818bf32aaae19d9e5R298"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="297" id="diff-d3005809b06dcaa818bf32aaae19d9e5L297"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="299" id="diff-d3005809b06dcaa818bf32aaae19d9e5R299"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="298" id="diff-d3005809b06dcaa818bf32aaae19d9e5L298"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="300" id="diff-d3005809b06dcaa818bf32aaae19d9e5R300"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="299" id="diff-d3005809b06dcaa818bf32aaae19d9e5L299"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="301" id="diff-d3005809b06dcaa818bf32aaae19d9e5R301"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="328" id="diff-d3005809b06dcaa818bf32aaae19d9e5L328"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="330" id="diff-d3005809b06dcaa818bf32aaae19d9e5R330"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="329" id="diff-d3005809b06dcaa818bf32aaae19d9e5L329"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="331" id="diff-d3005809b06dcaa818bf32aaae19d9e5R331"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="330" id="diff-d3005809b06dcaa818bf32aaae19d9e5L330"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="332" id="diff-d3005809b06dcaa818bf32aaae19d9e5R332"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="331" id="diff-d3005809b06dcaa818bf32aaae19d9e5L331"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="333" id="diff-d3005809b06dcaa818bf32aaae19d9e5R333"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="332" id="diff-d3005809b06dcaa818bf32aaae19d9e5L332"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="334" id="diff-d3005809b06dcaa818bf32aaae19d9e5R334"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="333" id="diff-d3005809b06dcaa818bf32aaae19d9e5L333"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="335" id="diff-d3005809b06dcaa818bf32aaae19d9e5R335"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="334" id="diff-d3005809b06dcaa818bf32aaae19d9e5L334"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="336" id="diff-d3005809b06dcaa818bf32aaae19d9e5R336"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="335" id="diff-d3005809b06dcaa818bf32aaae19d9e5L335"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="337" id="diff-d3005809b06dcaa818bf32aaae19d9e5R337"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="336" id="diff-d3005809b06dcaa818bf32aaae19d9e5L336"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="338" id="diff-d3005809b06dcaa818bf32aaae19d9e5R338"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="337" id="diff-d3005809b06dcaa818bf32aaae19d9e5L337"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="339" id="diff-d3005809b06dcaa818bf32aaae19d9e5R339"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="340" id="diff-d3005809b06dcaa818bf32aaae19d9e5R340"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="338" id="diff-d3005809b06dcaa818bf32aaae19d9e5L338"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="341" id="diff-d3005809b06dcaa818bf32aaae19d9e5R341"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="339" id="diff-d3005809b06dcaa818bf32aaae19d9e5L339"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="342" id="diff-d3005809b06dcaa818bf32aaae19d9e5R342"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="340" id="diff-d3005809b06dcaa818bf32aaae19d9e5L340"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="343" id="diff-d3005809b06dcaa818bf32aaae19d9e5R343"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="341" id="diff-d3005809b06dcaa818bf32aaae19d9e5L341"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="344" id="diff-d3005809b06dcaa818bf32aaae19d9e5R344"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="342" id="diff-d3005809b06dcaa818bf32aaae19d9e5L342"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="345" id="diff-d3005809b06dcaa818bf32aaae19d9e5R345"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="343" id="diff-d3005809b06dcaa818bf32aaae19d9e5L343"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="344" id="diff-d3005809b06dcaa818bf32aaae19d9e5L344"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="346" id="diff-d3005809b06dcaa818bf32aaae19d9e5R346"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="347" id="diff-d3005809b06dcaa818bf32aaae19d9e5R347"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="345" id="diff-d3005809b06dcaa818bf32aaae19d9e5L345"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="348" id="diff-d3005809b06dcaa818bf32aaae19d9e5R348"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="346" id="diff-d3005809b06dcaa818bf32aaae19d9e5L346"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="349" id="diff-d3005809b06dcaa818bf32aaae19d9e5R349"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="347" id="diff-d3005809b06dcaa818bf32aaae19d9e5L347"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="350" id="diff-d3005809b06dcaa818bf32aaae19d9e5R350"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="348" id="diff-d3005809b06dcaa818bf32aaae19d9e5L348"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="351" id="diff-d3005809b06dcaa818bf32aaae19d9e5R351"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="349" id="diff-d3005809b06dcaa818bf32aaae19d9e5L349"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="352" id="diff-d3005809b06dcaa818bf32aaae19d9e5R352"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="350" id="diff-d3005809b06dcaa818bf32aaae19d9e5L350"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="353" id="diff-d3005809b06dcaa818bf32aaae19d9e5R353"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="351" id="diff-d3005809b06dcaa818bf32aaae19d9e5L351"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="354" id="diff-d3005809b06dcaa818bf32aaae19d9e5R354"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="358" id="diff-d3005809b06dcaa818bf32aaae19d9e5L358"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="361" id="diff-d3005809b06dcaa818bf32aaae19d9e5R361"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="359" id="diff-d3005809b06dcaa818bf32aaae19d9e5L359"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="362" id="diff-d3005809b06dcaa818bf32aaae19d9e5R362"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="360" id="diff-d3005809b06dcaa818bf32aaae19d9e5L360"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="363" id="diff-d3005809b06dcaa818bf32aaae19d9e5R363"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="361" id="diff-d3005809b06dcaa818bf32aaae19d9e5L361"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="362" id="diff-d3005809b06dcaa818bf32aaae19d9e5L362"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="364" id="diff-d3005809b06dcaa818bf32aaae19d9e5R364"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="365" id="diff-d3005809b06dcaa818bf32aaae19d9e5R365"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="366" id="diff-d3005809b06dcaa818bf32aaae19d9e5R366"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="363" id="diff-d3005809b06dcaa818bf32aaae19d9e5L363"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="367" id="diff-d3005809b06dcaa818bf32aaae19d9e5R367"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="364" id="diff-d3005809b06dcaa818bf32aaae19d9e5L364"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="368" id="diff-d3005809b06dcaa818bf32aaae19d9e5R368"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="365" id="diff-d3005809b06dcaa818bf32aaae19d9e5L365"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="369" id="diff-d3005809b06dcaa818bf32aaae19d9e5R369"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="366" id="diff-d3005809b06dcaa818bf32aaae19d9e5L366"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="370" id="diff-d3005809b06dcaa818bf32aaae19d9e5R370"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="367" id="diff-d3005809b06dcaa818bf32aaae19d9e5L367"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="371" id="diff-d3005809b06dcaa818bf32aaae19d9e5R371"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="368" id="diff-d3005809b06dcaa818bf32aaae19d9e5L368"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="372" id="diff-d3005809b06dcaa818bf32aaae19d9e5R372"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="373" id="diff-d3005809b06dcaa818bf32aaae19d9e5R373"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="369" id="diff-d3005809b06dcaa818bf32aaae19d9e5L369"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="374" id="diff-d3005809b06dcaa818bf32aaae19d9e5R374"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="370" id="diff-d3005809b06dcaa818bf32aaae19d9e5L370"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="375" id="diff-d3005809b06dcaa818bf32aaae19d9e5R375"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="371" id="diff-d3005809b06dcaa818bf32aaae19d9e5L371"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="376" id="diff-d3005809b06dcaa818bf32aaae19d9e5R376"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="372" id="diff-d3005809b06dcaa818bf32aaae19d9e5L372"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="377" id="diff-d3005809b06dcaa818bf32aaae19d9e5R377"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="373" id="diff-d3005809b06dcaa818bf32aaae19d9e5L373"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="378" id="diff-d3005809b06dcaa818bf32aaae19d9e5R378"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="374" id="diff-d3005809b06dcaa818bf32aaae19d9e5L374"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="379" id="diff-d3005809b06dcaa818bf32aaae19d9e5R379"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="375" id="diff-d3005809b06dcaa818bf32aaae19d9e5L375"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="380" id="diff-d3005809b06dcaa818bf32aaae19d9e5R380"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="376" id="diff-d3005809b06dcaa818bf32aaae19d9e5L376"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="381" id="diff-d3005809b06dcaa818bf32aaae19d9e5R381"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="377" id="diff-d3005809b06dcaa818bf32aaae19d9e5L377"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="382" id="diff-d3005809b06dcaa818bf32aaae19d9e5R382"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="378" id="diff-d3005809b06dcaa818bf32aaae19d9e5L378"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="383" id="diff-d3005809b06dcaa818bf32aaae19d9e5R383"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="379" id="diff-d3005809b06dcaa818bf32aaae19d9e5L379"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="384" id="diff-d3005809b06dcaa818bf32aaae19d9e5R384"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="380" id="diff-d3005809b06dcaa818bf32aaae19d9e5L380"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="385" id="diff-d3005809b06dcaa818bf32aaae19d9e5R385"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="381" id="diff-d3005809b06dcaa818bf32aaae19d9e5L381"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="386" id="diff-d3005809b06dcaa818bf32aaae19d9e5R386"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="384" id="diff-d3005809b06dcaa818bf32aaae19d9e5L384"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="389" id="diff-d3005809b06dcaa818bf32aaae19d9e5R389"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="385" id="diff-d3005809b06dcaa818bf32aaae19d9e5L385"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="390" id="diff-d3005809b06dcaa818bf32aaae19d9e5R390"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="386" id="diff-d3005809b06dcaa818bf32aaae19d9e5L386"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="391" id="diff-d3005809b06dcaa818bf32aaae19d9e5R391"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="387" id="diff-d3005809b06dcaa818bf32aaae19d9e5L387"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="388" id="diff-d3005809b06dcaa818bf32aaae19d9e5L388"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="392" id="diff-d3005809b06dcaa818bf32aaae19d9e5R392"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="393" id="diff-d3005809b06dcaa818bf32aaae19d9e5R393"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="394" id="diff-d3005809b06dcaa818bf32aaae19d9e5R394"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="389" id="diff-d3005809b06dcaa818bf32aaae19d9e5L389"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="395" id="diff-d3005809b06dcaa818bf32aaae19d9e5R395"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="390" id="diff-d3005809b06dcaa818bf32aaae19d9e5L390"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="396" id="diff-d3005809b06dcaa818bf32aaae19d9e5R396"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="391" id="diff-d3005809b06dcaa818bf32aaae19d9e5L391"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="397" id="diff-d3005809b06dcaa818bf32aaae19d9e5R397"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="392" id="diff-d3005809b06dcaa818bf32aaae19d9e5L392"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="398" id="diff-d3005809b06dcaa818bf32aaae19d9e5R398"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="393" id="diff-d3005809b06dcaa818bf32aaae19d9e5L393"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="399" id="diff-d3005809b06dcaa818bf32aaae19d9e5R399"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="394" id="diff-d3005809b06dcaa818bf32aaae19d9e5L394"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="400" id="diff-d3005809b06dcaa818bf32aaae19d9e5R400"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="401" id="diff-d3005809b06dcaa818bf32aaae19d9e5R401"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="395" id="diff-d3005809b06dcaa818bf32aaae19d9e5L395"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="402" id="diff-d3005809b06dcaa818bf32aaae19d9e5R402"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="396" id="diff-d3005809b06dcaa818bf32aaae19d9e5L396"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="403" id="diff-d3005809b06dcaa818bf32aaae19d9e5R403"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="397" id="diff-d3005809b06dcaa818bf32aaae19d9e5L397"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="404" id="diff-d3005809b06dcaa818bf32aaae19d9e5R404"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="409" id="diff-d3005809b06dcaa818bf32aaae19d9e5L409"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="416" id="diff-d3005809b06dcaa818bf32aaae19d9e5R416"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="410" id="diff-d3005809b06dcaa818bf32aaae19d9e5L410"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="417" id="diff-d3005809b06dcaa818bf32aaae19d9e5R417"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="411" id="diff-d3005809b06dcaa818bf32aaae19d9e5L411"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="418" id="diff-d3005809b06dcaa818bf32aaae19d9e5R418"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="412" id="diff-d3005809b06dcaa818bf32aaae19d9e5L412"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="419" id="diff-d3005809b06dcaa818bf32aaae19d9e5R419"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="413" id="diff-d3005809b06dcaa818bf32aaae19d9e5L413"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="420" id="diff-d3005809b06dcaa818bf32aaae19d9e5R420"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="414" id="diff-d3005809b06dcaa818bf32aaae19d9e5L414"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="421" id="diff-d3005809b06dcaa818bf32aaae19d9e5R421"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="415" id="diff-d3005809b06dcaa818bf32aaae19d9e5L415"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="422" id="diff-d3005809b06dcaa818bf32aaae19d9e5R422"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="432" id="diff-d3005809b06dcaa818bf32aaae19d9e5L432"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="439" id="diff-d3005809b06dcaa818bf32aaae19d9e5R439"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="433" id="diff-d3005809b06dcaa818bf32aaae19d9e5L433"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="440" id="diff-d3005809b06dcaa818bf32aaae19d9e5R440"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="434" id="diff-d3005809b06dcaa818bf32aaae19d9e5L434"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="441" id="diff-d3005809b06dcaa818bf32aaae19d9e5R441"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="435" id="diff-d3005809b06dcaa818bf32aaae19d9e5L435"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="442" id="diff-d3005809b06dcaa818bf32aaae19d9e5R442"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="443" id="diff-d3005809b06dcaa818bf32aaae19d9e5R443"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="436" id="diff-d3005809b06dcaa818bf32aaae19d9e5L436"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="444" id="diff-d3005809b06dcaa818bf32aaae19d9e5R444"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="437" id="diff-d3005809b06dcaa818bf32aaae19d9e5L437"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="445" id="diff-d3005809b06dcaa818bf32aaae19d9e5R445"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="438" id="diff-d3005809b06dcaa818bf32aaae19d9e5L438"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="446" id="diff-d3005809b06dcaa818bf32aaae19d9e5R446"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="439" id="diff-d3005809b06dcaa818bf32aaae19d9e5L439"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="447" id="diff-d3005809b06dcaa818bf32aaae19d9e5R447"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="440" id="diff-d3005809b06dcaa818bf32aaae19d9e5L440"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="448" id="diff-d3005809b06dcaa818bf32aaae19d9e5R448"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="441" id="diff-d3005809b06dcaa818bf32aaae19d9e5L441"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="449" id="diff-d3005809b06dcaa818bf32aaae19d9e5R449"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="450" id="diff-d3005809b06dcaa818bf32aaae19d9e5R450"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="442" id="diff-d3005809b06dcaa818bf32aaae19d9e5L442"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="451" id="diff-d3005809b06dcaa818bf32aaae19d9e5R451"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="443" id="diff-d3005809b06dcaa818bf32aaae19d9e5L443"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="452" id="diff-d3005809b06dcaa818bf32aaae19d9e5R452"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="444" id="diff-d3005809b06dcaa818bf32aaae19d9e5L444"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="453" id="diff-d3005809b06dcaa818bf32aaae19d9e5R453"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="445" id="diff-d3005809b06dcaa818bf32aaae19d9e5L445"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="454" id="diff-d3005809b06dcaa818bf32aaae19d9e5R454"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="446" id="diff-d3005809b06dcaa818bf32aaae19d9e5L446"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="447" id="diff-d3005809b06dcaa818bf32aaae19d9e5L447"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="448" id="diff-d3005809b06dcaa818bf32aaae19d9e5L448"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="449" id="diff-d3005809b06dcaa818bf32aaae19d9e5L449"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="450" id="diff-d3005809b06dcaa818bf32aaae19d9e5L450"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="451" id="diff-d3005809b06dcaa818bf32aaae19d9e5L451"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="452" id="diff-d3005809b06dcaa818bf32aaae19d9e5L452"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="455" id="diff-d3005809b06dcaa818bf32aaae19d9e5R455"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="453" id="diff-d3005809b06dcaa818bf32aaae19d9e5L453"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="454" id="diff-d3005809b06dcaa818bf32aaae19d9e5L454"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="456" id="diff-d3005809b06dcaa818bf32aaae19d9e5R456"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="457" id="diff-d3005809b06dcaa818bf32aaae19d9e5R457"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="455" id="diff-d3005809b06dcaa818bf32aaae19d9e5L455"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="458" id="diff-d3005809b06dcaa818bf32aaae19d9e5R458"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="456" id="diff-d3005809b06dcaa818bf32aaae19d9e5L456"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="457" id="diff-d3005809b06dcaa818bf32aaae19d9e5L457"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="459" id="diff-d3005809b06dcaa818bf32aaae19d9e5R459"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-3">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-772931894104c523e3c922e1e38d6582" data-file-deleted="false" data-file-type=".java" data-path="src/main/java/com/iexec/core/task/TaskStatus.java" data-short-path="7729318">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="src/main/java/com/iexec/core/task/TaskStatus.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/iExecBlockchainComputing/iexec-core/blob/31435883b662640fc7744f0d91239b4c601a091b/src/main/java/com/iexec/core/task/TaskStatus.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="1 addition &amp; 1 deletion" class="diffstat tooltipped tooltipped-e">2 <span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-772931894104c523e3c922e1e38d6582" title="src/main/java/com/iexec/core/task/TaskStatus.java">src/main/java/com/iexec/core/task/TaskStatus.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-772931894104c523e3c922e1e38d6582" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-24" data-right-range="1-24" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/e6d4dfeaa3fd3cb2200657e01f479c53a77371b8?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=25&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskStatus.java&amp;right=25&amp;right_hunk_size=7" href="#diff-772931894104c523e3c922e1e38d6582" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -25,7 +25,7 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-772931894104c523e3c922e1e38d6582L25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-772931894104c523e3c922e1e38d6582R25"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">FINALIZED</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-772931894104c523e3c922e1e38d6582L26"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-772931894104c523e3c922e1e38d6582R26"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">FINALIZE_FAILED</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-772931894104c523e3c922e1e38d6582L27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-772931894104c523e3c922e1e38d6582R27"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-c1">COMPLETED</span>,</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="28" id="diff-772931894104c523e3c922e1e38d6582L28"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-c1 x x-first x-last">ERROR</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-772931894104c523e3c922e1e38d6582R28"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-c1 x x-first x-last">FAILED</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-772931894104c523e3c922e1e38d6582L29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-772931894104c523e3c922e1e38d6582R29"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-772931894104c523e3c922e1e38d6582L30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-772931894104c523e3c922e1e38d6582R30"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">List&lt;<span class="pl-smi">TaskStatus</span>&gt;</span> <span class="pl-en">getWaitingRevealStatuses</span>() {</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-772931894104c523e3c922e1e38d6582L31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-772931894104c523e3c922e1e38d6582R31"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">return</span> <span class="pl-smi">Arrays</span><span class="pl-k">.</span>asList(</span></td>
</tr>
<tr class="js-expandable-line" data-position="">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander single-expander" data-left-range="32-39" data-right-range="32-39" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/e6d4dfeaa3fd3cb2200657e01f479c53a77371b8?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=31&amp;last_right=31&amp;left=40&amp;left_hunk_size=&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskStatus.java&amp;right=40&amp;right_hunk_size=" href="#diff-772931894104c523e3c922e1e38d6582" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2"></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-772931894104c523e3c922e1e38d6582L25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="25" id="diff-772931894104c523e3c922e1e38d6582R25"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-772931894104c523e3c922e1e38d6582L26"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="26" id="diff-772931894104c523e3c922e1e38d6582R26"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-772931894104c523e3c922e1e38d6582L27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-772931894104c523e3c922e1e38d6582R27"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="28" id="diff-772931894104c523e3c922e1e38d6582L28"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="28" id="diff-772931894104c523e3c922e1e38d6582R28"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-772931894104c523e3c922e1e38d6582L29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-772931894104c523e3c922e1e38d6582R29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-772931894104c523e3c922e1e38d6582L30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="30" id="diff-772931894104c523e3c922e1e38d6582R30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-772931894104c523e3c922e1e38d6582L31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-772931894104c523e3c922e1e38d6582R31"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-4">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-6794d23c167c870d91f7b5bc8ac27a75" data-file-deleted="false" data-file-type=".java" data-path="src/main/java/com/iexec/core/workflow/TaskWorkflow.java" data-short-path="6794d23">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="src/main/java/com/iexec/core/workflow/TaskWorkflow.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/iExecBlockchainComputing/iexec-core/blob/31435883b662640fc7744f0d91239b4c601a091b/src/main/java/com/iexec/core/workflow/TaskWorkflow.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="1 addition &amp; 1 deletion" class="diffstat tooltipped tooltipped-e">2 <span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-6794d23c167c870d91f7b5bc8ac27a75" title="src/main/java/com/iexec/core/workflow/TaskWorkflow.java">src/main/java/com/iexec/core/workflow/TaskWorkflow.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-6794d23c167c870d91f7b5bc8ac27a75" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-26" data-right-range="1-26" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/ec356aabe14b89a6913b04ad0b8c3ddbb606b5b7?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=27&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Fmain%2Fjava%2Fcom%2Fiexec%2Fcore%2Fworkflow%2FTaskWorkflow.java&amp;right=27&amp;right_hunk_size=6" href="#diff-6794d23c167c870d91f7b5bc8ac27a75" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -27,6 +27,6 @@ private TaskWorkflow() {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-6794d23c167c870d91f7b5bc8ac27a75L27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-6794d23c167c870d91f7b5bc8ac27a75R27"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        addTransition(<span class="pl-c1">RESULT_UPLOAD_REQUESTED</span>, <span class="pl-c1">RESULT_UPLOADING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="28" id="diff-6794d23c167c870d91f7b5bc8ac27a75L28"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="28" id="diff-6794d23c167c870d91f7b5bc8ac27a75R28"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        addTransition(<span class="pl-c1">RESULT_UPLOADING</span>, <span class="pl-c1">RESULT_UPLOADED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-6794d23c167c870d91f7b5bc8ac27a75L29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-6794d23c167c870d91f7b5bc8ac27a75R29"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        addTransition(<span class="pl-c1">RESULT_UPLOADED</span>, <span class="pl-c1">COMPLETED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="30" id="diff-6794d23c167c870d91f7b5bc8ac27a75L30"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        addTransition(<span class="pl-c1">RESULT_UPLOADING</span>, <span class="pl-c1 x x-first x-last">ERROR</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-6794d23c167c870d91f7b5bc8ac27a75R30"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        addTransition(<span class="pl-c1">RESULT_UPLOADING</span>, <span class="pl-c1 x x-first x-last">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-6794d23c167c870d91f7b5bc8ac27a75L31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-6794d23c167c870d91f7b5bc8ac27a75R31"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-6794d23c167c870d91f7b5bc8ac27a75L32"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-6794d23c167c870d91f7b5bc8ac27a75R32"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">}</span></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-6794d23c167c870d91f7b5bc8ac27a75L27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="27" id="diff-6794d23c167c870d91f7b5bc8ac27a75R27"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="28" id="diff-6794d23c167c870d91f7b5bc8ac27a75L28"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="28" id="diff-6794d23c167c870d91f7b5bc8ac27a75R28"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-6794d23c167c870d91f7b5bc8ac27a75L29"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="29" id="diff-6794d23c167c870d91f7b5bc8ac27a75R29"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="30" id="diff-6794d23c167c870d91f7b5bc8ac27a75L30"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="30" id="diff-6794d23c167c870d91f7b5bc8ac27a75R30"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-6794d23c167c870d91f7b5bc8ac27a75L31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="31" id="diff-6794d23c167c870d91f7b5bc8ac27a75R31"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-6794d23c167c870d91f7b5bc8ac27a75L32"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="32" id="diff-6794d23c167c870d91f7b5bc8ac27a75R32"></td>
<div class="file js-file js-details-container Details Details--on open show-inline-notes " id="diff-5">
<div class="file-header file-header--expandable js-file-header " data-anchor="diff-732fbe8beb35bfee0039825edb23dd9e" data-file-deleted="false" data-file-type=".java" data-path="src/test/java/com/iexec/core/task/TaskServiceTests.java" data-short-path="732fbe8">
<div class="file-actions">
<span class="show-file-notes pt-1">
<label>
<input checked="checked" class="js-toggle-file-notes" type="checkbox"/>
            Show comments
          </label>
</span>
<div class="BtnGroup">
<clipboard-copy class="btn btn-sm BtnGroup-item" value="src/test/java/com/iexec/core/task/TaskServiceTests.java">
                Copy path
              </clipboard-copy>
<a class="btn btn-sm BtnGroup-item" href="/iExecBlockchainComputing/iexec-core/blob/31435883b662640fc7744f0d91239b4c601a091b/src/test/java/com/iexec/core/task/TaskServiceTests.java" rel="nofollow">
              View file
            </a>
</div>
<button aria-expanded="true" aria-label="Toggle diff contents" class="btn-octicon p-1 pr-2 js-details-target tooltipped tooltipped-w" type="button">
<svg aria-hidden="true" class="octicon octicon-chevron-down Details-content--hidden" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z" fill-rule="evenodd"></path></svg>
<svg aria-hidden="true" class="octicon octicon-chevron-up Details-content--shown" height="16" version="1.1" viewbox="0 0 10 16" width="10"><path d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z" fill-rule="evenodd"></path></svg>
</button>
</div>
<div class="file-info">
<span aria-label="17 additions &amp; 7 deletions" class="diffstat tooltipped tooltipped-e">24 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>
<a class="link-gray-dark" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="src/test/java/com/iexec/core/task/TaskServiceTests.java">src/test/java/com/iexec/core/task/TaskServiceTests.java</a>
</div>
</div>
<div class="js-file-content Details-content--hidden">
<div class="data highlight js-blob-wrapper " style="overflow-x: auto">
<table class="diff-table js-diff-table tab-size " data-diff-anchor="diff-732fbe8beb35bfee0039825edb23dd9e" data-tab-size="8">
<tr class="js-expandable-line" data-position="0">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Up" class="js-expand directional-expander single-expander" data-left-range="1-4" data-right-range="1-4" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=5&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=5&amp;right_hunk_size=7" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -5,6 +5,7 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-732fbe8beb35bfee0039825edb23dd9eL5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-732fbe8beb35bfee0039825edb23dd9eR5"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.common.replicate.ReplicateStatusModifier</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-732fbe8beb35bfee0039825edb23dd9eL6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-732fbe8beb35bfee0039825edb23dd9eR6"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.common.utils.BytesUtils</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-732fbe8beb35bfee0039825edb23dd9eL7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-732fbe8beb35bfee0039825edb23dd9eR7"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.chain.IexecHubService</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-732fbe8beb35bfee0039825edb23dd9eR8"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.configuration.ResultRepositoryConfiguration</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-732fbe8beb35bfee0039825edb23dd9eL8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-732fbe8beb35bfee0039825edb23dd9eR9"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.replicate.Replicate</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-732fbe8beb35bfee0039825edb23dd9eL9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-732fbe8beb35bfee0039825edb23dd9eR10"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.replicate.ReplicatesService</span>;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-732fbe8beb35bfee0039825edb23dd9eL10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-732fbe8beb35bfee0039825edb23dd9eR11"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><span class="pl-k">import</span> <span class="pl-smi">com.iexec.core.utils.DateTimeUtils</span>;</span></td>
</tr>
<tr class="js-expandable-line" data-position="8">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="11-32" data-right-range="12-33" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=10&amp;last_right=11&amp;left=56&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=57&amp;right_hunk_size=9" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="33-55" data-right-range="34-56" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=10&amp;last_right=11&amp;left=56&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=57&amp;right_hunk_size=9" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -56,6 +57,9 @@</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-732fbe8beb35bfee0039825edb23dd9eL56"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="57" id="diff-732fbe8beb35bfee0039825edb23dd9eR57"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Mock</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="57" id="diff-732fbe8beb35bfee0039825edb23dd9eL57"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="58" id="diff-732fbe8beb35bfee0039825edb23dd9eR58"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">ApplicationEventPublisher</span> applicationEventPublisher;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="58" id="diff-732fbe8beb35bfee0039825edb23dd9eL58"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-732fbe8beb35bfee0039825edb23dd9eR59"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="60" id="diff-732fbe8beb35bfee0039825edb23dd9eR60"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">@Mock</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="61" id="diff-732fbe8beb35bfee0039825edb23dd9eR61"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">ResultRepositoryConfiguration</span> resulRepositoryConfig;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="62" id="diff-732fbe8beb35bfee0039825edb23dd9eR62"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-732fbe8beb35bfee0039825edb23dd9eL59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="63" id="diff-732fbe8beb35bfee0039825edb23dd9eR63"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@InjectMocks</span></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="60" id="diff-732fbe8beb35bfee0039825edb23dd9eL60"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="64" id="diff-732fbe8beb35bfee0039825edb23dd9eR64"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">private</span> <span class="pl-smi">TaskService</span> taskService;</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="61" id="diff-732fbe8beb35bfee0039825edb23dd9eL61"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="65" id="diff-732fbe8beb35bfee0039825edb23dd9eR65"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr class="js-expandable-line" data-position="18">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="62-161" data-right-range="66-165" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=61&amp;last_right=65&amp;left=263&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=267&amp;right_hunk_size=8" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="162-262" data-right-range="166-266" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=61&amp;last_right=65&amp;left=263&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=267&amp;right_hunk_size=8" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -263,7 +267,8 @@ public void shouldNotUpgrade2ReopenedBut2ReopendedFailedSinceTxFailed() {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="263" id="diff-732fbe8beb35bfee0039825edb23dd9eL263"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="267" id="diff-732fbe8beb35bfee0039825edb23dd9eR267"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="264" id="diff-732fbe8beb35bfee0039825edb23dd9eL264"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="268" id="diff-732fbe8beb35bfee0039825edb23dd9eR268"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        taskService<span class="pl-k">.</span>consensusReached2Reopened(task);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="265" id="diff-732fbe8beb35bfee0039825edb23dd9eL265"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="269" id="diff-732fbe8beb35bfee0039825edb23dd9eR269"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="266" id="diff-732fbe8beb35bfee0039825edb23dd9eL266"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getCurrentStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">REOPEN_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="270" id="diff-732fbe8beb35bfee0039825edb23dd9eR270"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getLastButOneStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">REOPEN_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="271" id="diff-732fbe8beb35bfee0039825edb23dd9eR271"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getCurrentStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="267" id="diff-732fbe8beb35bfee0039825edb23dd9eL267"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="272" id="diff-732fbe8beb35bfee0039825edb23dd9eR272"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="268" id="diff-732fbe8beb35bfee0039825edb23dd9eL268"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="273" id="diff-732fbe8beb35bfee0039825edb23dd9eR273"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="269" id="diff-732fbe8beb35bfee0039825edb23dd9eL269"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="274" id="diff-732fbe8beb35bfee0039825edb23dd9eR274"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Test</span></span></td>
</tr>
<tr class="js-expandable-line" data-position="28">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="270-309" data-right-range="275-314" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=269&amp;last_right=274&amp;left=351&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=356&amp;right_hunk_size=9" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="310-350" data-right-range="315-355" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=269&amp;last_right=274&amp;left=351&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=356&amp;right_hunk_size=9" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -351,7 +356,9 @@ public void shouldUpdateInitializing2InitailizeFailedSinceChainTaskIdIsEmpty() {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="351" id="diff-732fbe8beb35bfee0039825edb23dd9eL351"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="356" id="diff-732fbe8beb35bfee0039825edb23dd9eR356"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        when(iexecHubService<span class="pl-k">.</span>initialize(<span class="pl-c1">CHAIN_DEAL_ID</span>, <span class="pl-c1">1</span>))<span class="pl-k">.</span>thenReturn(<span class="pl-smi">Optional</span><span class="pl-k">.</span>of(pair));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="352" id="diff-732fbe8beb35bfee0039825edb23dd9eL352"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="357" id="diff-732fbe8beb35bfee0039825edb23dd9eR357"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="353" id="diff-732fbe8beb35bfee0039825edb23dd9eL353"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="358" id="diff-732fbe8beb35bfee0039825edb23dd9eR358"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        taskService<span class="pl-k">.</span>tryUpgradeTaskStatus(task<span class="pl-k">.</span>getChainTaskId());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="354" id="diff-732fbe8beb35bfee0039825edb23dd9eL354"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getCurrentStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">INITIALIZE_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="359" id="diff-732fbe8beb35bfee0039825edb23dd9eR359"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="360" id="diff-732fbe8beb35bfee0039825edb23dd9eR360"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getLastButOneStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">INITIALIZE_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="361" id="diff-732fbe8beb35bfee0039825edb23dd9eR361"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getCurrentStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="355" id="diff-732fbe8beb35bfee0039825edb23dd9eL355"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="362" id="diff-732fbe8beb35bfee0039825edb23dd9eR362"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="356" id="diff-732fbe8beb35bfee0039825edb23dd9eL356"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="363" id="diff-732fbe8beb35bfee0039825edb23dd9eR363"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="357" id="diff-732fbe8beb35bfee0039825edb23dd9eL357"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="364" id="diff-732fbe8beb35bfee0039825edb23dd9eR364"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-k">@Test</span></span></td>
</tr>
<tr class="js-expandable-line" data-position="39">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="358-440" data-right-range="365-447" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=357&amp;last_right=364&amp;left=526&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=533&amp;right_hunk_size=8" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="441-525" data-right-range="448-532" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=357&amp;last_right=364&amp;left=526&amp;left_hunk_size=7&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=533&amp;right_hunk_size=8" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -526,7 +533,8 @@ public void shouldUpdateFromInitializedOrRunning2ContributionTimeout() {</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="526" id="diff-732fbe8beb35bfee0039825edb23dd9eL526"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="533" id="diff-732fbe8beb35bfee0039825edb23dd9eR533"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="527" id="diff-732fbe8beb35bfee0039825edb23dd9eL527"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="534" id="diff-732fbe8beb35bfee0039825edb23dd9eR534"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        taskService<span class="pl-k">.</span>tryUpgradeTaskStatus(<span class="pl-c1">CHAIN_TASK_ID</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="528" id="diff-732fbe8beb35bfee0039825edb23dd9eL528"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="535" id="diff-732fbe8beb35bfee0039825edb23dd9eR535"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="529" id="diff-732fbe8beb35bfee0039825edb23dd9eL529"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getCurrentStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">CONTRIBUTION_TIMEOUT</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="536" id="diff-732fbe8beb35bfee0039825edb23dd9eR536"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getCurrentStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="537" id="diff-732fbe8beb35bfee0039825edb23dd9eR537"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getLastButOneStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">CONTRIBUTION_TIMEOUT</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="530" id="diff-732fbe8beb35bfee0039825edb23dd9eL530"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="538" id="diff-732fbe8beb35bfee0039825edb23dd9eR538"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="531" id="diff-732fbe8beb35bfee0039825edb23dd9eL531"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="539" id="diff-732fbe8beb35bfee0039825edb23dd9eR539"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="532" id="diff-732fbe8beb35bfee0039825edb23dd9eL532"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="540" id="diff-732fbe8beb35bfee0039825edb23dd9eR540"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr class="js-expandable-line" data-position="49">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="533-611" data-right-range="541-619" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=532&amp;last_right=540&amp;left=693&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=701&amp;right_hunk_size=7" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="612-692" data-right-range="620-700" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=532&amp;last_right=540&amp;left=693&amp;left_hunk_size=6&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=701&amp;right_hunk_size=7" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -693,6 +701,7 @@ public void shouldUpdateResultUploading2Uploaded2Finalizing2Finalized() { //one</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="693" id="diff-732fbe8beb35bfee0039825edb23dd9eL693"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="701" id="diff-732fbe8beb35bfee0039825edb23dd9eR701"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        when(iexecHubService<span class="pl-k">.</span>getChainTask(any()))<span class="pl-k">.</span>thenReturn(<span class="pl-smi">Optional</span><span class="pl-k">.</span>of(chainTask));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="694" id="diff-732fbe8beb35bfee0039825edb23dd9eL694"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="702" id="diff-732fbe8beb35bfee0039825edb23dd9eR702"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        when(iexecHubService<span class="pl-k">.</span>hasEnoughGas())<span class="pl-k">.</span>thenReturn(<span class="pl-c1">true</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="695" id="diff-732fbe8beb35bfee0039825edb23dd9eL695"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="703" id="diff-732fbe8beb35bfee0039825edb23dd9eR703"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        when(iexecHubService<span class="pl-k">.</span>finalizeTask(any(), any()))<span class="pl-k">.</span>thenReturn(<span class="pl-smi">Optional</span><span class="pl-k">.</span>of(<span class="pl-k">new</span> <span class="pl-smi">ChainReceipt</span>()));</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="704" id="diff-732fbe8beb35bfee0039825edb23dd9eR704"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        when(resulRepositoryConfig<span class="pl-k">.</span>getResultRepositoryURL())<span class="pl-k">.</span>thenReturn(<span class="pl-s"><span class="pl-pds">"</span>http://foo:bar<span class="pl-pds">"</span></span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="696" id="diff-732fbe8beb35bfee0039825edb23dd9eL696"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="705" id="diff-732fbe8beb35bfee0039825edb23dd9eR705"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="697" id="diff-732fbe8beb35bfee0039825edb23dd9eL697"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="706" id="diff-732fbe8beb35bfee0039825edb23dd9eR706"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        taskService<span class="pl-k">.</span>tryUpgradeTaskStatus(task<span class="pl-k">.</span>getChainTaskId());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="698" id="diff-732fbe8beb35bfee0039825edb23dd9eL698"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="707" id="diff-732fbe8beb35bfee0039825edb23dd9eR707"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr class="js-expandable-line" data-position="57">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander" data-left-range="699-717" data-right-range="708-726" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=698&amp;last_right=707&amp;left=738&amp;left_hunk_size=12&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=747&amp;right_hunk_size=13" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
<a aria-label="Expand Up" class="js-expand directional-expander" data-left-range="718-737" data-right-range="727-746" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=698&amp;last_right=707&amp;left=738&amp;left_hunk_size=12&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=747&amp;right_hunk_size=13" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Up">
<svg aria-hidden="true" class="octicon octicon-fold-up" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2">@@ -738,12 +747,13 @@ public void shouldUpdateResultUploading2Uploaded2Finalizing2FinalizeFail() { //o</td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="738" id="diff-732fbe8beb35bfee0039825edb23dd9eL738"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="747" id="diff-732fbe8beb35bfee0039825edb23dd9eR747"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="739" id="diff-732fbe8beb35bfee0039825edb23dd9eL739"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="748" id="diff-732fbe8beb35bfee0039825edb23dd9eR748"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">        taskService<span class="pl-k">.</span>tryUpgradeTaskStatus(task<span class="pl-k">.</span>getChainTaskId());</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="740" id="diff-732fbe8beb35bfee0039825edb23dd9eL740"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="749" id="diff-732fbe8beb35bfee0039825edb23dd9eR749"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="741" id="diff-732fbe8beb35bfee0039825edb23dd9eL741"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner"> <span class="pl-smi">TaskStatus</span> lastButOneStatus <span class="pl-k">=</span> task<span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>get(task<span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>size() <span class="pl-k">-</span> <span class="pl-c1">2</span>)<span class="pl-k">.</span>getStatus();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="742" id="diff-732fbe8beb35bfee0039825edb23dd9eL742"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="750" id="diff-732fbe8beb35bfee0039825edb23dd9eR750"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"> <span class="pl-smi">TaskStatus</span> lastButTwoStatus <span class="pl-k">=</span> task<span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>get(task<span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>size() <span class="pl-k">-</span> <span class="pl-c1">3</span>)<span class="pl-k">.</span>getStatus();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="751" id="diff-732fbe8beb35bfee0039825edb23dd9eR751"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner"> <span class="pl-smi">TaskStatus</span> lastButThreeStatus <span class="pl-k">=</span> task<span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>get(task<span class="pl-k">.</span>getDateStatusList()<span class="pl-k">.</span>size() <span class="pl-k">-</span> <span class="pl-c1">4</span>)<span class="pl-k">.</span>getStatus();</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="743" id="diff-732fbe8beb35bfee0039825edb23dd9eL743"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="752" id="diff-732fbe8beb35bfee0039825edb23dd9eR752"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="744" id="diff-732fbe8beb35bfee0039825edb23dd9eL744"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getCurrentStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">FINALIZE_FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="745" id="diff-732fbe8beb35bfee0039825edb23dd9eL745"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        assertThat(lastButOneStatus)<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">FINALIZING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="746" id="diff-732fbe8beb35bfee0039825edb23dd9eL746"></td>
<td class="blob-num blob-num-deletion empty-cell"></td>
<td class="blob-code blob-code-deletion blob-code-marker-cell" data-code-marker="-">
</td>
<td class="blob-code blob-code-deletion">
<span class="blob-code-inner">        assertThat(lastButTwoStatus)<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">RESULT_UPLOADED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="753" id="diff-732fbe8beb35bfee0039825edb23dd9eR753"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getCurrentStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">FAILED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="754" id="diff-732fbe8beb35bfee0039825edb23dd9eR754"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(task<span class="pl-k">.</span>getLastButOneStatus())<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">FINALIZE_FAILED</span>);        </span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="755" id="diff-732fbe8beb35bfee0039825edb23dd9eR755"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(lastButTwoStatus)<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">FINALIZING</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-addition empty-cell"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="756" id="diff-732fbe8beb35bfee0039825edb23dd9eR756"></td>
<td class="blob-code blob-code-addition blob-code-marker-cell" data-code-marker="+">
</td>
<td class="blob-code blob-code-addition">
<span class="blob-code-inner">        assertThat(lastButThreeStatus)<span class="pl-k">.</span>isEqualTo(<span class="pl-c1">RESULT_UPLOADED</span>);</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="747" id="diff-732fbe8beb35bfee0039825edb23dd9eL747"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="757" id="diff-732fbe8beb35bfee0039825edb23dd9eR757"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner">    }</span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="748" id="diff-732fbe8beb35bfee0039825edb23dd9eL748"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="758" id="diff-732fbe8beb35bfee0039825edb23dd9eR758"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="749" id="diff-732fbe8beb35bfee0039825edb23dd9eL749"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="759" id="diff-732fbe8beb35bfee0039825edb23dd9eR759"></td>
<td class="blob-code blob-code-context blob-code-marker-cell" data-code-marker=" ">
</td>
<td class="blob-code blob-code-context">
<span class="blob-code-inner"><br/></span></td>
</tr>
<tr class="js-expandable-line" data-position="">
<td class="blob-num blob-num-expandable" colspan="2">
<a aria-label="Expand Down" class="js-expand directional-expander single-expander" data-left-range="750-1127" data-right-range="760-1127" data-url="/iExecBlockchainComputing/iexec-core/blob_excerpt/7efb40c61efab52e1612445bfc837f34dd28120f?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=749&amp;last_right=759&amp;left=1128&amp;left_hunk_size=&amp;mode=100644&amp;path=src%2Ftest%2Fjava%2Fcom%2Fiexec%2Fcore%2Ftask%2FTaskServiceTests.java&amp;right=1128&amp;right_hunk_size=" href="#diff-732fbe8beb35bfee0039825edb23dd9e" title="Expand Down">
<svg aria-hidden="true" class="octicon octicon-fold-down" height="16" version="1.1" viewbox="0 0 14 16" width="14"><path d="M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z" fill-rule="evenodd"></path></svg>
</a>
</td>
<td class="blob-code blob-code-inner blob-code-hunk" colspan="2"></td>
</tr>
</table>
</div>
</div>
</div>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-732fbe8beb35bfee0039825edb23dd9eL5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="5" id="diff-732fbe8beb35bfee0039825edb23dd9eR5"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-732fbe8beb35bfee0039825edb23dd9eL6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="6" id="diff-732fbe8beb35bfee0039825edb23dd9eR6"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-732fbe8beb35bfee0039825edb23dd9eL7"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="7" id="diff-732fbe8beb35bfee0039825edb23dd9eR7"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="8" id="diff-732fbe8beb35bfee0039825edb23dd9eR8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="8" id="diff-732fbe8beb35bfee0039825edb23dd9eL8"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-732fbe8beb35bfee0039825edb23dd9eR9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="9" id="diff-732fbe8beb35bfee0039825edb23dd9eL9"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-732fbe8beb35bfee0039825edb23dd9eR10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="10" id="diff-732fbe8beb35bfee0039825edb23dd9eL10"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="11" id="diff-732fbe8beb35bfee0039825edb23dd9eR11"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="56" id="diff-732fbe8beb35bfee0039825edb23dd9eL56"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="57" id="diff-732fbe8beb35bfee0039825edb23dd9eR57"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="57" id="diff-732fbe8beb35bfee0039825edb23dd9eL57"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="58" id="diff-732fbe8beb35bfee0039825edb23dd9eR58"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="58" id="diff-732fbe8beb35bfee0039825edb23dd9eL58"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-732fbe8beb35bfee0039825edb23dd9eR59"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="60" id="diff-732fbe8beb35bfee0039825edb23dd9eR60"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="61" id="diff-732fbe8beb35bfee0039825edb23dd9eR61"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="62" id="diff-732fbe8beb35bfee0039825edb23dd9eR62"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="59" id="diff-732fbe8beb35bfee0039825edb23dd9eL59"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="63" id="diff-732fbe8beb35bfee0039825edb23dd9eR63"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="60" id="diff-732fbe8beb35bfee0039825edb23dd9eL60"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="64" id="diff-732fbe8beb35bfee0039825edb23dd9eR64"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="61" id="diff-732fbe8beb35bfee0039825edb23dd9eL61"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="65" id="diff-732fbe8beb35bfee0039825edb23dd9eR65"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="263" id="diff-732fbe8beb35bfee0039825edb23dd9eL263"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="267" id="diff-732fbe8beb35bfee0039825edb23dd9eR267"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="264" id="diff-732fbe8beb35bfee0039825edb23dd9eL264"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="268" id="diff-732fbe8beb35bfee0039825edb23dd9eR268"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="265" id="diff-732fbe8beb35bfee0039825edb23dd9eL265"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="269" id="diff-732fbe8beb35bfee0039825edb23dd9eR269"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="266" id="diff-732fbe8beb35bfee0039825edb23dd9eL266"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="270" id="diff-732fbe8beb35bfee0039825edb23dd9eR270"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="271" id="diff-732fbe8beb35bfee0039825edb23dd9eR271"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="267" id="diff-732fbe8beb35bfee0039825edb23dd9eL267"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="272" id="diff-732fbe8beb35bfee0039825edb23dd9eR272"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="268" id="diff-732fbe8beb35bfee0039825edb23dd9eL268"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="273" id="diff-732fbe8beb35bfee0039825edb23dd9eR273"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="269" id="diff-732fbe8beb35bfee0039825edb23dd9eL269"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="274" id="diff-732fbe8beb35bfee0039825edb23dd9eR274"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="351" id="diff-732fbe8beb35bfee0039825edb23dd9eL351"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="356" id="diff-732fbe8beb35bfee0039825edb23dd9eR356"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="352" id="diff-732fbe8beb35bfee0039825edb23dd9eL352"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="357" id="diff-732fbe8beb35bfee0039825edb23dd9eR357"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="353" id="diff-732fbe8beb35bfee0039825edb23dd9eL353"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="358" id="diff-732fbe8beb35bfee0039825edb23dd9eR358"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="354" id="diff-732fbe8beb35bfee0039825edb23dd9eL354"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="359" id="diff-732fbe8beb35bfee0039825edb23dd9eR359"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="360" id="diff-732fbe8beb35bfee0039825edb23dd9eR360"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="361" id="diff-732fbe8beb35bfee0039825edb23dd9eR361"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="355" id="diff-732fbe8beb35bfee0039825edb23dd9eL355"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="362" id="diff-732fbe8beb35bfee0039825edb23dd9eR362"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="356" id="diff-732fbe8beb35bfee0039825edb23dd9eL356"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="363" id="diff-732fbe8beb35bfee0039825edb23dd9eR363"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="357" id="diff-732fbe8beb35bfee0039825edb23dd9eL357"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="364" id="diff-732fbe8beb35bfee0039825edb23dd9eR364"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="526" id="diff-732fbe8beb35bfee0039825edb23dd9eL526"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="533" id="diff-732fbe8beb35bfee0039825edb23dd9eR533"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="527" id="diff-732fbe8beb35bfee0039825edb23dd9eL527"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="534" id="diff-732fbe8beb35bfee0039825edb23dd9eR534"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="528" id="diff-732fbe8beb35bfee0039825edb23dd9eL528"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="535" id="diff-732fbe8beb35bfee0039825edb23dd9eR535"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="529" id="diff-732fbe8beb35bfee0039825edb23dd9eL529"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="536" id="diff-732fbe8beb35bfee0039825edb23dd9eR536"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="537" id="diff-732fbe8beb35bfee0039825edb23dd9eR537"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="530" id="diff-732fbe8beb35bfee0039825edb23dd9eL530"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="538" id="diff-732fbe8beb35bfee0039825edb23dd9eR538"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="531" id="diff-732fbe8beb35bfee0039825edb23dd9eL531"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="539" id="diff-732fbe8beb35bfee0039825edb23dd9eR539"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="532" id="diff-732fbe8beb35bfee0039825edb23dd9eL532"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="540" id="diff-732fbe8beb35bfee0039825edb23dd9eR540"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="693" id="diff-732fbe8beb35bfee0039825edb23dd9eL693"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="701" id="diff-732fbe8beb35bfee0039825edb23dd9eR701"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="694" id="diff-732fbe8beb35bfee0039825edb23dd9eL694"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="702" id="diff-732fbe8beb35bfee0039825edb23dd9eR702"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="695" id="diff-732fbe8beb35bfee0039825edb23dd9eL695"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="703" id="diff-732fbe8beb35bfee0039825edb23dd9eR703"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="704" id="diff-732fbe8beb35bfee0039825edb23dd9eR704"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="696" id="diff-732fbe8beb35bfee0039825edb23dd9eL696"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="705" id="diff-732fbe8beb35bfee0039825edb23dd9eR705"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="697" id="diff-732fbe8beb35bfee0039825edb23dd9eL697"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="706" id="diff-732fbe8beb35bfee0039825edb23dd9eR706"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="698" id="diff-732fbe8beb35bfee0039825edb23dd9eL698"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="707" id="diff-732fbe8beb35bfee0039825edb23dd9eR707"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="738" id="diff-732fbe8beb35bfee0039825edb23dd9eL738"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="747" id="diff-732fbe8beb35bfee0039825edb23dd9eR747"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="739" id="diff-732fbe8beb35bfee0039825edb23dd9eL739"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="748" id="diff-732fbe8beb35bfee0039825edb23dd9eR748"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="740" id="diff-732fbe8beb35bfee0039825edb23dd9eL740"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="749" id="diff-732fbe8beb35bfee0039825edb23dd9eR749"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="741" id="diff-732fbe8beb35bfee0039825edb23dd9eL741"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="742" id="diff-732fbe8beb35bfee0039825edb23dd9eL742"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="750" id="diff-732fbe8beb35bfee0039825edb23dd9eR750"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="751" id="diff-732fbe8beb35bfee0039825edb23dd9eR751"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="743" id="diff-732fbe8beb35bfee0039825edb23dd9eL743"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="752" id="diff-732fbe8beb35bfee0039825edb23dd9eR752"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="744" id="diff-732fbe8beb35bfee0039825edb23dd9eL744"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="745" id="diff-732fbe8beb35bfee0039825edb23dd9eL745"></td>
<td class="blob-num blob-num-deletion js-linkable-line-number" data-line-number="746" id="diff-732fbe8beb35bfee0039825edb23dd9eL746"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="753" id="diff-732fbe8beb35bfee0039825edb23dd9eR753"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="754" id="diff-732fbe8beb35bfee0039825edb23dd9eR754"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="755" id="diff-732fbe8beb35bfee0039825edb23dd9eR755"></td>
<td class="blob-num blob-num-addition js-linkable-line-number" data-line-number="756" id="diff-732fbe8beb35bfee0039825edb23dd9eR756"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="747" id="diff-732fbe8beb35bfee0039825edb23dd9eL747"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="757" id="diff-732fbe8beb35bfee0039825edb23dd9eR757"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="748" id="diff-732fbe8beb35bfee0039825edb23dd9eL748"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="758" id="diff-732fbe8beb35bfee0039825edb23dd9eR758"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="749" id="diff-732fbe8beb35bfee0039825edb23dd9eL749"></td>
<td class="blob-num blob-num-context js-linkable-line-number" data-line-number="759" id="diff-732fbe8beb35bfee0039825edb23dd9eR759"></td>
<clippath id="diff-placeholder">
<rect height="11.9298746" rx="2" width="67.0175439" x="0" y="0"></rect>
<rect height="11.9298746" rx="2" width="100.701754" x="18.9473684" y="47.7194983"></rect>
<rect height="11.9298746" rx="2" width="37.8947368" x="0" y="71.930126"></rect>
<rect height="11.9298746" rx="2" width="53.3333333" x="127.017544" y="48.0703769"></rect>
<rect height="11.9298746" rx="2" width="72.9824561" x="187.719298" y="48.0703769"></rect>
<rect height="11.9298746" rx="2" width="140.350877" x="76.8421053" y="0"></rect>
<rect height="11.9298746" rx="2" width="140.350877" x="17.8947368" y="23.8597491"></rect>
<rect height="11.9298746" rx="2" width="173.684211" x="166.315789" y="23.8597491"></rect>
</clippath>
<lineargradient id="animated-diff-gradient" spreadmethod="reflect" x1="0" x2="0" y1="0" y2="1">
<stop offset="0" stop-color="#eee"></stop>
<stop offset="0.2" stop-color="#eee"></stop>
<stop offset="0.5" stop-color="#ddd"></stop>
<stop offset="0.8" stop-color="#eee"></stop>
<stop offset="1" stop-color="#eee"></stop>
<animatetransform attributename="y1" dur="1s" repeatcount="3" values="0%; 100%; 0"></animatetransform>
<animatetransform attributename="y2" dur="1s" repeatcount="3" values="100%; 200%; 0"></animatetransform>
</lineargradient>
